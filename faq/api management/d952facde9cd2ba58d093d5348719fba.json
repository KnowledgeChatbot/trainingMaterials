{"Questions":["是否可以使用 AD FS 安全配置 OAuth 2.0 授权服务器？","能不能使用 AD FS 安全配置 OAuth 2.0 授权服务器？"],"Answer":"若要了解如何使用 Active Directory 联合身份验证服务 (AD FS) 安全配置 OAuth 2.0 授权服务器，请参阅[在 API 管理中使用 ADFS](https://phvbaars.wordpress.com/2016/02/06/using-adfs-in-api-management/)。### 向多个地理位置进行部署时，API 管理使用何种路由方法？向多个地理位置进行部署时，API 管理使用[性能流量路由方法](https://docs.azure.cn/traffic-manager/traffic-manager-routing-methods#priority)。 传入流量将路由到最近的 API 网关。 如果一个区域处于脱机状态，则传入流量会自动路由到下一个最近的网关。 在[流量管理器路由方法](https://docs.azure.cn/traffic-manager/traffic-manager-routing-methods)中了解有关路由方法的详细信息。### 是否可以使用 Azure 资源管理器模板创建 API 管理服务实例？是的。 请参阅 [Azure API 管理服务](http://aka.ms/apimtemplate)快速入门模板。### 是否可以为后端使用自签名 SSL 证书？是的。 可以通过 PowerShell 或直接提交到 API 来完成此操作。 这将禁用证书链验证，并将允许在从 API 管理与后端服务进行通信时使用自签名或私人签名证书。#### Powershell 方法使用 [`New-AzureRmApiManagementBackend`](https://docs.microsoft.com/en-us/powershell/module/azurerm.apimanagement/new-azurermapimanagementbackend)（适用于新后端）或 [`Set-AzureRmApiManagementBackend`](https://docs.microsoft.com/en-us/powershell/module/azurerm.apimanagement/set-azurermapimanagementbackend)（适用于现有后端）PowerShell cmdlet 并将 `-SkipCertificateChainValidation` 参数设置设为 `True`。 `$context = New-AzureRmApiManagementContext -resourcegroup 'ContosoResourceGroup' -servicename 'ContosoAPIMService' New-AzureRmApiManagementBackend -Context $context -Url 'https://contoso.com/myapi' -Protocol http -SkipCertificateChainValidation $true `#### 直接 API 更新方法1.  使用 API 管理创建[后端](https://msdn.microsoft.com/library/azure/dn935030.aspx)实体。 \\n2.  将\"skipCertificateChainValidation\"属性设置为\"true\"。 \\n3.  如果不再希望允许自签名证书，请删除后端实体，或将\"skipCertificateChainValidation\"属性设置为\"false\"。### 为何在尝试克隆 Git 存储库时出现身份验证失败？如果使用 Git 凭据管理器，或者正在尝试使用 Visual Studio 克隆 Git 存储库，可能遇到\"Windows 凭据\"对话框的已知问题。 该对话框将密码长度限制为 127 个字符，并截断 Microsoft 生成的密码。 我们正致力于缩短密码。 目前请使用 Git Bash 克隆 Git 存储库。### API 管理是否适用于 Azure ExpressRoute？是的。 API 管理适用于 Azure ExpressRoute。### 为什么在资源管理器模式的 VNET 中部署 API 管理时需要专用子网？API 管理需要专用子网，因为它建立在经典（PAAS V1 层）部署模型之上。 虽然也可以在资源管理器 VNET（V2 层）中进行部署，但这样会导致后续问题。 Azure 中的经典部署模型与资源管理器模型结合不紧密，因此如果在 V2 层中创建资源，V1 层会毫不知情，这样会发生问题，例如 API 管理会尝试使用已经分配给 NIC（在 V2 上构建）的 IP。 若要深入了解 Azure 中经典模型和资源管理器模型的差异，请参阅[部署模型的差异](https://docs.azure.cn/azure-resource-manager/resource-manager-deployment-model)。### 在 VNET 中部署 API 管理时所需的最小子网大小是多少？部署 API 管理所需的最小子网大小为 [/29](https://docs.azure.cn/virtual-network/virtual-networks-faq#configuration)，这是 Azure 支持的最小子网大小。### 是否可将 API 管理服务从一个订阅移到另一个订阅？是的。 要了解操作方法，请参阅[将资源移动到新资源组或订阅](https://docs.azure.cn/azure-resource-manager/resource-group-move-resources)。### 导入 API 是否存在限制或已知问题？[Open API(Swagger)、WSDL 和 WADL 格式的已知问题和限制](https://docs.azure.cn/api-management/api-management-api-import-restrictions)。\\n"}