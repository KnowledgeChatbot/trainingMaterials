{"Title":"Azure IoT 中心缩放","Description":"如何缩放 IoT 中心来支持预期的消息吞吐量。 概括介绍了分片选项和每层支持的吞吐量","Content":"# <a name=\"scale-your-iot-hub-solution\"></a>缩放 IoT 中心解决方案\r\nAzure IoT 中心可支持多达一百万台设备同时连接。 有关详细信息，请参阅 [IoT 中心定价][lnk-pricing]。 每个 IoT 中心计价单位允许特定数量的日常消息。\r\n\r\n为了正确缩放解决方案，必须考虑 IoT 中心的特定用法。 尤其要考虑以下类别的操作所需的高峰吞吐量：\r\n\r\n* 设备到云的消息\r\n* 云到设备的消息\r\n* 标识注册表操作\r\n\r\n除了此吞吐量信息，另请参阅 [IoT 中心配额和限制][IoT Hub quotas and throttles]，并相应地设计解决方案。\r\n\r\n## <a name=\"device-to-cloud-and-cloud-to-device-message-throughput\"></a>设备到云和云到设备的消息吞吐量\r\n若要基于每个单位评估流量，最佳方式是调整 IoT 中心解决方案的大小。\r\n\r\n设备到云的消息遵循以下持续吞吐量指导原则。\r\n\r\n| 层 | 持续吞吐量 | 持续发送速率 |\r\n| --- | --- | --- |\r\n| S1 |每个单元最多 1111 KB/分钟<br/>（1.5 GB/天/单元） |每个单元平均 278 条消息/分钟<br/>（400000 条消息/天/单元） |\r\n| S2 |每个单元最多 16 MB/分钟<br/>（22.8 GB/天/单元） |每个单元平均 4,167 条消息/分钟<br/>（600 万条消息/天/单元） |\r\n| S3 | 每个单元最多 814 MB/分钟<br/>（1144.4 GB/天/单元） | 每个单元平均 208,333 条消息/分钟<br/>（3 亿条消息/天/单元） |\r\n\r\n## <a name=\"identity-registry-operation-throughput\"></a>标识注册表操作吞吐量\r\n\r\n由于大多数 IoT 中心标识注册表操作都与设备预配相关，因此不认为这些操作是运行时操作。\r\n\r\n有关具体的突发性能数字，请参阅 [IoT 中心配额和限制][IoT Hub quotas and throttles]。\r\n\r\n## <a name=\"sharding\"></a>分片\r\n尽管单个 IoT 中心可以扩展到数百万个设备，但有时解决方案所需的具体性能特征无法由单个 IoT 中心提供保证。 在此情况下，建议将设备分区成多个 IoT 中心。 多个 IoT 中心可以缓解流量喷发，并获得所需的吞吐量或操作速率。\r\n\r\n## <a name=\"next-steps\"></a>后续步骤\r\n若要进一步探索 IoT 中心的功能，请参阅：\r\n\r\n* [IoT 中心开发人员指南][lnk-devguide]\r\n* [使用 Azure IoT Edge 将 AI 部署到边缘设备][lnk-iotedge]\r\n\r\n[lnk-pricing]: https://www.azure.cn/pricing/details/iot-hub\r\n[IoT Hub quotas and throttles]: ./iot-hub-devguide-quotas-throttling.md\r\n\r\n[lnk-devguide]: ./iot-hub-devguide.md\r\n[lnk-iotedge]: ./iot-hub-linux-iot-edge-simulated-device.md\r\n\r\n<!--Update_Description:update meta data and wording-->"}