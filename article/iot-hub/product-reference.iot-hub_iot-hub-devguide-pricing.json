{"Title":"了解 Azure IoT 中心定价","Description":"开发人员指南 - 介绍了如何实现 IoT 中心（包括样例）的计数和定价。","Content":"# <a name=\"azure-iot-hub-pricing-information\"></a>Azure IoT 中心定价信息\r\n\r\n[Azure IoT 中心定价][lnk-pricing]概述了 IoT 中心的不同 SKU 和定价。本文还详述了 IoT 中心如何按消息对各种 IoT 中心功能计费。\r\n\r\n## <a name=\"charges-per-operation\"></a>每个操作的费用\r\n\r\n| 操作 | 计费信息 | \r\n| --------- | ------------------- |\r\n| 标识注册表操作 <br/> （创建、检索、列出、更新、删除） | 不收费。 |\r\n| 设备到云的消息 | 成功发送的消息按流入 IoT 中心的 4-KB 区块大小为单位收费，例如，1 条 6-KB 的消息按 2 条消息收费。 |\r\n| 云到设备的消息 | 成功发送的消息按 4-KB 区块大小为单位收费，例如，1 条 6-KB 的消息按 2 条消息收费。 |\r\n| 文件上传 | 向 Azure 存储传输文件时，不通过 IoT 中心计费。 文件传输时的启动消息和完成消息按 4-KB 增量数计费。 例如，传输一个 10-MB 的文件时，会在 Azure 存储费用的基础上收取两条消息的费用。 |\r\n| 直接方法 | 成功的方法请求按 4-KB 区块大小为单位收费，正文非空的响应按附加消息以 4-KB 为单位收费。 向已断开连接的设备发出的请求按消息以 4-KB 块大小为单位收费。 例如，如果某方法的正文为 6-KB 且引发的设备响应没有正文，则按两条消息收费；如果某方法的正文为 6-KB 且引发的设备响应为 1-KB，则请求按两条消息收费，响应按 1 条消息收费。 |\r\n| 设备孪生读取 | 如果设备孪生从设备和解决方案后端进行读取，则将其作为消息以 512 字节块大小为单位收费。 例如，读取 6-KB 的设备孪生按 12 条消息收费。 |\r\n| 设备孪生更新（标记和属性） | 如果设备孪生从设备和解决方案后端进行更新，则将其作为消息以 512 字节块大小为单位收费。 例如，读取 6-KB 的设备孪生按 12 条消息收费。 |\r\n| 设备孪生查询 | 查询根据结果大小按消息以 512 字节块大小为单位收费。 |\r\n| 作业操作 <br/> （创建、更新、列表、删除） | 不收费。 |\r\n| 作业的每设备操作数 | 作业操作（例如设备孪生更新和方法）正常收费。 例如，如果某作业生成 1000 个含 1-KB 请求的方法调用和正文为空的响应，则按 1000 条消息收费。 |\r\n\r\n> [!NOTE]\r\n> 所有大小均按以字节为单位的有效负载大小进行计算（忽略协议组帧）。 就消息（包含属性和正文）来说，大小以无关协议的方式计算，详见 [IoT 中心消息传送开发人员指南][lnk-message-size]。\r\n\r\n## <a name=\"example-1\"></a>示例 #1\r\n\r\n某个设备每分钟将一条 1KB 的设备到云的消息发送到 IoT 中心，该消息随后由 Azure 流分析读取。 解决方案后端每 10 分钟调用设备上的 1 个方法（有效负载为 512 字节），以便触发特定操作。 设备以 200 字节大小的结果响应方法。\r\n\r\n对于从设备到云的消息，设备每天使用 1 条消息 * 60 分钟 * 24 小时 = 1440 条消息；而对于方法，则为 2（请求加响应）* 6 次/小时 * 24 小时 = 288 条消息，总计 1728 条消息/天。\r\n\r\n## <a name=\"example-2\"></a>示例 2\r\n\r\n某设备每小时发送 1 条 100-KB 的设备到云的消息。 且每 4 小时更新一次有效负载为 1-KB 的设备孪生。 解决方案后端每天读取一次 14-KB 的设备孪生并使用 512 字节的有效负载更新一次，进而更改配置。\r\n\r\n对于设备到云的消息，设备使用的消息数为：25 (100KB / 4KB) 条消息 * 24 小时，再加上进行设备孪生更新的消息数：2 条消息 (1KB / 0.5KB) * 6 次/天，总计 612 条消息/天。\r\n解决方案后端使用 28 条消息 (14KB/0.5KB) 读取设备孪生，并使用 1 条消息进行更新，总计 29 条消息。\r\n\r\n设备和解决方案后端每天总共使用 641 条消息。\r\n\r\n[lnk-pricing]: https://www.azure.cn/pricing/details/iot-hub\r\n[lnk-message-size]: ./iot-hub-devguide-messages-construct.md\r\n\r\n\r\n<!--Update_Description:update wording and link references-->"}