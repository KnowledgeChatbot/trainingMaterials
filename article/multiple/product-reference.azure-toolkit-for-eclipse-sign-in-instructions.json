{"Title":"用于 Eclipse 的 Azure 工具包的登录说明","Description":"了解如何使用用于 Eclipse 的 Azure 工具包登录到 Azure。","Content":"# <a name=\"azure-sign-in-instructions-for-the-azure-toolkit-for-eclipse\"></a>用于 Eclipse 的 Azure 工具包的 Azure 登录说明\r\n\r\n用于 Eclipse 的 Azure 工具包提供了两种用于登录到 Azure 帐户的方法：\r\n\r\n  - 自动 - 如果使用此方法，将创建一个包含服务主体数据的凭据文件，之后可以使用该凭据文件自动登录到 Azure 帐户。\r\n  - 交互式 - 如果使用此方法，每次登录 Azure 帐户时，都需要输入 Azure 凭据。\r\n\r\n以下部分中的步骤介绍如何使用每个方法。\r\n\r\n[!INCLUDE [azure-toolkit-for-eclipse-prerequisites](../includes/azure-toolkit-for-eclipse-prerequisites.md)]\r\n\r\n## 使用 Eclipse，连接中国区 Azure\r\n\r\n1. 在 Eclipse 中安装**最新版**的 Azure Toolkits for Eclipse 插件（参考[安装指南](/java/eclipse/azure-toolkit-for-eclipse-installation)）。\r\n2. 在文件目录 **\\<userhome\\>\\AzureToolsForEclipse** 下创建新文件 “**AadProvider.json**” 并对文件进行如下修改：\r\n    \r\n    ```\r\n    {\r\n    \"EnvironmentName\": \"CHINA\"\r\n    }\r\n    ```\r\n3. 保存该文件后重启 Eclipse，此时使用 Azure Explorer 的 Interactive mode 登陆时登录信息将连接到中国区 Azure 服务。\r\n\r\n## 自动登录到 Azure 帐户并创建凭据文件，以便在将来使用\r\n\r\n以下步骤将引导完成创建一个包含服务主体数据的凭据文件。 完成这些步骤后，每次打开项目时，Eclipse 都会自动使用凭据文件自动登录到 Azure。\r\n\r\n1. 使用 Eclipse 打开项目。\r\n\r\n2. 依次单击“工具”、“Azure”、“登录”。\r\n\r\n    ![Eclipse Menu for Azure Sign In][A01]\r\n\r\n3. 显示“Azure 登录”对话框时，选择“自动”，并单击“新建”。\r\n\r\n    ![Sign In Dialog Box][A02]\r\n\r\n4. 显示“Azure 登录”对话框时，输入 Azure 凭据，并单击“登录”。\r\n\r\n    ![Azure Log In Dialog Box][A03]\r\n\r\n5. 显示“创建身份验证文件”对话框时，选择要使用的订阅，选择目标目录，并单击“启动”。\r\n\r\n    ![Azure Log In Dialog Box][A04]\r\n\r\n6. 此时会显示“服务主体创建状态”对话框，成功创建文件后，单击“确定”。\r\n\r\n    ![Service Principal Creatation Status Dialog Box][A05]\r\n\r\n7. 显示“Azure 登录”对话框时，单击“登录”。\r\n\r\n    ![Azure Log In Dialog Box][A06]\r\n\r\n8. 显示“选择订阅”对话框时，选择要使用的订阅，并单击“确定”。\r\n\r\n    ![Select Subscriptions Dialog Box][A07]\r\n\r\n\r\n## 已自动登录时，从 Azure 帐户中注销\r\n\r\n按照上一部分中的步骤配置后，每次重新启动 Eclipse 时，Azure 工具包都会你将自动登录到 Azure 帐户。 但是，要注销 Azure 帐户并禁止 Azure 工具包你将自动登录，请使用以下步骤。\r\n\r\n1. 在 Eclipse 中，依次单击“工具”、“Azure”、“注销”。\r\n\r\n    ![Eclipse Menu for Azure Sign Out][L01]\r\n\r\n2. 显示“Azure 注销”对话框时，单击“是”。\r\n\r\n    ![Sign Out Dialog Box][L03]\r\n\r\n## <a name=\"signing-into-your-azure-account-automatically-using-a-credentials-file-which-you-have-already-created\"></a>使用已创建的凭据文件自动登录到 Azure 帐户\r\n\r\n如果在使用 Eclipse 时从 Azure 中注销，则需要重新配置用于 Eclipse 的 Azure 工具包以使用已创建的凭据文件，才能自动登录到 Azure 帐户。 以下步骤介绍如何配置 Azure 工具包以使用现有凭据文件。\r\n\r\n1. 使用 Eclipse 打开项目。\r\n\r\n1. 依次单击“工具”、“Azure”、“登录”。\r\n\r\n   ![用于 Azure 登录的 Eclipse 菜单][A01]\r\n\r\n1. 显示“Azure 登录”对话框时，选择“自动”，并单击“浏览”。\r\n\r\n   ![“登录”对话框][A02]\r\n\r\n1. 显示“选择已验证文件”对话框时，选择先前创建的凭据文件，并单击“选择”。\r\n\r\n   ![“登录”对话框][A08]\r\n\r\n1. 显示“Azure 登录”对话框时，单击“登录”。\r\n\r\n   ![“Azure 登录”对话框][A06]\r\n\r\n1. 显示“选择订阅”对话框时，选择要使用的订阅，并单击“确定”。\r\n\r\n   ![“选择订阅”对话框][A07]\r\n\r\n## 以交互方式登录到 Azure 帐户\r\n\r\n以下步骤将说明如何通过手动输入 Azure 凭据登录到 Azure。\r\n\r\n1. 使用 Eclipse 打开项目。\r\n\r\n2. 依次单击“工具”、“Azure”、“登录”。\r\n\r\n    ![Sign In Dialog Box][I01]\r\n\r\n3. 显示“Azure 登录”对话框时，选择“交互式”，并单击“登录”。\r\n\r\n    ![Azure Log In Dialog Box][I02]\r\n\r\n4. 显示“Azure 登录”对话框时，输入 Azure 凭据，并单击“登录”。\r\n \r\n    ![Azure Log In Dialog Box][I03]\r\n\r\n5. 显示“选择订阅”对话框时，选择要使用的订阅，并单击“确定”。\r\n\r\n    ![Select Subscriptions Dialog Box][I04]\r\n\r\n## 已以交互方式登录时，从 Azure 帐户中注销\r\n\r\n按照上一部分中的步骤配置后，每次重新启动 Eclipse 时，都会自动从 Azure 帐户中注销。 但是，如果要在不重新启动 Eclipse 的情况下注销 Azure 帐户，请使用以下步骤。\r\n\r\n1. 在 Eclipse 中，依次单击“工具”、“Azure”、“注销”。\r\n\r\n   ![Eclipse Menu for Azure Sign Out][L01]\r\n\r\n1. 显示“Azure 注销”对话框时，单击“是”。\r\n\r\n   ![Sign Out Dialog Box][L02]\r\n\r\n## <a name=\"next-steps\"></a>后续步骤\r\n\r\n[!INCLUDE [azure-toolkit-additional-resources](../includes/azure-toolkit-additional-resources.md)]\r\n\r\n<!-- URL List -->\r\n\r\n\r\n[Azure Java Developer Center]: /develop/java/\r\n[Java Tools for Visual Studio Team Services]: https://java.visualstudio.com/\r\n\r\n<!-- IMG List -->\r\n\r\n[I01]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/I01.png\r\n[I02]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/I02.png\r\n[I03]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/I03.png\r\n[I04]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/I04.png\r\n\r\n[A01]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A01.png\r\n[A02]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A02.png\r\n[A03]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A03.png\r\n[A04]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A04.png\r\n[A05]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A05.png\r\n[A06]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A06.png\r\n[A07]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A07.png\r\n[A08]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/A08.png\r\n\r\n[L01]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/L01.png\r\n[L02]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/L02.png\r\n[L03]: ./media/azure-toolkit-for-eclipse-sign-in-instructions/L03.png\r\n"}