{"Title":"Azure Resource Manager 模板函数 - 比较","Description":"介绍可在 Azure Resource Manager 模板中使用的用于比较值的函数。","Content":"# <a name=\"comparison-functions-for-azure-resource-manager-templates\"></a>用于 Azure Resource Manager 模板的比较函数\r\n\r\nResource Manager 提供了多个用于在模板中进行比较的函数。\r\n\r\n* [equals](#equals)\r\n* [greater](#greater)\r\n* [greaterOrEquals](#greaterorequals)\r\n* [less](#less)\r\n* [lessOrEquals](#lessorequals)\r\n\r\n## <a name=\"equals\"></a>equals\r\n`equals(arg1, arg2)`\r\n\r\n检查两个值是否相等。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |int、string、array 或 object |要检查是否相等的第一个值。 |\r\n| arg2 |是 |int、string、array 或 object |要检查是否相等的第二个值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果值相等，返回 **True**；否则返回 **False**。\r\n\r\n### <a name=\"remarks\"></a>备注\r\n\r\nequals 函数通常与 `condition` 元素一起使用来测试资源是否已部署。\r\n\r\n```json\r\n{\r\n    \"condition\": \"[equals(parameters('newOrExisting'),'new')]\",\r\n    \"type\": \"Microsoft.Storage/storageAccounts\",\r\n    \"name\": \"[variables('storageAccountName')]\",\r\n    \"apiVersion\": \"2017-06-01\",\r\n    \"location\": \"[resourceGroup().location]\",\r\n    \"sku\": {\r\n        \"name\": \"[variables('storageAccountType')]\"\r\n    },\r\n    \"kind\": \"Storage\",\r\n    \"properties\": {}\r\n}\r\n```\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/equals.json)检查不同类型的值是否相等。 所有默认值都返回 True。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"secondInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"firstString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        },\r\n        \"secondString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        },\r\n        \"firstArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"a\", \"b\"]\r\n        },\r\n        \"secondArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"a\", \"b\"]\r\n        },\r\n        \"firstObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"a\": \"b\"}\r\n        },\r\n        \"secondObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"a\": \"b\"}\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"checkInts\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[equals(parameters('firstInt'), parameters('secondInt') )]\"\r\n        },\r\n        \"checkStrings\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[equals(parameters('firstString'), parameters('secondString'))]\"\r\n        },\r\n        \"checkArrays\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[equals(parameters('firstArray'), parameters('secondArray'))]\"\r\n        },\r\n        \"checkObjects\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[equals(parameters('firstObject'), parameters('secondObject'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n采用默认值，前面示例的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| checkInts | Bool | True |\r\n| checkStrings | Bool | True |\r\n| checkArrays | Bool | True |\r\n| checkObjects | Bool | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/equals.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/equals.json \r\n```\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/not-equals.json)结合使用 not 和 **equals**[](resource-group-template-functions-logical.md#not)。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"checkNotEquals\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[not(equals(1, 2))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n前述示例的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| checkNotEquals | Bool | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/not-equals.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/not-equals.json \r\n```\r\n\r\n## <a name=\"greater\"></a>greater\r\n`greater(arg1, arg2)`\r\n\r\n检查第一个值是否大于第二个值。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |int 或 string |用于大于比较的第一个值。 |\r\n| arg2 |是 |int 或 string |用于大于比较的第二个值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果第一个值大于第二个值，返回 **True**；否则返回 **False**。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/greater.json)检查一个值是否大于另一个值。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"secondInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        },\r\n        \"firstString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"A\"\r\n        },\r\n        \"secondString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"checkInts\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[greater(parameters('firstInt'), parameters('secondInt') )]\"\r\n        },\r\n        \"checkStrings\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[greater(parameters('firstString'), parameters('secondString'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| checkInts | Bool | False |\r\n| checkStrings | Bool | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greater.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greater.json \r\n```\r\n\r\n## <a name=\"greaterorequals\"></a>greaterOrEquals\r\n`greaterOrEquals(arg1, arg2)`\r\n\r\n检查第一个值是否大于或等于第二个值。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |int 或 string |用于大于或等于比较的第一个值。 |\r\n| arg2 |是 |int 或 string |用于大于或等于比较的第二个值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果第一个值大于或等于第二个值，返回 **True**；否则返回 **False**。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/greaterorequals.json)检查一个值是否大于等于另一个值。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"secondInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        },\r\n        \"firstString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"A\"\r\n        },\r\n        \"secondString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"checkInts\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[greaterOrEquals(parameters('firstInt'), parameters('secondInt') )]\"\r\n        },\r\n        \"checkStrings\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[greaterOrEquals(parameters('firstString'), parameters('secondString'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| checkInts | Bool | False |\r\n| checkStrings | Bool | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greaterorequals.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greaterorequals.json \r\n```\r\n\r\n## <a name=\"less\"></a>less\r\n`less(arg1, arg2)`\r\n\r\n检查第一个值是否小于第二个值。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |int 或 string |用于小于比较的第一个值。 |\r\n| arg2 |是 |int 或 string |用于小于比较的第二个值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果第一个值小于第二个值，返回 **True**；否则返回 **False**。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/less.json)检查一个值是否小于另一个值。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"secondInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        },\r\n        \"firstString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"A\"\r\n        },\r\n        \"secondString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"checkInts\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[less(parameters('firstInt'), parameters('secondInt') )]\"\r\n        },\r\n        \"checkStrings\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[less(parameters('firstString'), parameters('secondString'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| checkInts | Bool | True |\r\n| checkStrings | Bool | False |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/less.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/less.json \r\n```\r\n\r\n## <a name=\"lessorequals\"></a>lessOrEquals\r\n`lessOrEquals(arg1, arg2)`\r\n\r\n检查第一个值是否小于或等于第二个值。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |int 或 string |用于小于或等于比较的第一个值。 |\r\n| arg2 |是 |int 或 string |用于小于或等于比较的第二个值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果第一个值小于或等于第二个值，返回 **True**；否则返回 **False**。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/lessorequals.json)检查一个值是否小于等于另一个值。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"secondInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        },\r\n        \"firstString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"A\"\r\n        },\r\n        \"secondString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"checkInts\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[lessOrEquals(parameters('firstInt'), parameters('secondInt') )]\"\r\n        },\r\n        \"checkStrings\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[lessOrEquals(parameters('firstString'), parameters('secondString'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| checkInts | Bool | True |\r\n| checkStrings | Bool | False |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/lessorequals.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/lessorequals.json \r\n```\r\n## <a name=\"next-steps\"></a>后续步骤\r\n* 有关 Azure Resource Manager 模板中各部分的说明，请参阅 [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md)（创作 Azure Resource Manager 模板）。\r\n* 若要合并多个模板，请参阅[将链接的模板与 Azure Resource Manager 配合使用](resource-group-linked-templates.md)。\r\n* 若要在创建资源类型时迭代指定的次数，请参阅[在 Azure Resource Manager 中创建多个资源实例](resource-group-create-multiple.md)。\r\n* 若要查看如何部署已创建的模板，请参阅[使用 Azure Resource Manager 模板部署应用程序](resource-group-template-deploy.md)。\r\n\r\n<!--Update_Description: update meta properties, add azure cli and powershell command example block-->"}