{"Title":"Azure Resource Manager 模板函数 - 数组和对象","Description":"介绍可在 Azure Resource Manager 模板中用来处理数组和对象的函数。","Content":"# <a name=\"array-and-object-functions-for-azure-resource-manager-templates\"></a>用于 Azure Resource Manager 模板的数组和对象函数 \r\n\r\nResource Manager 提供以下用于处理数组和对象的函数。\r\n\r\n* [array](#array)\r\n* [coalesce](#coalesce)\r\n* [concat](#concat)\r\n* [contains](#contains)\r\n* [createArray](#createarray)\r\n* [empty](#empty)\r\n* [first](#first)\r\n* [intersection](#intersection)\r\n* [json](#json)\r\n* [last](#last)\r\n* [length](#length)\r\n* [max](#max)\r\n* [min](#min)\r\n* [range](#range)\r\n* [skip](#skip)\r\n* [take](#take)\r\n* [union](#union)\r\n\r\n若要获取由某个值分隔的字符串值数组，请参阅 [split](resource-group-template-functions-string.md#split)。\r\n\r\n<a id=\"array\" />\r\n\r\n## <a name=\"array\"></a>Array\r\n`array(convertToArray)`\r\n\r\n将值转换为数组。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| convertToArray |是 |整数、字符串、数组或对象 |要转换为数组的值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n一个数组。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/array.json)演示如何对不同的类型使用 array 函数。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"intToConvert\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 1\r\n        },\r\n        \"stringToConvert\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"a\"\r\n        },\r\n        \"objectToConvert\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"a\": \"b\", \"c\": \"d\"}\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"intOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[array(parameters('intToConvert'))]\"\r\n        },\r\n        \"stringOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[array(parameters('stringToConvert'))]\"\r\n        },\r\n        \"objectOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[array(parameters('objectToConvert'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| intOutput | Array | [1] |\r\n| stringOutput | Array | [\"a\"] |\r\n| objectOutput | Array | [{\"a\": \"b\", \"c\": \"d\"}] |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/array.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/array.json\r\n```\r\n\r\n<a id=\"coalesce\" />\r\n\r\n## <a name=\"coalesce\"></a>coalesce\r\n`coalesce(arg1, arg2, arg3, ...)`\r\n\r\n从参数中返回第一个非 null 值。 空字符串、空数组和空对象不为 null。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |整数、字符串、数组或对象 |要测试是否为 null 的第一个值。 |\r\n| 其他参数 |否 |整数、字符串、数组或对象 |要测试是否为 null 的其他值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n第一个非 null 参数的值，可以是字符串、整数、数组或对象。 如果所有参数都为 null，则为 null。 \r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/coalesce.json)显示 coalesce 不同用法的输出。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"objectToTest\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\r\n                \"null1\": null, \r\n                \"null2\": null,\r\n                \"string\": \"default\",\r\n                \"int\": 1,\r\n                \"object\": {\"first\": \"default\"},\r\n                \"array\": [1]\r\n            }\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"stringOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[coalesce(parameters('objectToTest').null1, parameters('objectToTest').null2, parameters('objectToTest').string)]\"\r\n        },\r\n        \"intOutput\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[coalesce(parameters('objectToTest').null1, parameters('objectToTest').null2, parameters('objectToTest').int)]\"\r\n        },\r\n        \"objectOutput\": {\r\n            \"type\": \"object\",\r\n            \"value\": \"[coalesce(parameters('objectToTest').null1, parameters('objectToTest').null2, parameters('objectToTest').object)]\"\r\n        },\r\n        \"arrayOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[coalesce(parameters('objectToTest').null1, parameters('objectToTest').null2, parameters('objectToTest').array)]\"\r\n        },\r\n        \"emptyOutput\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[empty(coalesce(parameters('objectToTest').null1, parameters('objectToTest').null2))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| stringOutput | String | 默认值 |\r\n| intOutput | int | 1 |\r\n| objectOutput | 对象 | {\"first\": \"default\"} |\r\n| arrayOutput | Array | [1] |\r\n| emptyOutput | Bool | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/coalesce.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/coalesce.json\r\n```\r\n\r\n<a id=\"concat\" />\r\n\r\n## <a name=\"concat\"></a>concat\r\n`concat(arg1, arg2, arg3, ...)`\r\n\r\n合并多个数组并返回串联的数组，或合并多个字符串值并返回串联的字符串。 \r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |数组或字符串 |要串联的第一个数组或字符串。 |\r\n| 其他参数 |否 |数组或字符串 |按顺序排列的串联的其他数组或字符串。 |\r\n\r\n此函数可以使用任意数量的参数，并可接受字符串或数组作为参数。\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n由串联值构成的字符串或数组。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/concat-array.json)演示如何组合两个数组。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": { \r\n        \"firstArray\": { \r\n            \"type\": \"array\", \r\n            \"defaultValue\": [ \r\n                \"1-1\", \r\n                \"1-2\", \r\n                \"1-3\" \r\n            ] \r\n        },\r\n        \"secondArray\": {\r\n            \"type\": \"array\", \r\n            \"defaultValue\": [ \r\n                \"2-1\", \r\n                \"2-2\",\r\n                \"2-3\" \r\n            ] \r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"return\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[concat(parameters('firstArray'), parameters('secondArray'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| return | Array | [\"1-1\", \"1-2\", \"1-3\", \"2-1\", \"2-2\", \"2-3\"] |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/concat-array.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/concat-array.json\r\n```\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/concat-string.json)演示如何组合两个字符串值并返回串联的字符串。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"prefix\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"prefix\"\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"concatOutput\": {\r\n            \"value\": \"[concat(parameters('prefix'), '-', uniqueString(resourceGroup().id))]\",\r\n            \"type\" : \"string\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| concatOutput | String | prefix-5yj4yjf5mbg72 |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/concat-string.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/concat-string.json\r\n```\r\n\r\n<a id=\"contains\" />\r\n\r\n## <a name=\"contains\"></a>contains\r\n`contains(container, itemToFind)`\r\n\r\n检查数组是否包含某个值、某个对象是否包含某个键，或者某个字符串是否包含某个子字符串。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| container |是 |数组、对象或字符串 |包含要查找的值的值。 |\r\n| itemToFind |是 |字符串或整数 |要查找的值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果找到该项，则为 **True**；否则为 **False**。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/contains.json)演示如何对不同的类型使用 contains：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"stringToTest\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"OneTwoThree\"\r\n        },\r\n        \"objectToTest\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"one\": \"a\", \"two\": \"b\", \"three\": \"c\"}\r\n        },\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"one\", \"two\", \"three\"]\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"stringTrue\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[contains(parameters('stringToTest'), 'e')]\"\r\n        },\r\n        \"stringFalse\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[contains(parameters('stringToTest'), 'z')]\"\r\n        },\r\n        \"objectTrue\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[contains(parameters('objectToTest'), 'one')]\"\r\n        },\r\n        \"objectFalse\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[contains(parameters('objectToTest'), 'a')]\"\r\n        },\r\n        \"arrayTrue\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[contains(parameters('arrayToTest'), 'three')]\"\r\n        },\r\n        \"arrayFalse\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[contains(parameters('arrayToTest'), 'four')]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| stringTrue | Bool | True |\r\n| stringFalse | Bool | False |\r\n| objectTrue | Bool | True |\r\n| objectFalse | Bool | False |\r\n| arrayTrue | Bool | True |\r\n| arrayFalse | Bool | False |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/contains.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/contains.json\r\n```\r\n\r\n<a id=\"createarray\" />\r\n\r\n## <a name=\"createarray\"></a>createarray\r\n`createArray (arg1, arg2, arg3, ...)`\r\n\r\n从参数创建数组。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |字符串、整数、数组或对象 |数组中的第一个值。 |\r\n| 其他参数 |否 |字符串、整数、数组或对象 |数组中的其他值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n一个数组。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/createarray.json)演示如何对不同的类型使用 createArra：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"objectToTest\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"one\": \"a\", \"two\": \"b\", \"three\": \"c\"}\r\n        },\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"one\", \"two\", \"three\"]\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"stringArray\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[createArray('a', 'b', 'c')]\"\r\n        },\r\n        \"intArray\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[createArray(1, 2, 3)]\"\r\n        },\r\n        \"objectArray\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[createArray(parameters('objectToTest'))]\"\r\n        },\r\n        \"arrayArray\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[createArray(parameters('arrayToTest'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| stringArray | Array | [\"a\", \"b\", \"c\"] |\r\n| intArray | Array | [1, 2, 3] |\r\n| objectArray | Array | [{\"one\": \"a\", \"two\": \"b\", \"three\": \"c\"}] |\r\n| arrayArray | Array | [[\"one\", \"two\", \"three\"]] |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/createarray.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/createarray.json\r\n```\r\n\r\n<a id=\"empty\" />\r\n\r\n## <a name=\"empty\"></a>empty\r\n\r\n`empty(itemToTest)`\r\n\r\n确定数组、对象或字符串是否为空。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| itemToTest |是 |数组、对象或字符串 |要检查是否为空的值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n如果该值为空，则返回 **True**；否则返回 **False**。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/empty.json)检查某个数组、对象和字符串是否为空。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"testArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": []\r\n        },\r\n        \"testObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {}\r\n        },\r\n        \"testString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"\"\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"arrayEmpty\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[empty(parameters('testArray'))]\"\r\n        },\r\n        \"objectEmpty\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[empty(parameters('testObject'))]\"\r\n        },\r\n        \"stringEmpty\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[empty(parameters('testString'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayEmpty | Bool | True |\r\n| objectEmpty | Bool | True |\r\n| stringEmpty | Bool | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/empty.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/empty.json\r\n```\r\n\r\n<a id=\"first\" />\r\n\r\n## <a name=\"first\"></a>first\r\n`first(arg1)`\r\n\r\n返回数组的第一个元素，或字符串的第一个字符。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |数组或字符串 |要检索第一个元素或字符的值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n数组中第一个元素的类型（字符串、整数、数组或对象），或者字符串的第一个字符。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/first.json)演示如何对数组和字符串使用 first 函数。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"one\", \"two\", \"three\"]\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"arrayOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[first(parameters('arrayToTest'))]\"\r\n        },\r\n        \"stringOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[first('One Two Three')]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayOutput | String | one |\r\n| stringOutput | String | O |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/first.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/first.json\r\n```\r\n\r\n<a id=\"intersection\" />\r\n\r\n## <a name=\"intersection\"></a>intersection\r\n`intersection(arg1, arg2, arg3, ...)`\r\n\r\n返回包含参数中通用元素的单个数组或对象。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |数组或对象 |用于查找通用元素的第一个值。 |\r\n| arg2 |是 |数组或对象 |用于查找通用元素的第二个值。 |\r\n| 其他参数 |否 |数组或对象 |用于查找通用元素的其他值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n包含通用元素的数组或对象。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/intersection.json)演示如何对数组和对象使用 intersection：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"one\": \"a\", \"two\": \"b\", \"three\": \"c\"}\r\n        },\r\n        \"secondObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"one\": \"a\", \"two\": \"z\", \"three\": \"c\"}\r\n        },\r\n        \"firstArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"one\", \"two\", \"three\"]\r\n        },\r\n        \"secondArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"two\", \"three\"]\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"objectOutput\": {\r\n            \"type\": \"object\",\r\n            \"value\": \"[intersection(parameters('firstObject'), parameters('secondObject'))]\"\r\n        },\r\n        \"arrayOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[intersection(parameters('firstArray'), parameters('secondArray'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| objectOutput | 对象 | {\"one\": \"a\", \"three\": \"c\"} |\r\n| arrayOutput | Array | [\"two\", \"three\"] |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/intersection.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/intersection.json\r\n```\r\n\r\n## <a name=\"json\"></a>json\r\n`json(arg1)`\r\n\r\n返回一个 JSON 对象。\r\n\r\n### <a name=\"parameters\"></a>parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |字符串 |要转换为 JSON 的值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n指定字符串中的 JSON 对象，或指定 null 时的空对象。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/json.json)演示如何对数组和对象使用 json 函数：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"jsonOutput\": {\r\n            \"type\": \"object\",\r\n            \"value\": \"[json('{\\\"a\\\": \\\"b\\\"}')]\"\r\n        },\r\n        \"nullOutput\": {\r\n            \"type\": \"bool\",\r\n            \"value\": \"[empty(json('null'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| jsonOutput | 对象 | {\"a\": \"b\"} |\r\n| nullOutput | 布尔 | True |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/json.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/json.json\r\n```\r\n\r\n<a id=\"last\" />\r\n\r\n## <a name=\"last\"></a>last\r\n`last (arg1)`\r\n\r\n返回数组的最后一个元素，或字符串的最后一个字符。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |数组或字符串 |要检索最后一个元素或字符的值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n数组中最后一个元素的类型（字符串、整数、数组或对象），或者字符串的最后一个字符。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/last.json)演示如何对数组和字符串使用 last 函数。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"one\", \"two\", \"three\"]\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"arrayOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[last(parameters('arrayToTest'))]\"\r\n        },\r\n        \"stringOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[last('One Two Three')]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayOutput | String | three |\r\n| stringOutput | String | e |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/last.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/last.json\r\n```\r\n\r\n<a id=\"length\" />\r\n\r\n## <a name=\"length\"></a>length\r\n`length(arg1)`\r\n\r\n返回数组中的元素数，或字符串中的字符数。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |数组或字符串 |用于获取元素数的数组，或用于获取字符数的字符串。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n一个整数。 \r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/length.json)演示如何对数组和字符串使用 length：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\r\n                \"one\",\r\n                \"two\",\r\n                \"three\"\r\n            ]\r\n        },\r\n        \"stringToTest\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"One Two Three\"\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"arrayLength\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[length(parameters('arrayToTest'))]\"\r\n        },\r\n        \"stringLength\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[length(parameters('stringToTest'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayLength | int | 3 |\r\n| stringLength | int | 13 |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/length.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/length.json\r\n```\r\n\r\n创建资源时，可在数组中使用此函数指定迭代数。 在以下示例中，参数 **siteNames** 引用创建网站时要使用的名称数组。\r\n\r\n```json\r\n\"copy\": {\r\n    \"name\": \"websitescopy\",\r\n    \"count\": \"[length(parameters('siteNames'))]\"\r\n}\r\n```\r\n\r\n有关在数组中使用此函数的详细信息，请参阅 [Create multiple instances of resources in Azure Resource Manager](resource-group-create-multiple.md)（在 Azure Resource Manager 中创建多个资源实例）。\r\n\r\n<a id=\"max\" />\r\n\r\n## <a name=\"max\"></a>max\r\n`max(arg1)`\r\n\r\n返回整数数组或逗号分隔的整数列表中的最大值。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |整数数组或逗号分隔的整数列表 |要获取最大值的集合。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n表示最大值的整数。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/max.json)演示如何对整数数组和整数列表使用 max：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [0,3,2,5,4]\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"arrayOutput\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[max(parameters('arrayToTest'))]\"\r\n        },\r\n        \"intOutput\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[max(0,3,2,5,4)]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayOutput | int | 5 |\r\n| intOutput | int | 5 |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/max.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/max.json\r\n```\r\n\r\n<a id=\"min\" />\r\n\r\n## <a name=\"min\"></a>min\r\n`min(arg1)`\r\n\r\n返回整数数组或逗号分隔的整数列表中的最小值。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |整数数组或逗号分隔的整数列表 |要获取最小值的集合。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n表示最小值的整数。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/min.json)演示如何对整数数组和整数列表使用 min：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"arrayToTest\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [0,3,2,5,4]\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"arrayOutput\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[min(parameters('arrayToTest'))]\"\r\n        },\r\n        \"intOutput\": {\r\n            \"type\": \"int\",\r\n            \"value\": \"[min(0,3,2,5,4)]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayOutput | int | 0 |\r\n| intOutput | int | 0 |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/min.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/min.json\r\n```\r\n\r\n<a id=\"range\" />\r\n\r\n## <a name=\"range\"></a>range\r\n`range(startingInteger, numberOfElements)`\r\n\r\n从起始整数创建整数数组并包含一些项。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| startingInteger |是 |int |数组中的第一个整数。 |\r\n| numberofElements |是 |int |数组中的整数个数。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n整数数组。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/range.json)演示如何使用 range 函数:\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"startingInt\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 5\r\n        },\r\n        \"numberOfElements\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 3\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"rangeOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[range(parameters('startingInt'),parameters('numberOfElements'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| rangeOutput | Array | [5, 6, 7] |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/range.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/range.json\r\n```\r\n\r\n<a id=\"skip\" />\r\n\r\n## <a name=\"skip\"></a>skip\r\n`skip(originalValue, numberToSkip)`\r\n\r\n返回一个数组，其中包含数组中指定数字后面的所有元素；或返回一个字符串，其中包含字符串中指定数后面的所有字符。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| originalValue |是 |数组或字符串 |用于跳过的数组或字符串。 |\r\n| numberToSkip |是 |int |要跳过的元素数或字符数。 如果此值小于或等于 0，则返回值中的所有元素或字符。 如果此值大于数组或字符串的长度，则返回空数组或字符串。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n数组或字符串。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/skip.json)跳过数组中指定数目的元素，以及字符串中指定数目的字符。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"testArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\r\n                \"one\",\r\n                \"two\",\r\n                \"three\"\r\n            ]\r\n        },\r\n        \"elementsToSkip\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        },\r\n        \"testString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"one two three\"\r\n        },\r\n        \"charactersToSkip\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 4\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"arrayOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[skip(parameters('testArray'),parameters('elementsToSkip'))]\"\r\n        },\r\n        \"stringOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[skip(parameters('testString'),parameters('charactersToSkip'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayOutput | Array | [\"three\"] |\r\n| stringOutput | String | two three |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/skip.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/skip.json\r\n```\r\n\r\n<a id=\"take\" />\r\n\r\n## <a name=\"take\"></a>take\r\n`take(originalValue, numberToTake)`\r\n\r\n返回一个数组，其中包含从数组开头位置算起的指定数目的元素；或返回一个字符串，其中包含从字符串开头位置算起的指定数目的字符。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| originalValue |是 |数组或字符串 |要从中提取元素的数组或字符串。 |\r\n| numberToTake |是 |int |要提取的元素或字符数。 如果此值为 0 或更小，则返回一个空数组或字符串。 如果此值大于给定数组或字符串的长度，则返回数组或字符串中的所有元素。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n数组或字符串。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/take.json)从数组中提取指定数目的元素，并从字符串中提取指定数目的字符。\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"testArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\r\n                \"one\",\r\n                \"two\",\r\n                \"three\"\r\n            ]\r\n        },\r\n        \"elementsToTake\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        },\r\n        \"testString\": {\r\n            \"type\": \"string\",\r\n            \"defaultValue\": \"one two three\"\r\n        },\r\n        \"charactersToTake\": {\r\n            \"type\": \"int\",\r\n            \"defaultValue\": 2\r\n        }\r\n    },\r\n    \"resources\": [],\r\n    \"outputs\": {\r\n        \"arrayOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[take(parameters('testArray'),parameters('elementsToTake'))]\"\r\n        },\r\n        \"stringOutput\": {\r\n            \"type\": \"string\",\r\n            \"value\": \"[take(parameters('testString'),parameters('charactersToTake'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| arrayOutput | Array | [\"one\", \"two\"] |\r\n| stringOutput | String | on |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/take.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/take.json\r\n```\r\n\r\n<a id=\"union\" />\r\n\r\n## <a name=\"union\"></a>union\r\n`union(arg1, arg2, arg3, ...)`\r\n\r\n返回包含参数中所有元素的单个数组或对象。 重复的值或键仅包含一次。\r\n\r\n### <a name=\"parameters\"></a>Parameters\r\n\r\n| 参数 | 必选 | 类型 | 说明 |\r\n|:--- |:--- |:--- |:--- |\r\n| arg1 |是 |数组或对象 |用于联接元素的第一个值。 |\r\n| arg2 |是 |数组或对象 |用于联接元素的第二个值。 |\r\n| 其他参数 |否 |数组或对象 |用于联接元素的其他值。 |\r\n\r\n### <a name=\"return-value\"></a>返回值\r\n\r\n数组或对象。\r\n\r\n### <a name=\"example\"></a>示例\r\n\r\n以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/union.json)演示如何对数组和对象使用 union：\r\n\r\n```json\r\n{\r\n    \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n    \"contentVersion\": \"1.0.0.0\",\r\n    \"parameters\": {\r\n        \"firstObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"one\": \"a\", \"two\": \"b\", \"three\": \"c1\"}\r\n        },\r\n        \"secondObject\": {\r\n            \"type\": \"object\",\r\n            \"defaultValue\": {\"three\": \"c2\", \"four\": \"d\", \"five\": \"e\"}\r\n        },\r\n        \"firstArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"one\", \"two\", \"three\"]\r\n        },\r\n        \"secondArray\": {\r\n            \"type\": \"array\",\r\n            \"defaultValue\": [\"three\", \"four\"]\r\n        }\r\n    },\r\n    \"resources\": [\r\n    ],\r\n    \"outputs\": {\r\n        \"objectOutput\": {\r\n            \"type\": \"object\",\r\n            \"value\": \"[union(parameters('firstObject'), parameters('secondObject'))]\"\r\n        },\r\n        \"arrayOutput\": {\r\n            \"type\": \"array\",\r\n            \"value\": \"[union(parameters('firstArray'), parameters('secondArray'))]\"\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n上述示例中使用默认值的输出为：\r\n\r\n| 名称 | 类型 | 值 |\r\n| ---- | ---- | ----- |\r\n| objectOutput | 对象 | {\"one\": \"a\", \"two\": \"b\", \"three\": \"c2\", \"four\": \"d\", \"five\": \"e\"} |\r\n| arrayOutput | Array | [\"one\", \"two\", \"three\", \"four\"] |\r\n\r\n要使用 Azure CLI 部署此示例模板，请使用：\r\n\r\n```azurecli\r\naz group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/union.json\r\n```\r\n\r\n要使用 PowerShell 部署此示例模板，请使用：\r\n\r\n```powershell\r\nNew-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/union.json\r\n```\r\n\r\n## <a name=\"next-steps\"></a>后续步骤\r\n* 有关 Azure Resource Manager 模板中各部分的说明，请参阅 [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md)（创作 Azure Resource Manager 模板）。\r\n* 若要合并多个模板，请参阅[将链接的模板与 Azure Resource Manager 配合使用](resource-group-linked-templates.md)。\r\n* 若要在创建资源类型时迭代指定的次数，请参阅[在 Azure Resource Manager 中创建多个资源实例](resource-group-create-multiple.md)。\r\n* 若要查看如何部署已创建的模板，请参阅[使用 Azure Resource Manager 模板部署应用程序](resource-group-template-deploy.md)。\r\n\r\n<!--Update_Description: update meta properties, wording update-->"}