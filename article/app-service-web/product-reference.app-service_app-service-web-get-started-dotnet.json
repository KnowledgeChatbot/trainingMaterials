{"Title":"在 Azure 中创建 ASP.NET Web 应用","Description":"了解如何通过部署默认的 ASP.NET Web 应用，在 Azure 应用服务中运行 Web 应用。","Content":"# <a name=\"create-an-aspnet-web-app-in-azure\"></a>在 Azure 中创建 ASP.NET Web 应用\r\n\r\n[Azure Web 应用](./app-service-web-overview.md)提供高度可缩放、自修补的 Web 托管服务。  本快速入门演示如何将第一个 ASP.NET Web 应用部署到 Azure Web 应用中。 完成后，便拥有了一个资源组，该资源组包含一个应用服务计划和一个具有已部署的 Web 应用程序的 Azure Web 应用。\r\n\r\n\r\n## <a name=\"prerequisites\"></a>先决条件\r\n\r\n若要完成本教程，需执行以下操作：\r\n\r\n* 使用以下工作负荷安装 [Visual Studio 2017](https://www.visualstudio.com/downloads/)：\r\n    - **ASP.NET 和 Web 开发**\r\n    - **Azure 开发**\r\n\r\n    ![ASP.NET 和 Web 开发以及 Azure 开发（在 Web 和云下）](./media/app-service-web-tutorial-dotnet-sqldatabase/workloads.png)\r\n\r\n[!INCLUDE [quickstarts-free-trial-note](../../includes/quickstarts-free-trial-note.md)]\r\n\r\n[!INCLUDE [azure-visual-studio-login-guide](../../includes/azure-visual-studio-login-guide.md)]\r\n\r\n## <a name=\"create-an-aspnet-web-app\"></a>创建 ASP.NET Web 应用\r\n\r\n在 Visual Studio 中，通过依次选择“文件”>“新建”>“项目”创建项目。 \r\n\r\n在“新建项目”对话框中，选择“Visual C#”>“Web”>“ASP.NET Web 应用程序(.NET Framework)”。\r\n\r\n将应用程序命名为 _myFirstAzureWebApp_，然后选择“确定”。\r\n\r\n![“新建项目”对话框](./media/app-service-web-get-started-dotnet/new-project.png)\r\n\r\n可将任何类型的 ASP.NET Web 应用部署到 Azure。 在本快速入门教程中，请选择“MVC”模板，并确保将身份验证设置为“无身份验证”。\r\n\r\n选择“确定” 。\r\n\r\n![“新建 ASP.NET 项目”对话框](./media/app-service-web-get-started-dotnet/select-mvc-template.png)\r\n\r\n在菜单中，选择“调试>启动但不调试”以在本地运行 Web 应用。\r\n\r\n![在本地运行应用](./media/app-service-web-get-started-dotnet/local-web-app.png)\r\n\r\n## <a name=\"publish-to-azure\"></a>发布到 Azure\r\n\r\n在“解决方案资源管理器”中右键单击“myFirstAzureWebApp”项目，然后选择“发布”。\r\n\r\n![从解决方案资源管理器发布](./media/app-service-web-get-started-dotnet/solution-explorer-publish.png)\r\n\r\n确保已选择“Azure 应用服务”，然后选择“发布”。\r\n\r\n![从项目概述页发布](./media/app-service-web-get-started-dotnet/publish-to-app-service.png)\r\n\r\n此时将打开“创建应用服务”对话框，它可帮助你创建在 Azure 中运行 ASP.NET Web 应用所需的所有 Azure 资源。\r\n\r\n## <a name=\"sign-in-to-azure\"></a>登录 Azure\r\n\r\n在“创建应用服务”对话框中，选择“添加帐户”，然后登录到你的 Azure 订阅。 如果已登录，请从下拉列表中选择包含所需订阅的帐户。\r\n\r\n> [!NOTE]\r\n> 如果已经登录，请先不要选择“创建”。\r\n>\r\n>\r\n\r\n![登录 Azure](./media/app-service-web-get-started-dotnet/sign-in-azure.png)\r\n\r\n## <a name=\"create-a-resource-group\"></a>创建资源组\r\n\r\n[!INCLUDE [resource group intro text](../../includes/resource-group.md)]\r\n\r\n在“资源组”旁边，选择“新建”。\r\n\r\n将资源组命名为 **myResourceGroup**，然后选择“确定”。\r\n\r\n## <a name=\"create-an-app-service-plan\"></a>创建应用服务计划\r\n\r\n[!INCLUDE [app-service-plan](../../includes/app-service-plan.md)]\r\n\r\n在“应用服务计划”旁边，选择“新建”。 \r\n\r\n在“配置应用服务计划”对话框中，使用位于屏幕截图后的表中的设置。\r\n\r\n![创建应用服务计划](./media/app-service-web-get-started-dotnet/configure-app-service-plan.png)\r\n\r\n| 设置 | 建议的值 | 说明 |\r\n|-|-|-|\r\n|应用服务计划| myAppServicePlan | 应用服务计划的名称。 |\r\n| 位置 | 中国北部 | 托管 Web 应用的数据中心。 |\r\n| 大小 | 免费 | [定价层](https://www.azure.cn/pricing/details/app-service/)确定托管功能。 |\r\n\r\n选择“确定” 。\r\n\r\n## <a name=\"create-and-publish-the-web-app\"></a>创建并发布 Web 应用\r\n\r\n在“Web 应用名称”中，键入唯一的应用名称（有效字符为 `a-z`、`0-9` 和 `-`），或接受自动生成的唯一名称。 Web 应用的 URL 为 `http://<app_name>.chinacloudsites.cn`，其中 `<app_name>` 是 Web 应用名称。\r\n\r\n选择“创建”开始创建 Azure 资源。\r\n\r\n![配置 Web 应用名称](./media/app-service-web-get-started-dotnet/web-app-name.png)\r\n\r\n向导完成后，它会将 ASP.NET Web 应用发布到 Azure，然后在默认浏览器中启动该应用。\r\n\r\n![已在 Azure 中发布的 ASP.NET Web 应用](./media/app-service-web-get-started-dotnet/published-azure-web-app.png)\r\n\r\n在[创建和发布步骤](#create-and-publish-the-web-app)中指定的 Web 应用名称用作 `http://<app_name>.chinacloudsites.cn` 格式的 URL 前缀。\r\n\r\n恭喜，你的 ASP.NET Web 应用已在 Azure 应用服务中实时运行！\r\n\r\n## <a name=\"update-the-app-and-redeploy\"></a>更新应用并重新部署\r\n\r\n在“解决方案资源管理器”中打开“Views\\Home\\Index.cshtml”。\r\n\r\n在顶部附近找到 `<div class=\"jumbotron\">` HTML 标记，将整个元素替换为以下代码：\r\n\r\n```HTML\r\n<div class=\"jumbotron\">\r\n    <h1>ASP.NET in Azure!</h1>\r\n    <p class=\"lead\">This is a simple app that we've built that demonstrates how to deploy a .NET app to Azure App Service.</p>\r\n</div>\r\n```\r\n\r\n若要重新部署到 Azure，请在“解决方案资源管理器”中右键单击“myFirstAzureWebApp”项目，然后选择“发布”。\r\n\r\n在发布页中选择“发布”。\r\n\r\n发布完成后，Visual Studio 将启动浏览器并转到 Web 应用的 URL。\r\n\r\n![已在 Azure 中更新的 ASP.NET Web 应用](./media/app-service-web-get-started-dotnet/updated-azure-web-app.png)\r\n\r\n## <a name=\"manage-the-azure-web-app\"></a>管理 Azure Web 应用\r\n\r\n转到 <a href=\"https://portal.azure.cn\" target=\"_blank\">Azure 门户</a>管理 Web 应用。\r\n\r\n从左侧菜单中选择“应用服务”，然后选择 Azure Web 应用的名称。\r\n\r\n![在门户中导航到 Azure Web 应用](./media/app-service-web-get-started-dotnet/access-portal.png)\r\n\r\n随后会显示 Web 应用的概述页。 在此处可以执行基本的管理任务，例如浏览、停止、启动、重启和删除。 \r\n\r\n![Azure 门户中的“应用服务”边栏选项卡](./media/app-service-web-get-started-dotnet/web-app-blade.png)\r\n\r\n左侧菜单提供用于配置应用的不同页面。 \r\n\r\n[!INCLUDE [Clean-up section](../../includes/clean-up-section-portal.md)]\r\n\r\n## <a name=\"next-steps\"></a>后续步骤\r\n\r\n> [!div class=\"nextstepaction\"]\r\n> [将 ASP.NET 与 SQL 数据库配合使用](app-service-web-tutorial-dotnet-sqldatabase.md)\r\n\r\n<!--Update_Description: wording meta data only-->"}