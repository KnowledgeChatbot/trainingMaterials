{"Title":"Azure 媒体服务输入元数据架构","Description":"本部分概述 Azure 媒体服务输入元数据架构。","Content":"# <a name=\"input-metadata\"></a>输入元数据\r\n编码作业与要执行部分编码任务的输入资产相关联。  完成任务后，会生成一个输出资产。  输出资产包含视频、音频、缩略图、清单等。输出资产还包含提供输入资产相关元数据的文件。 元数据 XML 文件的名称采用下列格式：&lt;asset_id&gt;_metadata.xml（例如，41114ad3-eb5e-4c57-8d92-5354e2b7d4a4_metadata.xml），其中 &lt;asset_id&gt; 是输入资产的 AssetId 值。  \r\n\r\n要检查元数据文件，可以创建 **SAS** 定位器并将文件下载到本地计算机。 可以就如何创建 SAS 定位器并下载[使用媒体服务 .NET SDK 扩展](media-services-dotnet-get-started.md)的文件，找到相关示例。  \r\n\r\n本主题讨论作为输入元数据 (&lt;asset_id&gt;_metadata.xml) 的基础的 XML 架构的元素和类型。  若要深入了解包含有关输出资产的元数据的文件，请参阅[输出元数据](media-services-output-metadata-schema.md)。  \r\n\r\n> [!NOTE]\r\n> 可以在本主题末尾找到[架构代码](media-services-input-metadata-schema.md#code)和 [XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n> \r\n> \r\n\r\n## <a name=\"AssetFiles\"></a>AssetFiles 元素（根元素）\r\n包含用于编码作业的 [AssetFile 元素](media-services-input-metadata-schema.md#AssetFile)集合。  \r\n\r\n请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n| 名称 | 说明 |\r\n| --- | --- |\r\n| AssetFile<br /><br /> minOccurs=\"1\" maxOccurs=\"unbounded\" |单个子元素。 有关详细信息，请参阅 [AssetFile 元素](media-services-input-metadata-schema.md#AssetFile)。 |\r\n\r\n## <a name=\"AssetFile\"></a> AssetFile 元素\r\n 包含描述资产文件的属性和元素。  \r\n\r\n 请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| **名称**<br /><br /> 必需 |**xs:string** |资产文件名称。 |\r\n| **大小**<br /><br /> 必选 |**xs:long** |以字节为单位的资产文件大小。 |\r\n| **持续时间**<br /><br /> 必需 |**xs:duration** |内容播放持续时间。 示例：Duration=\"PT25M37.757S\"。 |\r\n| NumberOfStreams<br /><br /> 必选 |**xs:int** |资产文件中的流数。 |\r\n| FormatNames<br /><br /> 必选 |**xs:string** |格式名称。 |\r\n| FormatVerboseNames<br /><br /> 必选 |**xs:string** |格式详细名称。 |\r\n| **StartTime** |**xs:duration** |内容开始时间。 示例：StartTime=\"PT2.669S\"。 |\r\n| **OverallBitRate** |**xs:int** |资产文件的平均比特率 (kbps)。 |\r\n\r\n> [!NOTE]\r\n>序列中必须出现以下 4 个子元素。  \r\n\r\n### <a name=\"child-elements\"></a>子元素\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| Programs<br /><br /> minOccurs=\"0\" | |当资产文件为 MPEG-TS 格式时，所有[Programs 元素](media-services-input-metadata-schema.md#Programs)的集合。 |\r\n| VideoTracks<br /><br /> minOccurs=\"0\" | |每个物理资产文件可以包含零个或以上交错到相应容器格式的视频轨道。 此元素包含资产文件中所有 [VideoTracks 元素](media-services-input-metadata-schema.md#VideoTracks)的集合。 |\r\n| AudioTracks<br /><br /> minOccurs=\"0\" | |每个物理资产文件可以包含零个或以上交错到相应容器格式的音频轨道。 此元素包含资产文件中所有 [AudioTracks 元素](media-services-input-metadata-schema.md#AudioTracks) 的集合。 |\r\n| Metadata<br /><br /> minOccurs=\"0\" maxOccurs=\"unbounded\" |[MetadataType](media-services-input-metadata-schema.md#MetadataType) |资产文件的元数据表示为键\\值字符串。 例如：<br /><br /> &lt;元数据键 =\"language\" 值=\"eng\" /&gt; |\r\n\r\n## <a name=\"TrackType\"></a> TrackType\r\n请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| Id<br /><br /> 必选 |**xs:int** |此音频轨或视频轨从零开始的索引。<br /><br /> 这不一定是 MP4 文件中使用的 TrackID。 |\r\n| **Codec** |**xs:string** |视频轨道编解码器字符串。 |\r\n| **CodecLongName** |**xs:string** |音频或视频轨道编解码器长名称。 |\r\n| TimeBase<br /><br /> 必选 |**xs:string** |时间基准。 示例：TimeBase=\"1/48000\" |\r\n| **NumberOfFrames** |**xs:int** |帧数（针对视频轨）。 |\r\n| **StartTime** |**xs:duration** |轨道开始时间。 示例：StartTime=\"PT2.669S\" |\r\n| **持续时间** |**xs:duration** |轨道持续时间。 示例：Duration=\"PTSampleFormat M37.757S\"。 |\r\n\r\n> [!NOTE]\r\n>序列中必须出现以下 2 个子元素。  \r\n\r\n### <a name=\"child-elements\"></a>子元素\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| Disposition<br /><br /> minOccurs=\"0\" maxOccurs=\"1\" |[StreamDispositionType](media-services-input-metadata-schema.md#StreamDispositionType) |包含演示信息（例如，特定音频轨是否适用于视觉障碍人士）。 |\r\n| Metadata<br /><br /> minOccurs=\"0\" maxOccurs=\"unbounded\" |[MetadataType](media-services-input-metadata-schema.md#MetadataType) |可以用来保存各种信息的通用键/值字符串。 例如，key=”language” 和 value=”eng”。 |\r\n\r\n## <a name=\"AudioTrackType\"></a> AudioTrackType（继承自 TrackType）\r\n AudioTrackType 是继承自 [TrackType](media-services-input-metadata-schema.md#TrackType) 的全局复杂类型。  \r\n\r\n 此类型表示资产文件中的特定音频轨道。  \r\n\r\n 请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| **SampleFormat** |**xs:string** |示例格式。 |\r\n| **ChannelLayout** |**xs:string** |通道布局。 |\r\n| 通道<br /><br /> 必选 |**xs:int** |音频通道数（0 个或多个）。 |\r\n| SamplingRate<br /><br /> 必选 |**xs:int** |音频采样率（样本数/秒或 Hz）。 |\r\n| **比特率** |**xs:int** |由资产文件计算所得的平均音频比特率（比特/秒）。 仅对基本流有效负载计数，此计数中不包含打包开销。 |\r\n| **BitsPerSample** |**xs:int** |wFormatTag 格式类型的每个样本位数。 |\r\n\r\n## <a name=\"VideoTrackType\"></a> VideoTrackType（继承自 TrackType）\r\nVideoTrackType 是继承自 [TrackType](media-services-input-metadata-schema.md#TrackType) 的全局复杂类型。  \r\n\r\n此类型表示资产文件中的特定视频轨道。  \r\n\r\n请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| FourCC<br /><br /> 必选 |**xs:string** |视频编解码器 FourCC 代码。 |\r\n| **配置文件** |**xs:string** |视频轨道的配置文件。 |\r\n| **级别** |**xs:string** |视频轨道的级别。 |\r\n| **PixelFormat** |**xs:string** |视频轨道的像素格式。 |\r\n| Width<br /><br /> 必选 |**xs:int** |以像素为单位的编码视频宽度。 |\r\n| Height<br /><br /> 必选 |**xs:int** |以像素为单位的编码视频高度。 |\r\n| DisplayAspectRatioNumerator<br /><br /> 必选 |**xs:double** |视频显示纵横比分子。 |\r\n| DisplayAspectRatioDenominator<br /><br /> 必选 |**xs:double** |视频显示纵横比分母。 |\r\n| DisplayAspectRatioDenominator<br /><br /> 必选 |**xs:double** |视频样本纵横比分子。 |\r\n| **SampleAspectRatioNumerator** |**xs:double** |视频样本纵横比分子。 |\r\n| **SampleAspectRatioNumerator** |**xs:double** |视频样本纵横比分母。 |\r\n| FrameRate<br /><br /> 必选 |**xs:decimal** |采用 .3f 格式的测量的视频帧速率。 |\r\n| **比特率** |**xs:int** |由资产文件计算所得的平均视频比特率（千比特/秒）。 仅针对基本流有效负载计数，不包含打包开销。 |\r\n| **MaxGOPBitrate** |**xs:int** |此视频轨道的最大 GOP 平均比特率（千比特/秒）。 |\r\n| **HasBFrames** |**xs:int** |B 帧的视频轨道数。 |\r\n\r\n## <a name=\"MetadataType\"></a> MetadataType\r\n**MetadataType** 是一个全局复杂类型，它将资产文件的元数据描述为键/值字符串。 例如，key=”language” 和 value=”eng”。  \r\n\r\n请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| key<br /><br /> 必选 |**xs:string** |键/值对中的键。 |\r\n| value<br /><br /> 必选 |**xs:string** |键/值对中的值。 |\r\n\r\n## <a name=\"ProgramType\"></a> ProgramType\r\n**ProgramType** 是描述节目的全局复杂类型。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| ProgramId<br /><br /> 必选 |**xs:int** |节目 ID |\r\n| NumberOfPrograms<br /><br /> 必选 |**xs:int** |节目数。 |\r\n| PmtPid<br /><br /> 必选 |**xs:int** |节目映射表 (PMT) 包含有关节目的信息。  有关详细信息，请参阅 [PMt](http://en.wikipedia.org/wiki/MPEG_transport_stream#PMT)。 |\r\n| PcrPid<br /><br /> 必选 |**xs:int** |由解码器使用。 有关详细信息，请参阅 [PCR](http://en.wikipedia.org/wiki/MPEG_transport_stream#PCR) |\r\n| **StartPTS** |**xs: long** |开始演示时间戳。 |\r\n| **EndPTS** |**xs: long** |结束演示时间戳。 |\r\n\r\n## <a name=\"StreamDispositionType\"></a> StreamDispositionType\r\n**StreamDispositionType** 是描述流的全局复杂类型。  \r\n\r\n请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"attributes\"></a>属性\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| Default<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示这是默认演示。 |\r\n| Dub<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示这是译制的演示。 |\r\n| Original<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示这是原始演示。 |\r\n| Comment<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此轨道包含注释。 |\r\n| Lyrics<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此轨道包含歌词。 |\r\n| Karaoke<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此为卡拉 OK 轨道（仅背景音乐，没有歌唱部分）。 |\r\n| Forced<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示这是强制播放的演示。 |\r\n| HearingImpaired<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此轨道针对听觉障碍人士。 |\r\n| VisualImpaired<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此轨道针对视觉障碍人士。 |\r\n| CleanEffects<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此轨道具有清晰效果。 |\r\n| AttachedPic<br /><br /> 必选 |**xs:int** |将此属性设置为 1，表示此轨道包含图片。 |\r\n\r\n## <a name=\"Programs\"></a> Programs 元素\r\n包含多个 **Program** 元素的包装器元素。  \r\n\r\n### <a name=\"child-elements\"></a>子元素\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| Program<br /><br /> minOccurs=\"0\" maxOccurs=\"unbounded\" |[ProgramType](media-services-input-metadata-schema.md#ProgramType) |用于 MPEG-TS 格式的资产文件，包含资产文件中节目的相关信息。 |\r\n\r\n## <a name=\"VideoTracks\"></a> VideoTracks 元素\r\n 具有多个 **VideoTrack** 元素的包装器元素。  \r\n\r\n 请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"child-elements\"></a>子元素\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| **VideoTrack**<br /><br /> minOccurs=\"0\" maxOccurs=\"unbounded\" |[VideoTrackType（继承自 TrackType）](media-services-input-metadata-schema.md#VideoTrackType) |包含资产文件中视频轨道的相关信息。 |\r\n\r\n## <a name=\"AudioTracks\"></a> AudioTracks 元素\r\n 具有多个 **AudioTrack** 元素的包装器元素。  \r\n\r\n 请参阅本主题末尾处的 XML 示例：[XML 示例](media-services-input-metadata-schema.md#xml)。  \r\n\r\n### <a name=\"elements\"></a>元素\r\n| 名称 | 类型 | 说明 |\r\n| --- | --- | --- |\r\n| **AudioTrack**<br /><br /> minOccurs=\"0\" maxOccurs=\"unbounded\" |[AudioTrackType（继承自 TrackType）](media-services-input-metadata-schema.md#AudioTrackType) |包含有关资产文件中音频轨道的信息。 |\r\n\r\n## <a name=\"code\"></a> 架构代码\r\n    <?xml version=\"1.0\" encoding=\"utf-8\"?>  \r\n    <xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:msdata=\"urn:schemas-microsoft-com:xml-msdata\" version=\"1.0\"  \r\n               xmlns=\"http://schemas.microsoft.com/windowsazure/mediaservices/2014/07/mediaencoder/inputmetadata\"  \r\n               targetNamespace=\"http://schemas.microsoft.com/windowsazure/mediaservices/2014/07/mediaencoder/inputmetadata\"  \r\n               elementFormDefault=\"qualified\">  \r\n\r\n      <xs:complexType name=\"MetadataType\">  \r\n        <xs:attribute name=\"key\"   type=\"xs:string\" use=\"required\"/>  \r\n        <xs:attribute name=\"value\" type=\"xs:string\" use=\"required\"/>  \r\n      </xs:complexType>  \r\n\r\n      <xs:complexType name=\"ProgramType\">  \r\n        <xs:attribute name=\"ProgramId\" type=\"xs:int\" use=\"required\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>Program Id</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"NumberOfPrograms\" type=\"xs:int\" use=\"required\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>Number of programs</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"PmtPid\" type=\"xs:int\" use=\"required\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>pmt pid</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"PcrPid\" type=\"xs:int\" use=\"required\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>pcr pid</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"StartPTS\" type=\"xs:long\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>start pts</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"EndPTS\" type=\"xs:long\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>end pts</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n      </xs:complexType>  \r\n\r\n      <xs:complexType name=\"StreamDispositionType\">  \r\n        <xs:attribute name=\"Default\"          type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"Dub\"              type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"Original\"         type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"Comment\"          type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"Lyrics\"           type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"Karaoke\"          type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"Forced\"           type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"HearingImpaired\"  type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"VisualImpaired\"   type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"CleanEffects\"     type=\"xs:int\" use=\"required\" />  \r\n        <xs:attribute name=\"AttachedPic\"      type=\"xs:int\" use=\"required\" />  \r\n      </xs:complexType>  \r\n\r\n      <xs:complexType name=\"TrackType\" abstract=\"true\">  \r\n        <xs:sequence>  \r\n          <xs:element name=\"Disposition\" type=\"StreamDispositionType\" minOccurs=\"0\" maxOccurs=\"1\"/>  \r\n          <xs:element name=\"Metadata\" type=\"MetadataType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/>  \r\n        </xs:sequence>  \r\n        <xs:attribute name=\"Id\" use=\"required\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>zero-based index of this video track. Note: this is not necessarily the TrackID as used in an MP4 file</xs:documentation>  \r\n          </xs:annotation>  \r\n          <xs:simpleType>  \r\n            <xs:restriction base=\"xs:int\">  \r\n              <xs:minInclusive value=\"0\"/>  \r\n            </xs:restriction>  \r\n          </xs:simpleType>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"Codec\" type=\"xs:string\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>video track codec string</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"CodecLongName\" type=\"xs:string\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>video track codec long name</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"TimeBase\"  type=\"xs:string\" use=\"required\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>Time base. Example: TimeBase=\"1/48000\"</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"NumberOfFrames\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>number of frames</xs:documentation>  \r\n          </xs:annotation>  \r\n          <xs:simpleType>  \r\n            <xs:restriction base=\"xs:int\">  \r\n              <xs:minInclusive value=\"0\"/>  \r\n            </xs:restriction>  \r\n          </xs:simpleType>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"StartTime\" type=\"xs:duration\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>Track start time. Example: StartTime=\"PT2.669S\"</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n        <xs:attribute name=\"Duration\" type=\"xs:duration\">  \r\n          <xs:annotation>  \r\n            <xs:documentation>Track duration. Example: Duration=\"PT25M37.757S\"</xs:documentation>  \r\n          </xs:annotation>  \r\n        </xs:attribute>  \r\n      </xs:complexType>  \r\n\r\n      <xs:complexType name=\"VideoTrackType\">  \r\n        <xs:annotation>  \r\n          <xs:documentation>A specific video track in the parent AssetFile</xs:documentation>  \r\n        </xs:annotation>  \r\n        <xs:complexContent>  \r\n          <xs:extension base=\"TrackType\">  \r\n            <xs:attribute name=\"FourCC\" type=\"xs:string\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>video codec FourCC code</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Profile\" type=\"xs:string\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>profile</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Level\" type=\"xs:string\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>level</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"PixelFormat\" type=\"xs:string\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>Video track's pixel format</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Width\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>encoded video width in pixels</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Height\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>encoded video height in pixels</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"DisplayAspectRatioNumerator\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>video display aspect ratio numerator</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:double\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"DisplayAspectRatioDenominator\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>video display aspect ratio denominator</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:double\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"SampleAspectRatioNumerator\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>video sample aspect ratio numerator</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:double\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"SampleAspectRatioDenominator\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>video sample aspect ratio denominator</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:double\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"FrameRate\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>measured video frame rate in .3f format</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:decimal\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                  <xs:fractionDigits value=\"3\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Bitrate\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>average video bit rate in kilobits per second, as calculated from the AssetFile. Counts only the elementary stream payload, and does not include the packaging overhead</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"MaxGOPBitrate\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>Max GOP average bitrate for this video track, in kilobits per second</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"HasBFrames\" type=\"xs:int\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>video track number of B frames</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n          </xs:extension>  \r\n        </xs:complexContent>  \r\n      </xs:complexType>  \r\n\r\n      <xs:complexType name=\"AudioTrackType\">  \r\n        <xs:annotation>  \r\n          <xs:documentation>a specific audio track in the parent AssetFile</xs:documentation>  \r\n        </xs:annotation>  \r\n        <xs:complexContent>  \r\n          <xs:extension base=\"TrackType\">  \r\n            <xs:attribute name=\"SampleFormat\"  type=\"xs:string\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>sample format</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"ChannelLayout\"  type=\"xs:string\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>channel layout</xs:documentation>  \r\n              </xs:annotation>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Channels\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>number of audio channels</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"SamplingRate\" use=\"required\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>audio sampling rate in samples/sec or Hz</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"Bitrate\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>average audio bit rate in bits per second, as calculated from the AssetFile. Counts only the elementary stream payload, and does not include the packaging overhead</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n            <xs:attribute name=\"BitsPerSample\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>Bits per sample for the wFormatTag format type</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:simpleType>  \r\n                <xs:restriction base=\"xs:int\">  \r\n                  <xs:minInclusive value=\"0\"/>  \r\n                </xs:restriction>  \r\n              </xs:simpleType>  \r\n            </xs:attribute>  \r\n          </xs:extension>  \r\n        </xs:complexContent>  \r\n      </xs:complexType>  \r\n\r\n      <xs:element name=\"AssetFiles\">  \r\n        <xs:annotation>  \r\n          <xs:documentation>Collection of AssetFile entries for the encoding job</xs:documentation>  \r\n        </xs:annotation>  \r\n        <xs:complexType>  \r\n          <xs:sequence>  \r\n            <xs:element name=\"AssetFile\" minOccurs=\"1\" maxOccurs=\"unbounded\">  \r\n              <xs:annotation>  \r\n                <xs:documentation>asset file</xs:documentation>  \r\n              </xs:annotation>  \r\n              <xs:complexType>  \r\n                <xs:sequence>  \r\n                  <xs:element name=\"Programs\" minOccurs=\"0\">  \r\n                    <xs:annotation>  \r\n                      <xs:documentation>This is the collection of all programs when file is MPEG-TS</xs:documentation>  \r\n                    </xs:annotation>  \r\n                    <xs:complexType>  \r\n                      <xs:sequence>  \r\n                        <xs:element name=\"Program\" type=\"ProgramType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />  \r\n                      </xs:sequence>  \r\n                    </xs:complexType>  \r\n                  </xs:element>  \r\n                  <xs:element name=\"VideoTracks\" minOccurs=\"0\">  \r\n                    <xs:annotation>  \r\n                      <xs:documentation>Each physical AssetFile can contain in it zero or more video tracks interleaved into an appropriate container format. This is the collection of all those video tracks</xs:documentation>  \r\n                    </xs:annotation>  \r\n                    <xs:complexType>  \r\n                      <xs:sequence>  \r\n                        <xs:element name=\"VideoTrack\" type=\"VideoTrackType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />  \r\n                      </xs:sequence>  \r\n                    </xs:complexType>  \r\n                  </xs:element>  \r\n                  <xs:element name=\"AudioTracks\" minOccurs=\"0\">  \r\n                    <xs:annotation>  \r\n                      <xs:documentation>each physical AssetFile can contain in it zero or more audio tracks interleaved into an appropriate container format. This is the collection of all those audio tracks</xs:documentation>  \r\n                    </xs:annotation>  \r\n                    <xs:complexType>  \r\n                      <xs:sequence>  \r\n                        <xs:element name=\"AudioTrack\" type=\"AudioTrackType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />  \r\n                      </xs:sequence>  \r\n                    </xs:complexType>  \r\n                  </xs:element>  \r\n                  <xs:element name=\"Metadata\" type=\"MetadataType\" minOccurs=\"0\" maxOccurs=\"unbounded\" />  \r\n                </xs:sequence>  \r\n                <xs:attribute name=\"Name\" type=\"xs:string\" use=\"required\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>the media asset file name</xs:documentation>  \r\n                  </xs:annotation>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"Size\" use=\"required\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>size of file in bytes</xs:documentation>  \r\n                  </xs:annotation>  \r\n                  <xs:simpleType>  \r\n                    <xs:restriction base=\"xs:long\">  \r\n                      <xs:minInclusive value=\"0\"/>  \r\n                    </xs:restriction>  \r\n                  </xs:simpleType>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"Duration\" type=\"xs:duration\" use=\"required\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>content play back duration. Example: Duration=\"PT25M37.757S\"</xs:documentation>  \r\n                  </xs:annotation>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"NumberOfStreams\" type=\"xs:int\" use=\"required\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>number of streams in asset file</xs:documentation>  \r\n                  </xs:annotation>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"FormatNames\" type=\"xs:string\" use=\"required\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>format names</xs:documentation>  \r\n                  </xs:annotation>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"FormatVerboseName\" type=\"xs:string\" use=\"required\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>format verbose names</xs:documentation>  \r\n                  </xs:annotation>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"StartTime\" type=\"xs:duration\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>content start time. Example: StartTime=\"PT2.669S\"</xs:documentation>  \r\n                  </xs:annotation>  \r\n                </xs:attribute>  \r\n                <xs:attribute name=\"OverallBitRate\">  \r\n                  <xs:annotation>  \r\n                    <xs:documentation>average bitrate of the asset file in kbps</xs:documentation>  \r\n                  </xs:annotation>  \r\n                  <xs:simpleType>  \r\n                    <xs:restriction base=\"xs:int\">  \r\n                      <xs:minInclusive value=\"0\"/>  \r\n                    </xs:restriction>  \r\n                  </xs:simpleType>  \r\n                </xs:attribute>  \r\n              </xs:complexType>  \r\n            </xs:element>  \r\n          </xs:sequence>  \r\n        </xs:complexType>  \r\n      </xs:element>  \r\n    </xs:schema>  \r\n\r\n\r\n## <a name=\"xml\"></a> XML 示例\r\n下面是输入元数据文件的示例。  \r\n\r\n    <?xml version=\"1.0\" encoding=\"utf-8\"?>  \r\n    <AssetFiles xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns=\"http://schemas.microsoft.com/windowsazure/mediaservices/2014/07/mediaencoder/inputmetadata\">  \r\n      <AssetFile Name=\"bear.mp4\" Size=\"1973733\" Duration=\"PT12.678S\" NumberOfStreams=\"2\" FormatNames=\"mov,mp4,m4a,3gp,3g2,mj2\" FormatVerboseName=\"QuickTime / MOV\" StartTime=\"PT0S\" OverallBitRate=\"1245\">  \r\n        <VideoTracks>  \r\n          <VideoTrack Id=\"1\" Codec=\"h264\" CodecLongName=\"H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10\" TimeBase=\"1/29970\" NumberOfFrames=\"375\" StartTime=\"PT0.034S\" Duration=\"PT12.645S\" FourCC=\"avc1\" Profile=\"High\" Level=\"4.1\" PixelFormat=\"yuv420p\" Width=\"512\" Height=\"384\" DisplayAspectRatioNumerator=\"4\" DisplayAspectRatioDenominator=\"3\" SampleAspectRatioNumerator=\"1\" SampleAspectRatioDenominator=\"1\" FrameRate=\"29.656\" Bitrate=\"1043\" HasBFrames=\"1\">  \r\n            <Disposition Default=\"1\" Dub=\"0\" Original=\"0\" Comment=\"0\" Lyrics=\"0\" Karaoke=\"0\" Forced=\"0\" HearingImpaired=\"0\" VisualImpaired=\"0\" CleanEffects=\"0\" AttachedPic=\"0\" />  \r\n            <Metadata key=\"creation_time\" value=\"2010-03-10 16:11:56\" />  \r\n            <Metadata key=\"language\" value=\"eng\" />  \r\n            <Metadata key=\"handler_name\" value=\"Mainconcept MP4 Video Media Handler\" />  \r\n          </VideoTrack>  \r\n        </VideoTracks>  \r\n        <AudioTracks>  \r\n          <AudioTrack Id=\"0\" Codec=\"aac\" CodecLongName=\"AAC (Advanced Audio Coding)\" TimeBase=\"1/44100\" NumberOfFrames=\"546\" StartTime=\"PT0S\" Duration=\"PT12.678S\" SampleFormat=\"fltp\" ChannelLayout=\"stereo\" Channels=\"2\" SamplingRate=\"44100\" Bitrate=\"156\" BitsPerSample=\"0\">  \r\n            <Disposition Default=\"1\" Dub=\"0\" Original=\"0\" Comment=\"0\" Lyrics=\"0\" Karaoke=\"0\" Forced=\"0\" HearingImpaired=\"0\" VisualImpaired=\"0\" CleanEffects=\"0\" AttachedPic=\"0\" />  \r\n            <Metadata key=\"creation_time\" value=\"2010-03-10 16:11:56\" />  \r\n            <Metadata key=\"language\" value=\"eng\" />  \r\n            <Metadata key=\"handler_name\" value=\"Mainconcept MP4 Sound Media Handler\" />  \r\n          </AudioTrack>  \r\n        </AudioTracks>  \r\n        <Metadata key=\"major_brand\" value=\"mp42\" />  \r\n        <Metadata key=\"minor_version\" value=\"0\" />  \r\n        <Metadata key=\"compatible_brands\" value=\"mp42mp41\" />  \r\n        <Metadata key=\"creation_time\" value=\"2010-03-10 16:11:53\" />  \r\n        <Metadata key=\"comment\" value=\"Courtesy of National Geographic.  Used by Permission.\" />  \r\n      </AssetFile>  \r\n    </AssetFiles>  \r\n\r\n"}