{"Title":"配置 NewTek TriCaster 编码器以发送单比特率实时流","Description":"本主题说明如何配置 Tricaster 实时编码器，以便将单比特率流发送到 AMS 频道进行实时编码。","Content":"# <a name=\"use-the-newtek-tricaster-encoder-to-send-a-single-bitrate-live-stream\"></a>使用 NewTek TriCaster 编码器发送单比特率实时流\r\n> [!div class=\"op_single_selector\"]\r\n> * [Tricaster](media-services-configure-tricaster-live-encoder.md)\r\n> * [Elemental Live](media-services-configure-elemental-live-encoder.md)\r\n> * [Wirecast](media-services-configure-wirecast-live-encoder.md)\r\n> * [FMLE](media-services-configure-fmle-live-encoder.md)\r\n>\r\n>\r\n\r\n本主题说明如何配置 [NewTek TriCaster](http://newtek.com/products/tricaster-40.html) 实时编码器，以便将单比特率流发送到 AMS 频道进行实时编码。 有关详细信息，请参阅[使用能够通过 Azure 媒体服务执行实时编码的频道](media-services-manage-live-encoder-enabled-channels.md)。\r\n\r\n本教程演示了如何通过 Azure 媒体服务浏览器 (AMSE) 工具管理 Azure 媒体服务 (AMS)。 此工具仅在 Windows 电脑上运行。 如果使用的是 Mac 或 Linux，则可使用 Azure 门户创建[频道](media-services-portal-creating-live-encoder-enabled-channel.md#create-a-channel)和[节目](media-services-portal-creating-live-encoder-enabled-channel.md)。\r\n\r\n> [!NOTE]\r\n> 使用 Tricaster 将贡献源发送到已启用实时编码的 AMS 频道时，如果使用了 Tricaster 的某些功能（例如，在源之间快速剪切，或者切入/切出静态图像），实时事件可能会出现视频/音频抖动。 AMS 团队正在努力解决这些问题，在此之前，不建议使用这些功能。\r\n>\r\n>\r\n\r\n## <a name=\"prerequisites\"></a>先决条件\r\n* [创建 Azure 媒体服务帐户](media-services-portal-create-account.md)\r\n* 确保运行流式处理终结点。 有关详细信息，请参阅[在媒体服务帐户中管理流式处理终结点](media-services-portal-manage-streaming-endpoints.md)\r\n* 安装最新版本的 [AMSE](https://github.com/Azure/Azure-Media-Services-Explorer) 工具。\r\n* 启动该工具并连接到 AMS 帐户。\r\n\r\n## <a name=\"tips\"></a>提示\r\n* 尽可能使用硬编码的 Internet 连接。\r\n* 确定带宽要求时，可以认为它就是将流式处理比特率翻倍。 虽然此要求不是强制性要求，但它可以减轻网络拥塞的影响。\r\n* 使用基于软件的编码器时，请关闭任何不需要的程序。\r\n\r\n## <a name=\"create-a-channel\"></a>创建频道\r\n1. 在 AMSE 工具中，导航到“实时”  选项卡，并右键单击频道区域。 从菜单中选择“创建频道…”  。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster1.png)\r\n\r\n2. 指定频道名称，说明字段为选填字段。在“频道设置”下针对“实时编码”选项选择“标准”，将“输入协议”设置为“RTMP”。所有其他设置可保留原样。\r\n\r\n    确保选中“立即启动新频道”。\r\n\r\n3. 单击“创建频道”。\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster2.png)\r\n\r\n>[!NOTE]\r\n> 启动频道可能需要长达 20 分钟的时间。\r\n\r\n启动频道时可[配置编码器](media-services-configure-tricaster-live-encoder.md#configure_tricaster_rtmp)。\r\n\r\n> [!IMPORTANT]\r\n> 请注意，只要频道进入就绪状态，就会开始计费。 有关详细信息，请参阅[频道的状态](media-services-manage-live-encoder-enabled-channels.md#states)。\r\n>\r\n>\r\n\r\n##<a id=\"configure_tricaster_rtmp\"></a>配置 NewTek TriCaster 编码器\r\n\r\n本教程中使用以下输出设置。本部分的其余内容介绍更详细的配置步骤。\r\n\r\n**视频**：\r\n\r\n* 编解码器：H.264\r\n* 配置文件：高（等级 4.0）\r\n* 比特率：5000 kbps\r\n* 关键帧：2 秒（60 秒）\r\n* 帧速率：30\r\n\r\n**音频**：\r\n\r\n* 编解码器：AAC (LC)\r\n* 比特率：192 kbps\r\n* 采样速率：44.1 kHz\r\n\r\n### <a name=\"configuration-steps\"></a>配置步骤\r\n1. 根据所用的视频输入源创建一个新的 **NewTek TriCaster** 项目。\r\n2. 进入该项目以后，找到“流”按钮，单击该按钮旁边的齿轮图标，以便访问流配置菜单。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster3.png)\r\n3. 菜单打开以后，单击“连接”标题下的“新建”。系统提示输入连接类型时，请选择“Adobe Flash”。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster4.png)\r\n\r\n4. 单击 **“确定”**。\r\n\r\n5. 现在，你可以单击“流式处理配置文件”下的下拉箭头并导航到“浏览”，以导入 FMLE 配置文件。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster5.png)\r\n\r\n6. 导航到保存已配置的 FMLE 配置文件的位置。\r\n7. 选择该文件，并按“确定” 。\r\n\r\n    上传配置文件以后，即可继续执行下一步。\r\n\r\n8. 获取频道的输入 URL，以便将其分配给 Tricaster 的“RTMP 终结点”。\r\n\r\n    导航回 AMSE 工具，查看频道完成状态。 一旦状态从“正在启动”变为“正在运行”，即可获取输入 URL。\r\n\r\n    频道正在运行时，右键单击频道名称，向下导航，将鼠标悬停在“将输入 URL 复制到剪贴板”上方，然后选择“主要输入 URL”。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster6.png)\r\n\r\n9. 在 Tricaster 项目中，将此信息粘贴到“闪存服务器”下的“位置”字段。 还需要在“流 ID”  字段中指定一个流名称。\r\n\r\n    如果流信息已添加到 FMLE 配置文件，则也可以通过一下方式将其导入此部分：单击“导入设置” ，导航到已保存的 FMLE 配置文件，然后单击“确定” 。 相关的“闪存服务器”字段应使用 FMLE 中的信息进行填充。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster7.png)\r\n\r\n10. 完成后，单击屏幕底部的“确定”  。 当输入到 Tricaster 中的视频和音频已就绪时，则可单击“流”按钮开始将其流式传输到 AMS。\r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster11.png)\r\n\r\n> [!IMPORTANT]\r\n> 在单击“流”之前，必须确保频道已就绪。\r\n> 另外，请确保不要让频道在没有一个输入贡献源的情况下处于就绪状态的时间超出 15 分钟。\r\n>\r\n>\r\n\r\n## <a name=\"test-playback\"></a>测试播放\r\n导航回 AMSE 工具，并右键单击要测试的频道。 在菜单中，将鼠标悬停在“播放预览”上方，然后选择“使用 Azure Media Player”。  \r\n\r\n![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster8.png)\r\n\r\n如果流出现在播放器中，则编码器已正确配置，可以连接到 AMS。\r\n\r\n如果收到错误，则需重置频道并调整编码器设置。 请参阅[故障排除](media-services-troubleshooting-live-streaming.md)主题以获取相关指导。  \r\n\r\n## <a name=\"create-a-program\"></a>创建节目\r\n1. 确认频道可以播放后，即可创建节目。 在 AMSE 工具的“实时”选项卡下，右键单击节目区域，然后选择“新建节目”。  \r\n\r\n    ![tricaster](./media/media-services-tricaster-live-encoder/media-services-tricaster9.png)\r\n\r\n2. 为节目命名，然后根据需要调整“存档时段长度”（默认为 4 小时）。 还可以指定存储位置，也可以将其保留为默认值。  \r\n3. 选中“立即启动节目”框。\r\n4. 单击“创建节目”。\r\n\r\n    >[!NOTE]\r\n    >创建节目需要的时间比创建频道需要的时间少。\r\n\r\n5. 节目运行时，可通过下述方式来确认其是否能够播放：右键单击该节目，导航到“播放节目”，然后选择“使用 Azure Media Player”。  \r\n6. 确认以后，再次右键单击该节目，然后选择“将输出 URL 复制到剪贴板”（或通过菜单从“节目信息和设置”选项检索此信息）。\r\n\r\n现在可以将流嵌入到播放器中，也可将其分发给受众进行实时观看。\r\n\r\n## <a name=\"troubleshooting\"></a>故障排除\r\n请参阅[故障排除](media-services-troubleshooting-live-streaming.md)主题以获取相关指导。\r\n<!--Update_Description: update links-->\r\n\r\n"}