{"Title":"使用媒体服务 REST API 配置资产传送策略","Description":"本主题介绍如何使用媒体服务 REST API 配置不同的资产传送策略。","Content":"# <a name=\"configuring-asset-delivery-policies\"></a>配置资产传送策略\r\n\r\n[!INCLUDE [media-services-selector-asset-delivery-policy](../../includes/media-services-selector-asset-delivery-policy.md)]\r\n\r\n如果打算传送动态加密的资产，媒体服务内容传送工作流中的步骤之一是为资产配置传送策略。 资产传送策略告知媒体服务希望如何传送资产：应该将资产动态打包成哪种流式处理协议（例如 MPEG DASH、HLS、平滑流或全部），是否要动态加密资产以及如何加密（信封或常用加密）。\r\n\r\n本主题介绍创建和配置资产传送策略的原因和方式。\r\n\r\n>[!NOTE]\r\n>创建 AMS 帐户后，会将一个处于“已停止”状态的**默认**流式处理终结点添加到帐户。 若要开始流式传输内容并利用动态打包和动态加密，要从中流式传输内容的流式处理终结点必须处于“正在运行”状态。 \r\n>\r\n>此外，若要使用动态打包和动态加密，用户的资产必须包含一组自适应比特率 MP4 或自适应比特率平滑流式处理文件。\r\n\r\n可以将不同的策略应用到同一个资产。 例如，可以将 PlayReady 加密应用到平滑流式处理，将 AES 信封加密应用到 MPEG DASH 和 HLS。 将阻止流式处理传送策略中未定义的任何协议（例如，添加仅将 HLS 指定为协议的单个策略）。 如果根本没有定义任何传送策略，则情况不是这样。 此时，所有协议都可以通过。\r\n\r\n如果要传送存储加密资产，则必须配置资产的传送策略。 在流式传输资产之前，流式处理服务器会删除存储加密，再使用指定的传送策略流式传输用户的内容。 例如，若要传送使用高级加密标准 (AES) 信封加密密钥加密的资产，请将策略类型设为“DynamicEnvelopeEncryption”。 要删除存储加密并以明文的形式流式传输资产，请将策略类型设置为 **NoDynamicEncryption**。 下面是演示如何配置这些策略类型的示例。\r\n\r\n根据配置资产传送策略的方式，可以动态打包、动态加密和流式传输以下流式传输协议：平滑流式处理、HLS、MPEG DASH 流。\r\n\r\n以下列表显示了用于流式传输平滑流、HLS、DASH 的格式。\r\n\r\n平滑流式处理：\r\n\r\n{流式处理终结点名称-媒体服务帐户名称}.streaming.mediaservices.chinacloudapi.cn/{定位符 ID}/{文件名}.ism/Manifest\r\n\r\nHLS：\r\n\r\n{流式处理终结点名称-媒体服务帐户名称}.streaming.mediaservices.chinacloudapi.cn/{定位符 ID}/{文件名}.ism/Manifest(format=m3u8-aapl)\r\n\r\nMPEG DASH\r\n\r\n{流式处理终结点名称-媒体服务帐户名称}.streaming.mediaservices.chinacloudapi.cn/{定位符 ID}/{文件名}.ism/Manifest(format=mpd-time-csf)\r\n\r\n\r\n有关如何发布资产和生成流 URL 的说明，请参阅 [生成流 URL](media-services-deliver-streaming-content.md)。\r\n\r\n## <a name=\"considerations\"></a>注意事项\r\n* 如果某个资产存在 OnDemand（流式处理）定位符，则不能删除与该资产关联的 AssetDeliveryPolicy。 在删除策略之前，建议先从资产中删除该策略。\r\n* 如果未设置资产传送策略，则无法在存储加密的资产上创建流式处理定位符。  如果资产未经过存储加密，则即使未设置资产传送策略，系统也可让你以明文形式创建定位符和流式处理资产。\r\n* 可将多个资产传送策略关联到单个资产，但只能指定一种方法来处理给定的 AssetDeliveryProtocol。  也就是说，如果尝试链接两个指定 AssetDeliveryProtocol.SmoothStreaming 协议的传送策略，则会导致出错，因为当客户端发出平滑流式处理请求时，系统不知道要应用哪个策略。\r\n* 如果资产包含现有流式处理定位符，则不能将新策略链接到该资产、取消现有策略与该资产的链接，或者更新与该资产关联的传送策略。  必须先删除流式处理定位符，调整策略，再重新创建流式处理定位符。  重新创建流式处理定位符时，可以使用同一个 locatorId，但应确保该操作不会导致客户端出现问题，因为内容可能已被来源或下游 CDN 缓存。\r\n\r\n>[!NOTE]\r\n\r\n>访问媒体服务中的实体时，必须在 HTTP 请求中设置特定标头字段和值。 有关详细信息，请参阅[媒体服务 REST API 开发的设置](media-services-rest-how-to-use.md)。\r\n\r\n## <a name=\"connect-to-media-services\"></a>连接到媒体服务\r\n\r\n若要了解如何连接到 AMS API，请参阅[通过 Azure AD 身份验证访问 Azure 媒体服务 API](media-services-use-aad-auth-to-access-ams-api.md)。 \r\n\r\n## <a name=\"clear-asset-delivery-policy\"></a>清除资产传送策略\r\n\r\n### <a id=\"create_asset_delivery_policy\"></a>创建资产传送策略\r\n\r\n以下 HTTP 请求将创建一个资产传送策略，该策略指定不要应用动态加密，而使用以下任何协议传送流：MPEG DASH、HLS 和平滑流式处理协议。\r\n\r\n有关创建 AssetDeliveryPolicy 时可以指定哪些值的信息，请参阅 [定义 AssetDeliveryPolicy 时使用的类型](#types) 部分。\r\n\r\n请求：\r\n\r\n```\r\nPOST https://wamsshaclus001rest-hs.chinacloudapp.cn/api/AssetDeliveryPolicies HTTP/1.1\r\nContent-Type: application/json\r\nDataServiceVersion: 1.0;NetFx\r\nMaxDataServiceVersion: 3.0;NetFx\r\nAccept: application/json\r\nAccept-Charset: UTF-8\r\nAuthorization: Bearer http%3a%2f%2fschemas.xmlsoap.org%2fws%2f2005%2f05%2fidentity%2fclaims%2fnameidentifier=amsaccount1&urn%3aSubscriptionId=zbbef702-e769-2233-9f16-bc4d3aa97387&http%3a%2f%2fschemas.microsoft.com%2faccesscontrolservice%2f2010%2f07%2fclaims%2fidentityprovider=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&Audience=urn%3aWindowsAzureMediaServices&ExpiresOn=1423397827&Issuer=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&HMACSHA256=Szo6lbJAvL3dyecAeVmyAnzv3mGzfUNClR5shk9Ivbk%3d\r\nx-ms-version: 2.11\r\nx-ms-client-request-id: 4651882c-d7ad-4d5e-86ab-f07f47dcb41e\r\nHost: https://wamsshaclus001rest-hs.chinacloudapp.cn\r\n\r\n{\r\n    \"Name\":\"Clear Policy\",\r\n    \"AssetDeliveryProtocol\":7,\r\n    \"AssetDeliveryPolicyType\":2,\r\n    \"AssetDeliveryConfiguration\":null\r\n}\r\n```\r\n\r\n响应：\r\n\r\n```\r\nHTTP/1.1 201 Created\r\nCache-Control: no-cache\r\nContent-Length: 363\r\nContent-Type: application/json;odata=minimalmetadata;streaming=true;charset=utf-8\r\nLocation: https://wamsshaclus001rest-hs.chinacloudapp.cn/api/AssetDeliveryPolicies('nb%3Aadpid%3AUUID%3A92b0f6ba-3c9f-49b6-a5fa-2a8703b04ecd')\r\nServer: Microsoft-IIS/8.5\r\nx-ms-client-request-id: 4651882c-d7ad-4d5e-86ab-f07f47dcb41e\r\nrequest-id: 6aedbf93-4bc2-4586-8845-fd45590136af\r\nx-ms-request-id: 6aedbf93-4bc2-4586-8845-fd45590136af\r\nX-Content-Type-Options: nosniff\r\nDataServiceVersion: 3.0;\r\nX-Powered-By: ASP.NET\r\nStrict-Transport-Security: max-age=31536000; includeSubDomains\r\nDate: Sun, 08 Feb 2015 06:21:27 GMT\r\n\r\n{\r\n    \"odata.metadata\":\"https://wamsshaclus001rest-hs.chinacloudapp.cn/api/$metadata#AssetDeliveryPolicies/@Element\",\r\n    \"Id\":\"nb:adpid:UUID:92b0f6ba-3c9f-49b6-a5fa-2a8703b04ecd\",\r\n    \"Name\":\"Clear Policy\",\r\n    \"AssetDeliveryProtocol\":7,\r\n    \"AssetDeliveryPolicyType\":2,\r\n    \"AssetDeliveryConfiguration\":null,\r\n    \"Created\":\"2015-02-08T06:21:27.6908329Z\",\r\n    \"LastModified\":\"2015-02-08T06:21:27.6908329Z\"\r\n}\r\n```\r\n\r\n### <a id=\"link_asset_with_asset_delivery_policy\"></a>将资产与资产传送策略相链接\r\n\r\n以下 HTTP 请求将指定的资产链接到资产传送策略。\r\n\r\n请求：\r\n\r\n```\r\nPOST https://wamsshaclus001rest-hs.chinacloudapp.cn/api/Assets('nb%3Acid%3AUUID%3A86933344-9539-4d0c-be7d-f842458693e0')/$links/DeliveryPolicies HTTP/1.1\r\nDataServiceVersion: 1.0;NetFx\r\nMaxDataServiceVersion: 3.0;NetFx\r\nAccept: application/json\r\nAccept-Charset: UTF-8\r\nContent-Type: application/json\r\nAuthorization: Bearer http%3a%2f%2fschemas.xmlsoap.org%2fws%2f2005%2f05%2fidentity%2fclaims%2fnameidentifier=amsaccount1&urn%3aSubscriptionId=zbbef702-e769-3344-9f16-bc4d3aa97387&http%3a%2f%2fschemas.microsoft.com%2faccesscontrolservice%2f2010%2f07%2fclaims%2fidentityprovider=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&Audience=urn%3aWindowsAzureMediaServices&ExpiresOn=1423397827&Issuer=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&HMACSHA256=Szo6lbJAvL3dyecAeVmyAnzv3mGzfUNClR5shk9Ivbk%3d\r\nx-ms-version: 2.11\r\nx-ms-client-request-id: 56d2763f-6e72-419d-ba3c-685f6db97e81\r\nHost: https://wamsshaclus001rest-hs.chinacloudapp.cn\r\n\r\n{\"uri\":\"https://wamsshaclus001rest-hs.chinacloudapp.cn/api/AssetDeliveryPolicies('nb%3Aadpid%3AUUID%3A92b0f6ba-3c9f-49b6-a5fa-2a8703b04ecd')\"}\r\n```\r\n\r\n响应：\r\n\r\n```\r\nHTTP/1.1 204 No Content\r\n```\r\n\r\n## <a name=\"dynamicenvelopeencryption-asset-delivery-policy\"></a>DynamicEnvelopeEncryption 资产传送策略\r\n\r\n### <a name=\"create-content-key-of-the-envelopeencryption-type-and-link-it-to-the-asset\"></a>创建 EnvelopeEncryption 类型的内容密钥，并将其链接到资产\r\n\r\n指定 DynamicEnvelopeEncryption 传送策略时，需确保将资产链接到 EnvelopeEncryption 类型的内容密钥。 有关详细信息，请参阅：[创建内容密钥](media-services-rest-create-contentkey.md)）。\r\n\r\n### <a id=\"get_delivery_url\"></a>获取传送 URL\r\n\r\n获取上一步创建的内容密钥的指定传送方法的传送 URL。 客户端使用返回的 URL 来请求 AES 密钥或 PlayReady 许可证，以播放受保护内容。\r\n\r\n指定要在 HTTP 请求正文中获取的 URL 类型。 如果要使用 PlayReady 保护内容，请将 keyDeliveryType 设为 1 以请求媒体服务 PlayReady 许可证获取 URL：{\"keyDeliveryType\":1}。 如果要使用信封加密来保护内容，请将 keyDeliveryType 指定为 2 以请求密钥获取 URL：{\"keyDeliveryType\":2}。\r\n\r\n请求：\r\n\r\n```\r\nPOST https://wamsshaclus001rest-hs.chinacloudapp.cn/api/ContentKeys('nb:kid:UUID:dc88f996-2859-4cf7-a279-c52a9d6b2f04')/GetKeyDeliveryUrl HTTP/1.1\r\nContent-Type: application/json\r\nMaxDataServiceVersion: 3.0;NetFx\r\nAccept: application/json\r\nAccept-Charset: UTF-8\r\nAuthorization: Bearer http%3a%2f%2fschemas.xmlsoap.org%2fws%2f2005%2f05%2fidentity%2fclaims%2fnameidentifier=amsaccount1&urn%3aSubscriptionId=zbbef702-2233-477b-9f16-bc4d3aa97387&http%3a%2f%2fschemas.microsoft.com%2faccesscontrolservice%2f2010%2f07%2fclaims%2fidentityprovider=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&Audience=urn%3aWindowsAzureMediaServices&ExpiresOn=1423452029&Issuer=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&HMACSHA256=IEXV06e3drSIN5naFRBdhJZCbfEqQbFZsGSIGmawhEo%3d\r\nx-ms-version: 2.11\r\nx-ms-client-request-id: 569d4b7c-a446-4edc-b77c-9fb686083dd8\r\nHost: https://wamsshaclus001rest-hs.chinacloudapp.cn\r\nContent-Length: 21\r\n\r\n{\"keyDeliveryType\":2}\r\n```\r\n\r\n响应：\r\n\r\n```\r\nHTTP/1.1 200 OK\r\nCache-Control: no-cache\r\nContent-Length: 198\r\nContent-Type: application/json;odata=minimalmetadata;streaming=true;charset=utf-8\r\nServer: Microsoft-IIS/8.5\r\nx-ms-client-request-id: 569d4b7c-a446-4edc-b77c-9fb686083dd8\r\nrequest-id: d26f65d2-fe65-4136-8fcf-31545be68377\r\nx-ms-request-id: d26f65d2-fe65-4136-8fcf-31545be68377\r\nX-Content-Type-Options: nosniff\r\nDataServiceVersion: 3.0;\r\nStrict-Transport-Security: max-age=31536000; includeSubDomains\r\nDate: Sun, 08 Feb 2015 21:42:30 GMT\r\n\r\n{\r\n    \"odata.metadata\":\"https://wamsshaclus001rest-hs.chinacloudapp.cn/api/$metadata#Edm.String\",\r\n    \"value\":\"https://amsaccount1.keydelivery.mediaservices.chinacloudapi.cn/?KID=dc88f996-2859-4cf7-a279-c52a9d6b2f04\"\r\n    }\r\n```\r\n\r\n### <a name=\"create-asset-delivery-policy\"></a>创建资产传送策略\r\n\r\n以下 HTTP 请求将创建 **AssetDeliveryPolicy**，该策略配置为将动态信封加密 (**DynamicEnvelopeEncryption**) 应用到 **HLS** 协议（在本示例中，已阻止流式处理其他协议）。 \r\n\r\n有关创建 AssetDeliveryPolicy 时可以指定哪些值的信息，请参阅 [定义 AssetDeliveryPolicy 时使用的类型](#types) 部分。\r\n\r\n请求：\r\n\r\n```\r\nPOST https://wamsshaclus001rest-hs.chinacloudapp.cn/api/AssetDeliveryPolicies HTTP/1.1\r\nContent-Type: application/json\r\nDataServiceVersion: 1.0;NetFx\r\nMaxDataServiceVersion: 3.0;NetFx\r\nAccept: application/json\r\nAccept-Charset: UTF-8\r\nUser-Agent: Microsoft ADO.NET Data Services\r\nAuthorization: Bearer http%3a%2f%2fschemas.xmlsoap.org%2fws%2f2005%2f05%2fidentity%2fclaims%2fnameidentifier=amsaccount1&urn%3aSubscriptionId=zbbef702-2233-477b-9f16-bc4d3aa97387&http%3a%2f%2fschemas.microsoft.com%2faccesscontrolservice%2f2010%2f07%2fclaims%2fidentityprovider=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&Audience=urn%3aWindowsAzureMediaServices&ExpiresOn=1423480651&Issuer=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&HMACSHA256=T2FG3tIV0e2ETzxQ6RDWxWAsAzuy3ez2ruXPhrBe62Y%3d\r\nx-ms-version: 2.11\r\nx-ms-client-request-id: fff319f6-71dd-4f6c-af27-b675c0066fa7\r\nHost: https://wamsshaclus001rest-hs.chinacloudapp.cn\r\n\r\n{\"Name\":\"AssetDeliveryPolicy\",\"AssetDeliveryProtocol\":4,\"AssetDeliveryPolicyType\":3,\"AssetDeliveryConfiguration\":\"[{\\\"Key\\\":2,\\\"Value\\\":\\\"https:\\\\/\\\\/amsaccount1.keydelivery.mediaservices.chinacloudapi.cn\\\\/\\\"}]\"}\r\n```\r\n\r\n响应：\r\n\r\n```\r\nHTTP/1.1 201 Created\r\nCache-Control: no-cache\r\nContent-Length: 460\r\nContent-Type: application/json;odata=minimalmetadata;streaming=true;charset=utf-8\r\nLocation: https://wamsshaclus001rest-hs.chinacloudapp.cn/api/AssetDeliveryPolicies('nb%3Aadpid%3AUUID%3Aec9b994e-672c-4a5b-8490-a464eeb7964b')\r\nServer: Microsoft-IIS/8.5\r\nx-ms-client-request-id: fff319f6-71dd-4f6c-af27-b675c0066fa7\r\nrequest-id: c2a1ac0e-9644-474f-b38f-b9541c3a7c5f\r\nx-ms-request-id: c2a1ac0e-9644-474f-b38f-b9541c3a7c5f\r\nX-Content-Type-Options: nosniff\r\nDataServiceVersion: 3.0;\r\nStrict-Transport-Security: max-age=31536000; includeSubDomains\r\nDate: Mon, 09 Feb 2015 05:24:38 GMT\r\n\r\n{\"odata.metadata\":\"https://wamsshaclus001rest-hs.chinacloudapp.cn/api/$metadata#AssetDeliveryPolicies/@Element\",\"Id\":\"nb:adpid:UUID:ec9b994e-672c-4a5b-8490-a464eeb7964b\",\"Name\":\"AssetDeliveryPolicy\",\"AssetDeliveryProtocol\":4,\"AssetDeliveryPolicyType\":3,\"AssetDeliveryConfiguration\":\"[{\\\"Key\\\":2,\\\"Value\\\":\\\"https:\\\\/\\\\/amsaccount1.keydelivery.mediaservices.chinacloudapi.cn\\\\/\\\"}]\",\"Created\":\"2015-02-09T05:24:38.9167436Z\",\"LastModified\":\"2015-02-09T05:24:38.9167436Z\"}\r\n```\r\n\r\n### <a name=\"link-asset-with-asset-delivery-policy\"></a>将资产与资产传送策略相链接\r\n请参阅[将资产与资产传送策略相链接](#link_asset_with_asset_delivery_policy)\r\n\r\n## <a name=\"dynamiccommonencryption-asset-delivery-policy\"></a>DynamicCommonEncryption 资产传送策略\r\n### <a name=\"create-content-key-of-the-commonencryption-type-and-link-it-to-the-asset\"></a>创建 CommonEncryption 类型的内容密钥，并将其链接到资产\r\n在指定 DynamicCommonEncryption 传送策略时，需确保将资产链接到 CommonEncryption 类型的内容密钥。 有关详细信息，请参阅：[创建内容密钥](media-services-rest-create-contentkey.md)）。\r\n\r\n### <a name=\"get-delivery-url\"></a>获取传送 URL\r\n\r\n获取上一步创建的内容密钥的 PlayReady 传送方法的传送 URL。 客户端使用返回的 URL 来请求 PlayReady 许可证，以播放受保护内容。 有关详细信息，请参阅 [获取传送 URL](#get_delivery_url)。\r\n\r\n### <a name=\"create-asset-delivery-policy\"></a>创建资产传送策略\r\n\r\n以下 HTTP 请求将创建 AssetDeliveryPolicy，该策略配置为将动态通用加密 (DynamicCommonEncryption) 应用到平滑流式处理协议（在本示例中，已阻止流式处理其他协议）。\r\n\r\n有关创建 AssetDeliveryPolicy 时可以指定哪些值的信息，请参阅 [定义 AssetDeliveryPolicy 时使用的类型](#types) 部分。\r\n\r\n请求：\r\n\r\n```\r\nPOST https://wamsshaclus001rest-hs.chinacloudapp.cn/api/AssetDeliveryPolicies HTTP/1.1\r\nContent-Type: application/json\r\nDataServiceVersion: 1.0;NetFx\r\nMaxDataServiceVersion: 3.0;NetFx\r\nAccept: application/json\r\nAccept-Charset: UTF-8\r\nUser-Agent: Microsoft ADO.NET Data Services\r\nAuthorization: Bearer http%3a%2f%2fschemas.xmlsoap.org%2fws%2f2005%2f05%2fidentity%2fclaims%2fnameidentifier=amsaccount1&urn%3aSubscriptionId=zbbef702-2233-477b-9f16-bc4d3aa97387&http%3a%2f%2fschemas.microsoft.com%2faccesscontrolservice%2f2010%2f07%2fclaims%2fidentityprovider=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&Audience=urn%3aWindowsAzureMediaServices&ExpiresOn=1423480651&Issuer=https%3a%2f%2fwamsprodglobal001acs.accesscontrol.chinacloudapi.cn%2f&HMACSHA256=T2FG3tIV0e2ETzxQ6RDWxWAsAzuy3ez2ruXPhrBe62Y%3d\r\nx-ms-version: 2.11\r\nx-ms-client-request-id: fff319f6-71dd-4f6c-af27-b675c0066fa7\r\nHost: https://wamsshaclus001rest-hs.chinacloudapp.cn\r\n\r\n{\"Name\":\"AssetDeliveryPolicy\",\"AssetDeliveryProtocol\":1,\"AssetDeliveryPolicyType\":4,\"AssetDeliveryConfiguration\":\"[{\\\"Key\\\":2,\\\"Value\\\":\\\"https:\\\\/\\\\/amsaccount1.keydelivery.mediaservices.chinacloudapi.cn\\/PlayReady\\/\"}]\"}\r\n```\r\n\r\n### <a name=\"link-asset-with-asset-delivery-policy\"></a>将资产与资产传送策略相链接\r\n\r\n请参阅[将资产与资产传送策略相链接](#link_asset_with_asset_delivery_policy)\r\n\r\n## <a id=\"types\"></a>定义 AssetDeliveryPolicy 时使用的类型\r\n\r\n### <a name=\"assetdeliveryprotocol\"></a>AssetDeliveryProtocol\r\n\r\n以下枚举说明可以为资产传送协议设置的值。\r\n```\r\n[Flags]\r\npublic enum AssetDeliveryProtocol\r\n{\r\n    /// <summary>\r\n    /// No protocols.\r\n    /// </summary>\r\n    None = 0x0,\r\n\r\n    /// <summary>\r\n    /// Smooth streaming protocol.\r\n    /// </summary>\r\n    SmoothStreaming = 0x1,\r\n\r\n    /// <summary>\r\n    /// MPEG Dynamic Adaptive Streaming over HTTP (DASH)\r\n    /// </summary>\r\n    Dash = 0x2,\r\n\r\n    /// <summary>\r\n    /// Apple HTTP Live Streaming protocol.\r\n    /// </summary>\r\n    HLS = 0x4,\r\n\r\n        ProgressiveDownload = 0x10, \r\n\r\n    /// <summary>\r\n    /// Include all protocols.\r\n    /// </summary>\r\n    All = 0xFFFF\r\n}\r\n```\r\n\r\n### <a name=\"assetdeliverypolicytype\"></a>AssetDeliveryPolicyType\r\n\r\n以下枚举说明可以为资产传送策略类型设置的值。\r\n```\r\npublic enum AssetDeliveryPolicyType\r\n{\r\n    /// <summary>\r\n    /// Delivery Policy Type not set.  An invalid value.\r\n    /// </summary>\r\n    None,\r\n\r\n    /// <summary>\r\n    /// The Asset should not be delivered via this AssetDeliveryProtocol.\r\n    /// </summary>\r\n    Blocked,\r\n\r\n    /// <summary>\r\n    /// Do not apply dynamic encryption to the asset.\r\n    /// </summary>\r\n    /// \r\n    NoDynamicEncryption,\r\n\r\n    /// <summary>\r\n    /// Apply Dynamic Envelope encryption.\r\n    /// </summary>\r\n    DynamicEnvelopeEncryption,\r\n\r\n    /// <summary>\r\n    /// Apply Dynamic Common encryption.\r\n    /// </summary>\r\n    DynamicCommonEncryption\r\n    }\r\n```\r\n\r\n### <a name=\"contentkeydeliverytype\"></a>ContentKeyDeliveryType\r\n\r\n以下枚举说明可用于配置将内容密钥传送到客户端的方法的值。\r\n```\r\npublic enum ContentKeyDeliveryType\r\n{\r\n    /// <summary>\r\n    /// None.\r\n    ///\r\n    </summary>\r\n    None = 0,\r\n\r\n    /// <summary>\r\n    /// Use PlayReady License acquistion protocol\r\n    ///\r\n    </summary>\r\n    PlayReadyLicense = 1,\r\n\r\n    /// <summary>\r\n    /// Use MPEG Baseline HTTP key protocol.\r\n    ///\r\n    </summary>\r\n    BaselineHttp = 2\r\n\r\n}\r\n```\r\n\r\n### <a name=\"assetdeliverypolicyconfigurationkey\"></a>AssetDeliveryPolicyConfigurationKey\r\n\r\n以下枚举说明为配置用于获取资产传送策略的特定配置的密钥可以设置的值。\r\n```\r\npublic enum AssetDeliveryPolicyConfigurationKey\r\n{\r\n    /// <summary>\r\n    /// No policies.\r\n    /// </summary>\r\n    None,\r\n\r\n    /// <summary>\r\n    /// Exact Envelope key URL.\r\n    /// </summary>\r\n    EnvelopeKeyAcquisitionUrl,\r\n\r\n    /// <summary>\r\n    /// Base key url that will have KID=<Guid> appended for Envelope.\r\n    /// </summary>\r\n    EnvelopeBaseKeyAcquisitionUrl,\r\n\r\n    /// <summary>\r\n    /// The initialization vector to use for envelope encryption in Base64 format.\r\n    /// </summary>\r\n    EnvelopeEncryptionIVAsBase64,\r\n\r\n    /// <summary>\r\n    /// The PlayReady License Acquisition Url to use for common encryption.\r\n    /// </summary>\r\n    PlayReadyLicenseAcquisitionUrl,\r\n\r\n    /// <summary>\r\n    /// The PlayReady Custom Attributes to add to the PlayReady Content Header\r\n    /// </summary>\r\n    PlayReadyCustomAttributes,\r\n\r\n    /// <summary>\r\n    /// The initialization vector to use for envelope encryption.\r\n    /// </summary>\r\n    EnvelopeEncryptionIV\r\n}\r\n```\r\n\r\n"}