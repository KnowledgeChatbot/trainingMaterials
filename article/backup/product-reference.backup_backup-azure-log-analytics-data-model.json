{"Title":"Azure 备份的 Log Analytics 数据模型","Description":"本文介绍 Azure 备份数据的 Log Analytics 数据模型详细信息。","Content":"# <a name=\"log-analytics-data-model-for-azure-backup-data\"></a>Azure 备份数据的 Log Analytics 数据模型\r\n本文介绍用于将报告数据推送到 Log Analytics 的数据模型。 使用此数据模型可以创建自定义查询和仪表板，并在 OMS 中利用这些对象。 \r\n\r\n## <a name=\"using-azure-backup-data-model\"></a>使用 Azure 备份数据模型\r\n可以使用数据模型随附的以下字段，根据要求创建视觉对象、自定义查询和仪表板。\r\n\r\n### <a name=\"alert\"></a>警报\r\n此表提供警报相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| AlertUniqueId_s |文本 |生成的警报的唯一 ID |\r\n| AlertType_s |文本 |生成的警报的类型，例如 Backup |\r\n| AlertStatus_s |文本 |警报的状态，例如 Active |\r\n| AlertOccurenceDateTime_s |日期/时间 |警报的创建日期和时间 |\r\n| AlertSeverity_s |文本 |警报的严重性，例如 Critical |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| BackupItemUniqueId_s |文本 |此警报所属备份项的唯一 ID |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |警报对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此警报所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - Alert |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| ProtectedServerUniqueId_s |文本 |此警报所属保护项的唯一 ID |\r\n| VaultUniqueId_s |文本 |此警报所属保护项的唯一 ID |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"backupitem\"></a>BackupItem\r\n此表提供备份项相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |  \r\n| BackupItemUniqueId_s |文本 |备份项的唯一 ID |\r\n| BackupItemId_s |文本 |备份项 ID |\r\n| BackupItemName_s |文本 |备份项的名称 |\r\n| BackupItemFriendlyName_s |文本 |备份项的友好名称 |\r\n| BackupItemType_s |文本 |备份项的类型，例如 VM、FileFolder |\r\n| ProtectedServerName_s |文本 |备份项所属的受保护服务器的名称 |\r\n| ProtectionState_s |文本 |备份项的当前保护状态，例如 Protected、ProtectionStopped |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |备份项对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此备份项所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - BackupItem |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"backupitemassociation\"></a>BackupItemAssociation\r\n此表提供有关备份项与各个实体之间的关联的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |  \r\n| BackupItemUniqueId_s |文本 |备份项的唯一 ID |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |备份项关联对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此备份项所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - BackupItemAssociation |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| PolicyUniqueId_g |文本 |用于标识备份项关联到的策略的唯一 ID |\r\n| ProtectedServerUniqueId_s |文本 |此备份项所属的受保护服务器的唯一 ID |\r\n| VaultUniqueId_s |文本 |此备份项所属的保管库的唯一 ID |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"job\"></a>作业\r\n此表提供作业相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| BackupItemUniqueId_s |文本 |此作业所属备份项的唯一 ID |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |作业对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此作业所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - Job |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| ProtectedServerUniqueId_s |文本 |此作业所属保护项的唯一 ID |\r\n| VaultUniqueId_s |文本 |此作业所属保护项的唯一 ID |\r\n| JobOperation_s |文本 |为其运行作业的操作，例如备份、还原、配置备份 |\r\n| JobStatus_s |文本 |作业的状态，例如 Completed、Failed |\r\n| JobFailureCode_s |文本 |导致作业失败的故障代码字符串 |\r\n| JobStartDateTime_s |日期/时间 |开始运行作业的日期和时间 |\r\n| BackupStorageDestination_s |文本 |备份存储目标，例如 Cloud、Disk  |\r\n| JobDurationInSecs_s | Number |作业的总持续时间，以秒为单位 |\r\n| DataTransferredInMB_s | Number |此作业传输的数据量，以 MB 为单位|\r\n| JobUniqueId_g |文本 |用于标识作业的唯一 ID |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"policy\"></a>策略\r\n此表提供策略相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |策略对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此策略所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - Policy |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| PolicyUniqueId_g |文本 |用于标识策略的唯一 ID |\r\n| PolicyName_s |文本 |已定义的策略的名称 |\r\n| BackupFrequency_s |文本 |运行备份的频率，例如 daily、weekly |\r\n| BackupTimes_s |文本 |计划备份时的日期和时间 |\r\n| BackupDaysOfTheWeek_s |文本 |计划备份时的日期（星期几） |\r\n| RetentionDuration_s |整数 |所配置备份的保留持续时间 |\r\n| DailyRetentionDuration_s |整数 |所配置备份的总保留时间（按天算） |\r\n| DailyRetentionTimes_s |文本 |配置每日保留时的日期和时间 |\r\n| WeeklyRetentionDuration_s |十进制数 |所配置备份的每周保留总时间（按周算） |\r\n| WeeklyRetentionTimes_s |文本 |配置每周保留时的日期和时间 |\r\n| WeeklyRetentionDaysOfTheWeek_s |文本 |选择进行每周保留的日期（星期几） |\r\n| MonthlyRetentionDuration_s |十进制数 |所配置备份的总保留时间（按月算） |\r\n| MonthlyRetentionTimes_s |文本 |配置每月保留时的日期和时间 |\r\n| MonthlyRetentionFormat_s |文本 |每月保留的配置类型，例如基于日期的每日、基于周次的每周 |\r\n| MonthlyRetentionDaysOfTheWeek_s |文本 |选择进行每月保留的日期（星期几） |\r\n| MonthlyRetentionWeeksOfTheMonth_s |文本 |配置每月保留时的当月周次，例如 First、Last 等 |\r\n| YearlyRetentionDuration_s |十进制数 |所配置备份的总保留时间（按年算） |\r\n| YearlyRetentionTimes_s |文本 |配置每年保留时的日期和时间 |\r\n| YearlyRetentionMonthsOfTheYear_s |文本 |选择进行每年保留的月份 |\r\n| YearlyRetentionFormat_s |文本 |每年保留的配置类型，例如基于日期的每日、基于周次的每周 |\r\n| YearlyRetentionDaysOfTheMonth_s |文本 |选择进行每年保留的日期 |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"policyassociation\"></a>PolicyAssociation\r\n此表提供有关策略与各个实体之间的关联的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |策略对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此策略所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - PolicyAssociation |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| PolicyUniqueId_g |文本 |用于标识策略的唯一 ID |\r\n| VaultUniqueId_s |文本 |此策略所属的保管库的唯一 ID |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"protectedserver\"></a>ProtectedServer\r\n此表提供了受保护服务器相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| ProtectedServerName_s |文本 |受保护的服务器的名称 |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |受保护服务器对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此受保护服务器所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - ProtectedServer |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| ProtectedServerUniqueId_s |文本 |受保护服务器的唯一 ID |\r\n| RegisteredContainerId_s |文本 |注册用于备份的容器的 ID |\r\n| ProtectedServerType_s |文本 |备份的受保护服务器的类型，例如 Windows |\r\n| ProtectedServerFriendlyName_s |文本 |受保护的服务器的友好名称 |\r\n| AzureBackupAgentVersion_s |文本 |代理备份版本的版本号 |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"protectedserverassociation\"></a>ProtectedServerAssociation\r\n此表提供有关受保护服务器与其他实体之间的关联的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |受保护服务器关联对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此受保护服务器所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - ProtectedServerAssociation |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| ProtectedServerUniqueId_s |文本 |受保护服务器的唯一 ID |\r\n| VaultUniqueId_s |文本 |此受保护服务器所属的保管库的唯一 ID |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"storage\"></a>存储\r\n此表提供存储相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| CloudStorageInBytes_s |十进制数 |备份所用的云备份存储量，基于最新值进行计算 |\r\n| ProtectedInstances_s |十进制数 |用于计算账单中前端存储量的受保护实例的数目，基于最新值进行计算 |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |存储对象的当前状态，例如 Active、Deleted |\r\n| BackupManagementType_s |文本 |执行备份的提供程序类型，例如此存储所属的 IaaSVM、FileFolder |\r\n| OperationName |文本 |此字段表示当前操作的名称 - Storage |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| ProtectedServerUniqueId_s |文本 |为其计算存储的受保护服务器的唯一 ID |\r\n| VaultUniqueId_s |文本 |为其计算存储的保管库的唯一 ID |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n### <a name=\"vault\"></a>保管库\r\n此表提供保管库相关字段的详细信息。\r\n\r\n| 字段 | 数据类型 | 说明 |\r\n| --- | --- | --- |\r\n| EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r\n| SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r\n| State_s |文本 |保管库对象的当前状态，例如 Active、Deleted |\r\n| OperationName |文本 |此字段表示当前操作的名称 - Vault |\r\n| 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r\n| 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r\n| VaultUniqueId_s |文本 |保管库的唯一 ID |\r\n| VaultName_s |文本 |保管库的名称 |\r\n| AzureDataCenter_s |文本 |保管库所在的数据中心 |\r\n| StorageReplicationType_s |文本 |保管库存储复制的类型，例如 GeoRedundant |\r\n| SourceSystem |文本 |当前数据的源系统 - Azure |\r\n| ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r\n| SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r\n| resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r\n| ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r\n| ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r\n\r\n"}