{"Title":"如何配置网站 Always ON 的默认访问 URL","Description":"如何配置网站 Always ON 的默认访问 URL","Content":"# 如何配置网站 Always ON 的默认访问 URL\r\n\r\n## 问题描述\r\n\r\n如果网站开启了 Always ON 特性，则后台会默认访问网站的根目录来保障网站进程不被卸载，如何配置后台访问其它路径。\r\n\r\n## 问题现象\r\n\r\n如果我们部署了一个 API 服务，网站的根路径本身就是没有内容的，这样开启 Always ON 特性后，会看到一些和 `40x` 相关的错误日志。\r\n\r\n## 解决方法\r\n\r\n如果想让后台的 Always ON 功能访问其它路径，则需要配置 web.config 如下：\r\n\r\n```XML\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<configuration>\r\n  <system.webServer>\r\n       <rewrite>\r\n            <rules>\r\n                <rule name=\"For user agent AlwaysOn and Root of site\" stopProcessing=\"true\">\r\n                    <match url=\"^$\"/>\r\n               <conditions>\r\n                 <add input=\"{HTTP_USER_AGENT}\" pattern=\"^AlwaysOn$\" />\r\n               </conditions>\r\n                    <action type=\"Rewrite\" url=\"test/test.html\" />\r\n                </rule>\r\n            </rules>\r\n        </rewrite>\r\n  </system.webServer>\r\n</configuration>\r\n```\r\n\r\n其中 test/test.html 是 wwwroot 中的相对路径：\r\n\r\n![kudu](media/aog-app-service-qa-configure-always-on/kudu.png)"}