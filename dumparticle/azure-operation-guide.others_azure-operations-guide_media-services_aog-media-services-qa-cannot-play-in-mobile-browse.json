{"Title":"使用 Azure Meida Player 无法在某些手机浏览器播放视频","Description":"使用 Azure Meida Player 无法在某些手机浏览器播放视频","Content":"\r # 使用 Azure Meida Player 无法在某些手机浏览器播放视频\r \r ## 问题现象\r \r 通过 Azure Media Player 播放媒体服务发布的视频，在 PC 端播放正常，在手机端某些浏览器会出现无法播放或者播放没有声音的情况。\r \r 此种情况可能是使用了 [Dynamic 模式](https://amp.azure.net/libs/amp/latest/samples/dynamic_setsource.html)加载视频，或者默认使用 HLS-V4 协议，导致某些只支持 HLS-V3 协议的手机浏览器无法兼容。\r \r ## 解决方案\r \r 使用 [Static 模式](https://amp.azure.net/libs/amp/latest/samples/videotag_setsource.html)进行播放，并配置 streamingFormats 属性来显示指定媒体服务可支持的播放协议。示例代码如下。\r \r ```XML\r <!DOCTYPE html>\r <html>\r   <head>\r     <meta charset=\"utf-8\">\r     <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r     <title>Azure Media Player</title>\r     <meta name=\"description\" content=\"\">\r     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r \r     <!--*****START OF Azure Media Player Scripts*****-->\r     <!--Note: DO NOT USE the \"latest\" folder in production. Replace \"latest\" with a version number like \"1.0.0\"-->\r     <!--EX:<script src=\"//amp.azure.net/libs/amp/1.0.0/azuremediaplayer.min.js\"></script>-->\r     <!--Azure Media Player versions can be queried from //aka.ms/ampchangelog-->\r     <link href=\"//amp.azure.net/libs/amp/latest/skins/amp-default/azuremediaplayer.min.css\" rel=\"stylesheet\">\r     <script src=\"//amp.azure.net/libs/amp/latest/azuremediaplayer.min.js\"></script>\r     <!--*****END OF Azure Media Player Scripts*****-->\r   </head>\r   <body>\r     <h1>Sample: Clear</h1>\r     <video id=\"azuremediaplayer\" class=\"azuremediaplayer amp-default-skin amp-big-play-centered\" controls autoplay width=\"640\" height=\"400\" poster=\"\" data-setup='{}' tabindex=\"0\">\r       <source src=\"//amssamples.streaming.mediaservices.windows.net/91492735-c523-432b-ba01-faba6c2206a2/AzureMediaServicesPromo.ism/manifest\" type=\"application/vnd.ms-sstr+xml\" data-setup='{\"streamingFormats\": [\"DASH\",\"SMOOTH\",\"HLS-V3\", \"HLS-V4\"] }'/>\r       <p class=\"amp-no-js\">To view this video please enable JavaScript, and consider upgrading to a web browser that supports HTML5 video</p>\r     </video>\r     <footer>\r       <br />\r       <p>© Microsoft Corporation 2016</p>\r     </footer>\r   </body>\r </html>\r ```\r ## 参考文档\r \r [Azure Media Player 的相关范例](https://amp.azure.net/libs/amp/latest/docs/samples.html)"}