{"Title":"来宾 OS 系列 1 停用通知","Description":"提供有关 Azure 来宾 OS 系列 1 何时停用以及如何判断你是否受影响的信息","Content":"# <a name=\"guest-os-family-1-retirement-notice\"></a>来宾 OS 系列 1 停用通知\r \r 我们已在 2013 年 6 月 1 日宣布停用 OS 系列 1。\r \r 2014 年 9 月 2 日 - 基于 Windows Server 2008 操作系统的 Azure 来宾操作系统（来宾 OS）系列 1.x 正式停用。 所有使用系列 1 部署新服务或升级现有服务的尝试均将失败，并显示错误消息“来宾 OS 系列 1 已停用“。\r \r **2014 年 11 月 3 日** - 来宾 OS 系列 1 的延长支持结束，该系列完全停用。 仍基于系列 1 的所有服务将受影响。 我们随时可能会停止这些服务。 除非你自己手动升级你的服务，否则无法保证你的服务将继续运行。\r \r 如果还有其他疑问，请访问[云服务论坛](http://social.msdn.microsoft.com/Forums/home?forum=windowsazuredevelopment&filter=alltypes&sort=lastpostdesc)或[联系 Azure 支持人员](https://www.azure.cn/support/)。\r \r ## <a name=\"are-you-affected\"></a>了解你是否受到影响\r \r 如果存在下列任一情况，则表示你的云服务已受到影响：\r \r 1. 你在云服务的 ServiceConfiguration.cscfg 文件中显式指定了值“osFamily = 1”。\r 2. 你未在云服务的 ServiceConfiguration.cscfg 文件中显式指定 osFamily 的值。 当前，系统对此情况使用默认值“1”。\r 3. Azure 门户将来宾操作系统系列值列为“Windows Server 2008”。\r \r 若要了解哪个云服务在运行哪个 OS 系列，可在 Azure PowerShell 中运行以下脚本，但必须首先[设置 Azure PowerShell](../powershell-install-configure.md)。\r \r ```Powershell\r     foreach($subscription in Get-AzureSubscription) {\r         Select-AzureSubscription -SubscriptionName $subscription.SubscriptionName \r \r         $deployments=get-azureService | get-azureDeployment -ErrorAction Ignore | where {$_.SdkVersion -NE \"\"} \r \r         $deployments | ft @{Name=\"SubscriptionName\";Expression={$subscription.SubscriptionName}}, ServiceName, SdkVersion, Slot, @{Name=\"osFamily\";Expression={(select-xml -content $_.configuration -xpath \"/ns:ServiceConfiguration/@osFamily\" -namespace $namespace).node.value }}, osVersion, Status, URL\r     }\r ```\r \r 如果脚本输出中的 osFamily 列为空或者包含“1”，则表示 OS 系列 1 的停用将影响到你的云服务。\r \r ## <a name=\"recommendations-if-you-are-affected\"></a>如果你受到影响，请遵循以下建议\r \r 建议将你的云服务角色迁移到支持的来宾 OS 系列之一：\r \r **来宾 OS 系列 4.x** - Windows Server 2012 R2*（建议）*\r \r 1. 确保你的应用程序使用了 SDK 2.1 或更高版本以及 .NET framework 4.0、4.5 或 4.5.1。\r 2. 在 ServiceConfiguration.cscfg 文件中将 osFamily 特性设置为“4”，然后重新部署云服务。\r \r **来宾 OS 系列 3.x** \r \r 1. 确保你的应用程序使用了 SDK 1.8 或更高版本以及 .NET framework 4.0 或 4.5。\r 2. 在 ServiceConfiguration.cscfg 文件中将 osFamily 特性设置为“3”，然后重新部署云服务。\r \r **来宾 OS 系列 2.x** \r \r 1. 确保你的应用程序使用了 SDK 1.3 和更高版本以及 .NET framework 3.5 或 4.0。\r 2. 在 ServiceConfiguration.cscfg 文件中将 osFamily 特性设置为“2”，然后重新部署云服务。\r \r ## <a name=\"extended-support-for-guest-os-family-1-ended-nov-3-2014\"></a>对来宾 OS 系列 1 的延长支持已于 2014 年 11 月 3 日结束\r 不再支持来宾 OS 系列 1 上的云服务。 请尽快迁出系列 1，以免服务中断。  \r \r ## <a name=\"next-steps\"></a>后续步骤\r 查看最新的 [来宾 OS 版本](./cloud-services-guestos-update-matrix.md)。\r <!--Update_Description:update meta properties and wording-->\r "}