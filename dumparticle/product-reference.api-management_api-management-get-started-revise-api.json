{"Title":"在 Azure API 管理中使用修订更新 API","Description":"遵循本教程中的步骤了解如何在 API 管理中使用修订进行非重大更改。","Content":"# <a name=\"make-non-breaking-changes-safely-using-revisions\"></a>使用修订安全进行非重大更改\r 本教程介绍如何对 API 进行更改，并将更改情况告知开发人员。\r \r ## <a name=\"prerequisites\"></a>先决条件\r 若要完成本教程，需要创建一个 API 管理服务，并准备好一个可以更改的现有 API（取代“会议 API”）。\r \r ## <a name=\"about-revisions\"></a>关于修订\r 当 API 准备就绪并即将供开发人员使用时，我们通常需要谨慎地对该 API 进行更改 - 以免干扰 API 的调用方。 另一种有效的做法是让开发人员知道所做的更改。 可以在 Azure API 管理中使用**修订**实现此目的。\r \r ## <a name=\"walkthrough\"></a>演练\r 本演练添加一个新的修订版，在其中添加一个操作，并将该修订版设为当前版本 - 到时会创建更改日志项目。\r \r ## <a name=\"add-a-new-revision\"></a>添加新的修订版\r 1. 浏览到 Azure 门户上 API 管理服务中的“API”页。\r 2. 从 API 列表中选择“会议 API”，并从靠近页面顶部的菜单中选择“修订”选项卡。\r 3. 选择“+ 添加修订版”\r 靠近屏幕顶部的“修订”菜单![](./media/api-management-getstarted-revise-api/TopMenu.PNG)\r \r     > [!TIP]\r     > 也可以在 API 上的上下文菜单 (**...**) 中选择“添加修订版”。\r \r 4. 提供新修订版的说明，帮助记住其用途。\r 5. 选择“创建”\r 6. 现已创建新的修订版。\r \r     > [!NOTE]\r     > 原始 API 保留在“修订版 1”中。 这是在你将其他修订版设为当前版本之前，用户继续调用的修订版。\r \r ## <a name=\"make-non-breaking-changes-to-your-revision\"></a>对修订版进行非重大更改\r 1. 选择靠近屏幕顶部的“设计”选项卡。\r 2. 请注意，**修订版选择器**（紧靠在“设计”选项卡的上方）显示当前修订版为“修订版 2”。\r \r     > [!TIP]\r     > 使用修订版选择器可在要使用的修订版之间切换。\r \r 3. 选择“+ 添加操作”。\r 4. 将新操作设置为“POST”，将操作的“名称”和“显示名称”设置为“反馈”\r 5. **保存**新操作。\r 6. 现已对**修订版 2** 进行更改。 使用靠近页面顶部的**修订版选择器**切换回到**修订版 1**。\r 7. 请注意，新操作未出现在“修订版 1”中。 \r \r ## <a name=\"make-your-revision-current-and-add-a-change-log-entry\"></a>将修订版设为当前版本并添加更改日志项目\r 1. 在靠近页面顶部的菜单中选择“修订”选项卡。\r ![修订屏幕上的修订菜单。](./media/api-management-getstarted-revise-api/RevisionsMenu.PNG)\r 2. 打开“修订版 2”对应的上下文菜单 (**...**)。\r 3. 选择“设为当前版本”。\r ![将修订版设为当前版本并发布到更改日志](./media/api-management-getstarted-revise-api/MakeCurrent.PNG)\r 4. 选择“发布到此 API 的公共更改日志”\r 5. 提供可让开发人员看到的更改说明，例如，“添加了新的反馈操作”。\r 6. **修订版 2** 现在是当前版本。\r \r ## <a name=\"browse-the-developer-portal-to-see-changes-and-change-log\"></a>浏览开发人员门户以查看更改与更改日志\r 1. 在顶部菜单中选择“开发人员门户”。\r 2. 依次选择“API”、“会议 API”。\r 3. 请注意，新的“反馈”操作现已显示。\r 4. 选择 API 名称下面的“API 更改历史记录”。\r 5. 请注意，更改日志项目已显示在此列表中。\r ![开发人员门户上的更改日志](./media/api-management-getstarted-revise-api/ChangeLogDevPortal.PNG)\r \r ## <a name=\"next-steps\"></a>后续步骤\r [使用 Azure API 管理发布 API 版本](#api-management-getstarted-publish-versions.md)"}