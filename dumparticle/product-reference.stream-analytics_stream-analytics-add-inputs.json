{"Title":"向流分析作业添加数据输入","Description":"了解如何通过事件中心将数据源作为流数据挂接到流分析作业，或者通过 Blob 存储挂接引用数据。","Content":"# <a name=\"add-a-streaming-data-input-or-reference-data-to-a-stream-analytics-job\"></a>向流分析作业添加流数据输入或引用数据\r 了解如何通过事件中心将数据源作为流数据挂接到流分析作业，或者通过 Blob 存储挂接引用数据。\r \r Azure 流分析作业可以连接到一个或多个数据输入，每个数据输入都定义了一个到现有数据源的连接。 将数据发送到数据源时，流分析作业会使用该数据并将其作为流数据进行实时处理。 流分析在作业订阅内外都与 [Azure 事件中心](https://www.azure.cn/home/features/event-hubs/)和 [Azure Blob 存储](../storage/blobs/storage-dotnet-how-to-use-blobs.md)进行高级集成。\r <!-- Not Available [Stream Analytics learning path](/documentation/learning-paths/stream-analytics/) even in global ACOM -->\r \r ## <a name=\"data-input-streaming-data-and-reference-data\"></a>数据输入：流数据和引用数据\r 流分析中有两种不同类型的输入：数据流和引用数据。\r \r * **数据流**：流分析作业须至少包含一种可供作业使用和转换的数据流输入。 Azure Blob 存储和 Azure 事件中心均可作为数据流输入源。 Azure 事件中心用于从连接的设备、服务和应用程序收集事件流。 Azure Blob 存储可用作按流的形式引入大量数据的输入源。  \r * **引用数据**：流分析支持辅助输入的另一种类型，称为引用数据。  与运动的数据相反，该数据是静态的或变化缓慢。  它通常用于执行查找以及与数据流关联创建更丰富的数据集。  目前只支持使用 Azure Blob 存储作为引用数据的输入源。  \r \r 要向流分析作业添加输入：\r \r 1. 在 Azure 门户中，单击“输入”，并在流分析作业中单击“添加输入”。\r \r     ![Azure 经典管理门户 - 添加输入。](./media/stream-analytics-add-inputs/1-stream-analytics-add-inputs.png)  \r \r     在 Azure 门户中，单击流分析作业中的“输入”磁贴。  \r \r     ![Azure 门户 - 添加数据输入。](./media/stream-analytics-add-inputs/7-stream-analytics-add-inputs.png)  \r 2. 指定输入的类型：“数据流”或“引用数据”。\r \r     ![添加正确的数据输入（流式传输数据或引用数据）](./media/stream-analytics-add-inputs/2-stream-analytics-add-inputs.png)  \r \r     ![添加正确的数据输入（流式传输数据或引用数据）](./media/stream-analytics-add-inputs/8-stream-analytics-add-inputs.png)  \r 3. 如果创建一个数据流输入，则为该输入指定源类型。  由于目前只支持 Blob 存储，在引用数据创建过程中会跳过此步骤。\r \r     ![添加数据流数据输入](./media/stream-analytics-add-inputs/3-stream-analytics-add-inputs.png)  \r \r     ![添加数据流数据输入](./media/stream-analytics-add-inputs/9-stream-analytics-add-inputs.png)  \r 4. 在输入别名框中为该输入提供一个友好的名称。  此名称以后会用于作业查询以引用该输入。\r \r     填充所需连接属性的其余部分以连接到数据源。 这些字段根据输入类型和源类型而变化，[此处](stream-analytics-create-a-job.md)进行了详细定义。  \r \r     ![添加事件中心数据输入](./media/stream-analytics-add-inputs/4-stream-analytics-add-inputs.png)  \r 5. 指定输入数据的序列化设置：\r \r     * 要确保查询按你期望的方式进行，请指定传入数据的 **事件序列化格式**。  支持的序列化格式为 JSON、CSV 和 Avro。\r     * 验证数据的 **编码** 。  目前只支持 UTF-8 这种编码格式。\r \r     ![针对数据输入的数据序列化设置](./media/stream-analytics-add-inputs/5-stream-analytics-add-inputs.png)  \r \r     ![针对数据输入的数据序列化设置](./media/stream-analytics-add-inputs/10-stream-analytics-add-inputs.png)  \r 6. 输入创建完成后，流分析会验证是否可以连接到输入源。  可以在通知中心查看测试连接操作的状态。\r \r     ![测试流式数据输入的连接](./media/stream-analytics-add-inputs/6-stream-analytics-add-inputs.png)  \r \r     ![测试流式数据输入的连接](./media/stream-analytics-add-inputs/11-stream-analytics-add-inputs.png)  \r \r ## <a name=\"get-help-with-streaming-data-inputs\"></a>获取有关流数据输入的帮助\r 如需进一步的帮助，请尝试我们的 [Azure 流分析论坛](https://social.msdn.microsoft.com/Forums/home?forum=AzureStreamAnalytics)\r \r ## <a name=\"next-steps\"></a>后续步骤\r * [Azure 流分析简介](stream-analytics-introduction.md)\r * [Azure 流分析入门](stream-analytics-real-time-fraud-detection.md)\r * [缩放 Azure 流分析作业](stream-analytics-scale-jobs.md)\r * [Azure 流分析查询语言参考](https://msdn.microsoft.com/library/azure/dn834998.aspx)\r * [Azure 流分析管理 REST API 参考](https://msdn.microsoft.com/library/azure/dn835031.aspx)\r \r <!--Update_Description: wording update -->"}