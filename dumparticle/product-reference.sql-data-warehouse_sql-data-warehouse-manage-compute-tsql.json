{"Title":"在 Azure SQL 数据仓库中使用 T-SQL 进行暂停、恢复和缩放","Description":"可通过调整 DWU 来提高性能的 Transact-SQL (T-SQL) 任务。 通过在非高峰期缩减性能来节省成本。","Content":"\r # <a name=\"manage-compute-power-in-azure-sql-data-warehouse-t-sql\"></a>管理 Azure SQL 数据仓库中的计算能力 (T-SQL)\r \r > [!div class=\"op_single_selector\"]\r > * [概述](sql-data-warehouse-manage-compute-overview.md)\r > * [门户](sql-data-warehouse-manage-compute-portal.md)\r > * [PowerShell](sql-data-warehouse-manage-compute-powershell.md)\r > * [REST](sql-data-warehouse-manage-compute-rest-api.md)\r > * [TSQL](sql-data-warehouse-manage-compute-tsql.md)\r >\r >\r \r ## <a name=\"current-dwu-bk\"></a> 查看当前的 DWU 设置\r 若要查看数据库的当前 DWU 设置，请执行以下操作：\r \r 1. 在 Visual Studio 中打开“SQL Server 对象资源管理器”。\r 2. 连接到与逻辑 SQL 数据库服务器关联的 master 数据库。\r 3. 从 sys.database_service_objectives 动态管理视图中选择。 下面是一个示例： \r \r ```sql\r SELECT\r     db.name [Database]\r ,    ds.edition [Edition]\r ,    ds.service_objective [Service Objective]\r FROM\r      sys.database_service_objectives ds\r JOIN\r     sys.databases db ON ds.database_id = db.database_id\r ```\r \r ## <a name=\"scale-dwu-bk\"></a> <a name=\"scale-compute-bk\"></a>缩放计算\r [!INCLUDE [SQL Data Warehouse scale DWUs description](../../includes/sql-data-warehouse-scale-dwus-description.md)]\r \r 若要更改 DWU，请执行以下操作：\r \r 1. 连接到与逻辑 SQL 数据库服务器关联的 master 数据库。\r 2. 使用 [ALTER DATABASE][ALTER DATABASE] TSQL 语句。 以下示例将数据库 MySQLDW 的服务级别目标设置为 DW1000。 \r \r ```Sql\r ALTER DATABASE MySQLDW\r MODIFY (SERVICE_OBJECTIVE = 'DW1000')\r ;\r ```\r \r ## <a name=\"check-database-state-bk\"></a><a name=\"check-database-state-and-operation-progress\"></a>查看数据库状态和操作进度\r \r 1. 连接到与逻辑 SQL 数据库服务器关联的 master 数据库。\r 2. 提交查询以查看数据库状态\r \r ```sql\r SELECT *\r FROM\r sys.databases\r ```\r \r 3. 提交查询以查看操作状态\r \r ```sql\r SELECT *\r FROM\r     sys.dm_operation_status\r WHERE\r     resource_type_desc = 'Database'\r AND \r     major_resource_id = 'MySQLDW'\r ```\r \r 此 DMV 将返回有关对 SQL 数据仓库的各种管理操作的信息，例如操作和操作状态（IN_PROGRESS 或 COMPLETED）。\r \r ## <a name=\"next-steps-bk\"></a> 后续步骤\r 有关其他管理任务，请参阅 [管理概述][Management overview]。\r \r <!--Image references-->\r \r <!--Article references-->\r [Service capacity limits]: ./sql-data-warehouse-service-capacity-limits.md\r [Management overview]: ./sql-data-warehouse-overview-manage.md\r [Manage compute power overview]: ./sql-data-warehouse-manage-compute-overview.md\r \r <!--MSDN references-->\r \r [ALTER DATABASE]: https://msdn.microsoft.com/library/mt204042.aspx\r \r <!--Other Web references-->\r \r [Azure portal]: http://portal.azure.cn/\r "}