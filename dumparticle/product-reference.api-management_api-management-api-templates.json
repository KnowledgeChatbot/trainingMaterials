{"Title":"Azure API 管理中的 API 模板","Description":"了解如何在 Azure API 管理中自定义开发人员门户中 API 页面的内容。","Content":"# <a name=\"api-templates-in-azure-api-management\"></a>Azure API 管理中的 API 模板\r 通过 Azure API 管理，用户能够使用一组用于配置内容的模板自定义开发人员门户页的内容。 使用 [DotLiquid](http://dotliquidmarkup.org/) 语法和所选编辑器（例如 [DotLiquid for Designers](https://github.com/dotliquid/dotliquid/wiki/DotLiquid-for-Designers)），以及提供的一组本地化[字符串资源](./api-management-template-resources.md#strings)、[字形资源](./api-management-template-resources.md#glyphs)和[页面控件](./api-management-page-controls.md)，即可根据这些模板的使用需要非常灵活地配置页面内容。  \r   \r  本部分中的模板可用于自定义开发人员门户中 API 页面的内容。  \r   \r -   [API 列表](#APIList)  \r -   [操作](#Product)  \r -   [代码示例](#CodeSamples)  \r     -   [Curl](#Curl)  \r     -   [C#](#CSharp)  \r     -   [Java](#Stub)  \r     -   [JavaScript](#JavaScript)  \r     -   [Objective C](#ObjectiveC)  \r     -   [PHP](#PHP)  \r     -   [Python](#Python)  \r     -   [Ruby](#Ruby)  \r \r > [!NOTE]\r >  示例默认模板包含在后续文档中，但是会因持续改进而有所更改。 通过导航到所需单个模板，可在开发人员门户中查看实时的默认模板。 如需详细了解如何使用模板，请参阅[如何使用模板自定义 API 管理开发人员门户](./api-management-developer-portal-templates.md)。  \r   \r ##  <a name=\"APIList\"></a> API 列表  \r  **API 列表**模板可用于自定义开发人员门户中 API 列表页的正文。  \r   \r  ![开发人员门户 API 列表](./media/api-management-api-templates/APIM-Developer-Portal-Templates-API-List.png \"APIM 开发人员门户模板 API 列表\")  \r   \r ### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r <search-control></search-control>  \r <div class=\"row\">  \r     <div class=\"col-md-9\">  \r         <h2>{% localized \"ApisStrings|PageTitleApis\" %}</h2>  \r     </div>  \r </div>  \r <div class=\"row\">  \r     <div class=\"col-md-12\">  \r     {% if apis.size > 0 %}  \r     <ol class=\"list-unstyled\">  \r     {% for api in apis %}  \r         <li>  \r         <h3>  \r           <a href=\"/docs/services/{{api.id}}\">{{api.name}}</a>  \r         </h3>  \r        {{api.description}}  \r       </li>  \r     {% endfor %}  \r     </ol>  \r     <paging-control></paging-control>  \r     {% else %}  \r     {% localized \"CommonResources|NoItemsToDisplay\" %}  \r     {% endif %}  \r     </div>  \r </div>  \r ```  \r   \r ### <a name=\"controls\"></a>控制  \r  `API list` 模板可使用以下[页面控件](./api-management-page-controls.md)。  \r   \r -   [paging-control](./api-management-page-controls.md#paging-control)  \r   \r -   [search-control](./api-management-page-controls.md#search-control)  \r   \r ### <a name=\"data-model\"></a>数据模型  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |apis|[API 摘要](./api-management-template-data-model-reference.md#APISummary)实体的集合。|对当前用户可见的 API。|  \r   \r ### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"apis\": [  \r         {  \r             \"id\": \"570275f1b16653124c8f9ba3\",  \r             \"name\": \"Basic Calculator\",  \r             \"description\": \"Arithmetics is just a call away!\"  \r         },  \r         {  \r             \"id\": \"57026e30de15d80041040001\",  \r             \"name\": \"Echo API\",  \r             \"description\": null  \r         }  \r     ],  \r     \"pageTitle\": \"APIs\"  \r }  \r ```  \r   \r ##  <a name=\"Product\"></a> 操作  \r  **操作**模板可用于自定义开发人员门户中操作页的正文。  \r   \r  ![开发人员门户操作页](./media/api-management-api-templates/APIM-Developer-Portal-templates-Operation-page.png \"APIM 开发人员门户模板操作页\")  \r   \r ### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r <h2>{{api.name}}</h2>  \r <p>{{api.description }}</p>  \r   \r <div class=\"panel\">  \r     <h3>{{operation.name}}</h3>  \r     <p>{{operation.description }}</p>  \r     <a class=\"btn btn-primary\" href=\"{{consoleUrl}}\" id=\"btnOpenConsole\" role=\"button\">  \r         Try it  \r     </a>  \r </div>  \r   \r <h4>{% localized \"Documentation|SectionHeadingRequestUrl\" %}</h4>  \r <div class=\"panel\">  \r     <div class=\"panel-body\">  \r         <label>{{ sampleUrl | escape }}</label>  \r     </div>  \r </div>  \r   \r {% if operation.request %}  \r     {% if operation.request.parameters.size > 0 %}  \r         <h4>{% localized \"Documentation|SectionHeadingRequestParameters\" %}</h4>  \r   \r         <div class=\"panel\">  \r             {% for parameter in operation.request.parameters %}  \r                  <div class=\"row panel-body\">  \r                     <div class=\"col-md-3\">  \r                         <label>{{parameter.name}}</label>  \r                         {% unless parameter.required %}  \r                             <span class=\"text-muted\">({% localized \"Documentation|FormLabelSubtextOptional\" %})</span>  \r                         {% endunless %}  \r                     </div>  \r                     <div class=\"col-md-1\">  \r                         {{parameter.typeName}}  \r                     </div>  \r                     <div class=\"col-md-8\">  \r                         {{parameter.description}}  \r                     </div>  \r                  </div>  \r             {% endfor %}  \r         </div>  \r     {% endif %}  \r   \r     {% if operation.request.headers.size > 0 %}  \r         <h4>{% localized \"Documentation|SectionHeadingRequestHeaders\" %}</h4>  \r         <div class=\"panel\">  \r             {% for header in operation.request.headers %}  \r                  <div class=\"row panel-body\">  \r                     <div class=\"col-md-3\">  \r                         <label>{{header.name}}</label>  \r                         {%unless header.required %}  \r                             <span class=\"text-muted\">({% localized \"Documentation|FormLabelSubtextOptional\" %})</span>  \r                         {% endunless %}  \r                     </div>  \r                     <div class=\"col-md-1\">  \r                         {{header.typeName}}  \r                     </div>  \r                     <div class=\"col-md-8\">  \r                         {{header.description}}  \r                     </div>  \r                  </div>  \r             {% endfor %}  \r         </div>  \r     {% endif %}  \r   \r     {% if operation.request.description or operation.request.representations.size > 0 %}  \r         <h4>{% localized \"Documentation|SectionHeadingRequestBody\" %}</h4>  \r         <div class=\"panel\">  \r             {% if operation.request.description %}  \r                 <p>{{operation.request.description }}</p>     \r             {% endif %}  \r   \r             {% if operation.request.representations.size > 0 %}  \r                 <div role=\"tabpanel\">  \r                     <ul class=\"nav nav-tabs\" role=\"tablist\">  \r                         {% for representation in operation.request.representations %}  \r                             <li role=\"presentation\" {% if forloop.first %}class=\"active\"{% endif %}>  \r                                 <a href=\"#requesttab{{forloop.index}}\" role=\"tab\" data-toggle=\"tab\">  \r                                     {{representation.contentType}}  \r                                 </a>  \r                             </li>  \r                         {% endfor %}  \r                     </ul>  \r                     <div class=\"tab-content tab-content-boxed\">  \r                         {% for representation in operation.request.representations %}  \r                             <div id=\"requesttab{{forloop.index}}\" role=\"tabpanel\" class=\"tab-pane snippet{% if forloop.first %} active{% endif %}\">  \r   \r                                 {% if representation.sample or representation.schema %}   \r                                 <div role=\"tabpanel\">  \r                                     {% if representation.sample and representation.schema %}   \r                                     <ul class=\"nav nav-tabs-borderless\" role=\"tablist\">  \r                                         <li role=\"presentation\" class=\"active\">  \r                                             <a href=\"#requesttab{{forloop.index}}sample\" role=\"tab\" data-toggle=\"tab\">Sample</a>  \r                                         </li>  \r                                         <li role=\"presentation\">  \r                                             <a href=\"#requesttab{{forloop.index}}schema\" role=\"tab\" data-toggle=\"tab\">Schema</a>  \r                                         </li>  \r                                     </ul>  \r                                     {% endif %}  \r   \r                                     <div class=\"tab-content\">  \r                                         {% if representation.sample %}  \r                                         <div id=\"requesttab{{forloop.index}}sample\" role=\"tabpanel\" class=\"tab-pane snippet active\">  \r                                             <pre><code class=\"{{representation.Brush}}\">{{ representation.sample | escape }}</code></pre>  \r                                         </div>  \r                                         {% endif %}  \r   \r                                         {% if representation.schema %}  \r                                         <div id=\"requesttab{{forloop.index}}schema\" role=\"tabpanel\" class=\"tab-pane snippet\">  \r                                             <pre><code class=\"{{representation.Brush}}\">{{ representation.schema | escape }}</code></pre>  \r                                         </div>  \r                                         {% endif %}  \r                                     </div>  \r                                 </div>  \r                                 {% endif %}  \r                             </div>  \r                         {% endfor %}  \r                     </div>  \r                 </div>  \r             {% endif %}  \r   \r             <div class=\"clearfix\"></div>  \r         </div>  \r     {% endif %}  \r {% endif %}  \r   \r {% if operation.responses.size > 0 %}  \r     {% for response in operation.responses %}  \r         {% if response.description or response.representations.size > 0 %}  \r             <h4>{% localized \"Documentation|SectionHeadingResponse\" %} {{response.statusCode}}</h4>  \r   \r             <div class=\"panel\">  \r                 {% if response.description %}  \r                     <p>{{ response.description }}</p>  \r                 {% endif %}  \r   \r                 {% if response.representations.size > 0 %}  \r                     <div role=\"tabpanel\">  \r                         <ul class=\"nav nav-tabs\" role=\"tablist\">  \r                             {% for representation in response.representations %}  \r                                 <li role=\"presentation\" {% if forloop.first %}class=\"active\"{% endif %}>  \r                                     <a href=\"#response{{response.statusCode}}tab{{forloop.index}}\" role=\"tab\" data-toggle=\"tab\">  \r                                         {{representation.contentType}}  \r                                     </a>  \r                                 </li>  \r                             {% endfor %}  \r                         </ul>  \r                         <div class=\"tab-content tab-content-boxed\">  \r                             {% for representation in response.representations %}  \r                                 <div id=\"response{{response.statusCode}}tab{{forloop.index}}\" role=\"tabpanel\" class=\"tab-pane snippet{% if forloop.first %} active{% endif %}\">  \r   \r                                     {% if representation.sample or representation.schema %}  \r                                     <div role=\"tabpanel\">  \r   \r                                         {% if representation.sample and representation.schema %}  \r                                         <ul class=\"nav nav-tabs-borderless\" role=\"tablist\">  \r                                             <li role=\"presentation\" class=\"active\">  \r                                                 <a href=\"#response{{response.statusCode}}tab{{forloop.index}}sample\" role=\"tab\" data-toggle=\"tab\">  \r                                                     Sample  \r                                                 </a>  \r                                             </li>  \r                                             <li role=\"presentation\">  \r                                                 <a href=\"#response{{response.statusCode}}tab{{forloop.index}}schema\" role=\"tab\" data-toggle=\"tab\">  \r                                                     Schema  \r                                                 </a>  \r                                             </li>  \r                                         </ul>  \r                                         {% endif %}  \r   \r                                         <div class=\"tab-content\">  \r                                             {% if representation.sample %}  \r                                             <div id=\"response{{response.statusCode}}tab{{forloop.index}}sample\" role=\"tabpanel\" class=\"tab-pane snippet active\">  \r                                                 <pre><code class=\"{{representation.Brush}}\">{{ representation.sample | escape }}</code></pre>  \r                                             </div>  \r                                             {% endif %}  \r   \r                                             {% if representation.schema %}  \r                                             <div id=\"response{{response.statusCode}}tab{{forloop.index}}schema\" role=\"tabpanel\" class=\"tab-pane snippet\">  \r                                                 <pre><code class=\"{{representation.Brush}}\">{{ representation.schema | escape }}</code></pre>  \r                                             </div>  \r                                             {% endif %}  \r                                         </div>  \r                                     </div>  \r                                     {% endif %}  \r                                 </div>  \r                             {% endfor %}  \r                         </div>  \r                     </div>  \r                 {% endif %}  \r   \r                 <div class=\"clearfix\"></div>  \r             </div>  \r   \r         {% endif %}  \r     {% endfor %}  \r {% endif %}  \r   \r <h4>{% localized \"Documentation|SectionHeadingCodeSamples\" %}</h4>  \r <div role=\"tabpanel\">  \r     <ul class=\"nav nav-tabs\" role=\"tablist\">  \r         {% for sample in samples %}  \r             <li role=\"presentation\" {% if forloop.first %}class=\"active\"{% endif %}>  \r                 <a href=\"#{{sample.brush}}\" aria-controls=\"{{sample.brush}}\" role=\"tab\" data-toggle=\"tab\">  \r                     {{sample.title}}  \r                 </a>  \r             </li>  \r         {% endfor %}  \r     </ul>  \r     <div class=\"tab-content tab-content-boxed\" title=\"{% localized \"Documentation|TooltipTextDoubleClickToSelectAll=\"\"\" %}\">  \r         {% for sample in samples %}  \r             <div role=\"tabpanel\" class=\"tab-pane tab-content-boxed {% if forloop.first %} active{% endif %} snippet snippet-resizable\" id=\"{{sample.brush}}\" >  \r                 <pre><code class=\"{{sample.brush}}\">{% partial sample.template for sample in samples %}</code></pre>  \r             </div>  \r         {% endfor %}  \r     </div>  \r     <div class=\"clearfix\"></div>  \r </div>  \r ```  \r   \r ### <a name=\"controls\"></a>控制  \r  `Operation` 模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r ### <a name=\"data-model\"></a>数据模型  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |apiId|字符串|当前 API 的 ID。|  \r |apiName|字符串|API 的名称。|  \r |apiDescription|字符串|API 的说明。|  \r |api|[API 摘要](./api-management-template-data-model-reference.md#APISummary)实体。|当前 API。|  \r |operation|[操作](./api-management-template-data-model-reference.md#Operation)|当前显示的操作。|  \r |sampleUrl|字符串|当前操作的 URL。|  \r |operationMenu|[操作菜单](./api-management-template-data-model-reference.md#Menu)|此 API 的操作菜单。|  \r |consoleUrl|URI|“试用”按钮的 URI。|  \r |示例|[代码示例](./api-management-template-data-model-reference.md#Sample)实体的集合。|当前操作的代码示例。|  \r   \r ### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"apiId\": \"570275f1b16653124c8f9ba3\",  \r     \"apiName\": \"Basic Calculator\",  \r     \"apiDescription\": \"Arithmetics is just a call away!\",  \r     \"api\": {  \r         \"id\": \"570275f1b16653124c8f9ba3\",  \r         \"name\": \"Basic Calculator\",  \r         \"description\": \"Arithmetics is just a call away!\"  \r     },  \r     \"operation\": {  \r         \"id\": \"570275f2b1665305c811cf49\",  \r         \"name\": \"Add two integers\",  \r         \"description\": \"Produces a sum of two numbers.\",  \r         \"scheme\": \"https\",  \r         \"uriTemplate\": \"calc/add?a={a}&b={b}\",  \r         \"host\": \"sdcontoso5.azure-api.cn\",  \r         \"httpMethod\": \"GET\",  \r         \"request\": {  \r             \"description\": null,  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": [  \r                 {  \r                     \"name\": \"a\",  \r                     \"description\": \"First operand. Default value is <code>51</code>.\",  \r                     \"value\": \"51\",  \r                     \"options\": [  \r                         \"51\"  \r                     ],  \r                     \"required\": true,  \r                     \"kind\": 1,  \r                     \"typeName\": null  \r                 },  \r                 {  \r                     \"name\": \"b\",  \r                     \"description\": \"Second operand. Default value is <code>49</code>.\",  \r                     \"value\": \"49\",  \r                     \"options\": [  \r                         \"49\"  \r                     ],  \r                     \"required\": true,  \r                     \"kind\": 1,  \r                     \"typeName\": null  \r                 }  \r             ],  \r             \"representations\": []  \r         },  \r         \"responses\": []  \r     },  \r     \"sampleUrl\": \"https://sdcontoso5.azure-api.cn/calc/add?a={a}&b={b}\",  \r     \"operationMenu\": {  \r         \"ApiId\": \"570275f1b16653124c8f9ba3\",  \r         \"CurrentOperationId\": \"570275f2b1665305c811cf49\",  \r         \"Action\": \"Operation\",  \r         \"MenuItems\": [  \r             {  \r                 \"Id\": \"570275f2b1665305c811cf49\",  \r                 \"Title\": \"Add two integers\",  \r                 \"HttpMethod\": \"GET\"  \r             },  \r             {  \r                 \"Id\": \"570275f2b1665305c811cf4c\",  \r                 \"Title\": \"Divide two integers\",  \r                 \"HttpMethod\": \"GET\"  \r             },  \r             {  \r                 \"Id\": \"570275f2b1665305c811cf4b\",  \r                 \"Title\": \"Multiply two integers\",  \r                 \"HttpMethod\": \"GET\"  \r             },  \r             {  \r                 \"Id\": \"570275f2b1665305c811cf4a\",  \r                 \"Title\": \"Subtract two integers\",  \r                 \"HttpMethod\": \"GET\"  \r             }  \r         ]  \r     },  \r     \"consoleUrl\": \"/docs/services/570275f1b16653124c8f9ba3/operations/570275f2b1665305c811cf49/console\",  \r     \"samples\": [  \r         {  \r             \"title\": \"Curl\",  \r             \"snippet\": null,  \r             \"brush\": \"plain\",  \r             \"template\": \"DocumentationSamplesCurl\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"C#\",  \r             \"snippet\": null,  \r             \"brush\": \"csharp\",  \r             \"template\": \"DocumentationSamplesCsharp\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"Java\",  \r             \"snippet\": null,  \r             \"brush\": \"java\",  \r             \"template\": \"DocumentationSamplesJava\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"JavaScript\",  \r             \"snippet\": null,  \r             \"brush\": \"xml\",  \r             \"template\": \"DocumentationSamplesJs\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"ObjC\",  \r             \"snippet\": null,  \r             \"brush\": \"objc\",  \r             \"template\": \"DocumentationSamplesObjc\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"PHP\",  \r             \"snippet\": null,  \r             \"brush\": \"php\",  \r             \"template\": \"DocumentationSamplesPhp\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"Python\",  \r             \"snippet\": null,  \r             \"brush\": \"python\",  \r             \"template\": \"DocumentationSamplesPython\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         },  \r         {  \r             \"title\": \"Ruby\",  \r             \"snippet\": null,  \r             \"brush\": \"ruby\",  \r             \"template\": \"DocumentationSamplesRuby\",  \r             \"body\": \"{body}\",  \r             \"method\": \"GET\",  \r             \"scheme\": \"https\",  \r             \"path\": \"/calc/add?a={a}&b={b}\",  \r             \"query\": \"\",  \r             \"host\": \"sdcontoso5.azure-api.cn\",  \r             \"headers\": [  \r                 {  \r                     \"name\": \"Ocp-Apim-Subscription-Key\",  \r                     \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r                     \"value\": \"{subscription key}\",  \r                     \"typeName\": \"string\",  \r                     \"options\": null,  \r                     \"required\": true,  \r                     \"readonly\": false  \r                 }  \r             ],  \r             \"parameters\": []  \r         }  \r     ]  \r }  \r ```  \r   \r ##  <a name=\"CodeSamples\"></a> 代码示例  \r  以下模板用于在操作页上自定义各个代码示例的正文。  \r   \r  ![开发人员门户模板代码示例](./media/api-management-api-templates/APIM-Developer-Portal-Templates-Code-samples.png \"APIM 开发人员门户模板代码示例\")  \r   \r -   [Curl](#Curl)  \r   \r -   [C#](#CSharp)  \r   \r -   [Java](#Stub)  \r   \r -   [JavaScript](#JavaScript)  \r   \r -   [Objective C](#ObjectiveC)  \r   \r -   [PHP](#PHP)  \r   \r -   [Python](#Python)  \r   \r -   [Ruby](#Ruby)  \r   \r ###  <a name=\"Curl\"></a> Curl  \r  **DocumentationSamplesCurl** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r @ECHO OFF  \r   \r curl -v -X {{method}} \"{{scheme}}://{{host}}{{path}}{{query | escape }}\"  \r {% for header in headers -%}  \r -H \"{{ header.name }}: {{ header.value }}\"  \r {% endfor -%}  \r {% if body -%}   \r --data-ascii \"{{ body | replace:'\"','^\"' }}\"   \r {% endif -%}  \r   \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"Curl\",  \r     \"snippet\": null,  \r     \"brush\": \"plain\",  \r     \"template\": \"DocumentationSamplesCurl\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"CSharp\"></a> C#  \r  **DocumentationSamplesCsharp** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r using System;  \r using System.Net.Http.Headers;  \r using System.Text;  \r using System.Net.Http;  \r using System.Web;  \r   \r namespace CSHttpClientSample  \r {  \r     static class Program  \r     {  \r         static void Main()  \r         {  \r             MakeRequest();  \r             Console.WriteLine(\"Hit ENTER to exit...\");  \r             Console.ReadLine();  \r         }  \r   \r         static async void MakeRequest()  \r         {  \r             var client = new HttpClient();  \r             var queryString = HttpUtility.ParseQueryString(string.Empty);  \r   \r {% if headers.size > 0 -%}  \r             // Request headers  \r {% for header in headers -%}  \r {% case header.Name -%}  \r {% when \"Accept\"%}  \r             client.DefaultRequestHeaders.Accept.Add(MediaTypeWithQualityHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Accept-Charset\" -%}  \r             client.DefaultRequestHeaders.AcceptCharset.Add(StringWithQualityHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Accept-Encoding\" -%}  \r             client.DefaultRequestHeaders.AcceptEncoding.Add(StringWithQualityHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Accept-Language\" -%}  \r             client.DefaultRequestHeaders.AcceptLanguage.Add(StringWithQualityHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Cache-Control\" -%}  \r             client.DefaultRequestHeaders.CacheControl = CacheControlHeaderValue.Parse(\"{{header.value}}\");  \r {% when \"Connection\" -%}  \r             client.DefaultRequestHeaders.Connection.Add(\"{{header.value}}\");  \r {% when \"Date\" -%}  \r             client.DefaultRequestHeaders.Date = DateTimeOffset.Parse(\"{{header.value}}\");  \r {% when \"Expect\" -%}  \r             client.DefaultRequestHeaders.Expect.Add(NameValueWithParametersHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"If-Match\" -%}  \r             client.DefaultRequestHeaders.IfMatch.Add(EntityTagHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"If-Modified-Since\" -%}  \r             client.DefaultRequestHeaders.IfModifiedSince = DateTimeOffset.Parse(\"{{header.value}}\");  \r {% when \"If-None-Match\" -%}  \r             client.DefaultRequestHeaders.IfNoneMatch.Add(EntityTagHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"If-Range\" -%}  \r             client.DefaultRequestHeaders.IfRange = RangeConditionHeaderValue.Parse(\"{{header.value}}\");  \r {% when \"If-Unmodified-Since\" -%}  \r             client.DefaultRequestHeaders.IfUnmodifiedSince = DateTimeOffset.Parse(\"{{header.value}}\");  \r {% when \"Max-Forwards\" -%}  \r             client.DefaultRequestHeaders.MaxForwards = int.Parse(\"{{header.value}}\");  \r {% when \"Pragma\" -%}  \r             client.DefaultRequestHeaders.Pragma.Add(NameValueHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Range\" -%}  \r             client.DefaultRequestHeaders.Range = RangeHeaderValue.Parse(\"{{header.value}}\");  \r {% when \"Referer\" -%}  \r             client.DefaultRequestHeaders.Referrer = new Uri(\"{{header.value}}\");  \r {% when \"TE\" -%}  \r             client.DefaultRequestHeaders.TE.Add(TransferCodingWithQualityHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Transfer-Encoding\" -%}  \r             client.DefaultRequestHeaders.TransferEncoding.Add(TransferCodingHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Upgrade\" -%}  \r             client.DefaultRequestHeaders.Upgrade.Add(ProductHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"User-Agent\" -%}  \r             client.DefaultRequestHeaders.UserAgent.Add(ProductInfoHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Via\" -%}                \r             client.DefaultRequestHeaders.Via.Add(ViaHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Warning\" -%}  \r             client.DefaultRequestHeaders.Warning.Add(WarningHeaderValue.Parse(\"{{header.value}}\"));  \r {% when \"Content-Type\" -%}  \r {% else -%}  \r             client.DefaultRequestHeaders.Add(\"{{header.Name}}\", \"{{header.value}}\");  \r {% endcase -%}  \r {% endfor -%}  \r {% endif -%}  \r   \r {% if parameters.size > 0 -%}  \r             // Request parameters  \r {% for parameter in parameters -%}  \r             queryString[\"{{parameter.Name}}\"] = \"{{parameter.Value}}\";  \r {% endfor -%}  \r {% endif -%}  \r             var uri = \"{{scheme}}://{{host}}{{path}}{% if path contains '?' %}&{% else %}?{% endif %}\" + queryString;  \r   \r {% case method -%}  \r   \r {% when \"POST\" -%}  \r             HttpResponseMessage response;  \r   \r             // Request body  \r             byte[] byteData = Encoding.UTF8.GetBytes(\"{{ body | replace:'\"','\\\"'}}\");  \r   \r             using (var content = new ByteArrayContent(byteData))  \r             {  \r {% if body -%}  \r                content.Headers.ContentType = new MediaTypeHeaderValue(\"< your content type, i.e. application/json >\");  \r {% endif -%}  \r                response = await client.PostAsync(uri, content);  \r             }  \r   \r {% when \"GET\" -%}  \r             var response = await client.GetAsync(uri);  \r {% when \"DELETE\" -%}  \r             var response = await client.DeleteAsync(uri);  \r {% when \"PUT\" -%}  \r             HttpResponseMessage response;  \r   \r             // Request body  \r             byte[] byteData = Encoding.UTF8.GetBytes(\"{{ body | replace:'\"','\\\"'}}\");  \r   \r             using (var content = new ByteArrayContent(byteData))  \r             {  \r {% if body -%}  \r                 content.Headers.ContentType = new MediaTypeHeaderValue(\"< your content type, i.e. application/json >\");  \r {% endif -%}  \r                 response = await client.PutAsync(uri, content);  \r             }  \r {% when \"HEAD\" -%}  \r             var response = await client.SendAsync(new HttpRequestMessage(HttpMethod.Head, uri));  \r {% when \"OPTIONS\" -%}  \r             var response = await client.SendAsync(new HttpRequestMessage(HttpMethod.Options, uri));  \r {% when \"TRACE\" -%}  \r             var response = await client.SendAsync(new HttpRequestMessage(HttpMethod.Trace, uri));  \r   \r             if (response.Content != null)  \r             {  \r                 var responseString = await response.Content.ReadAsStringAsync();  \r                 Console.WriteLine(responseString);      \r             }  \r {% endcase -%}  \r         }  \r     }  \r }     \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"C#\",  \r     \"snippet\": null,  \r     \"brush\": \"csharp\",  \r     \"template\": \"DocumentationSamplesCsharp\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"Stub\"></a> Java  \r  **DocumentationSamplesJava** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r // // This sample uses the Apache HTTP client from HTTP Components (http://hc.apache.org/httpcomponents-client-ga/)  \r import java.net.URI;  \r import org.apache.http.HttpEntity;  \r import org.apache.http.HttpResponse;  \r import org.apache.http.client.HttpClient;  \r import org.apache.http.client.methods.HttpGet;  \r import org.apache.http.client.utils.URIBuilder;  \r import org.apache.http.impl.client.HttpClients;  \r import org.apache.http.util.EntityUtils;  \r   \r public class JavaSample   \r {  \r     public static void main(String[] args)   \r     {  \r         HttpClient httpclient = HttpClients.createDefault();  \r   \r         try  \r         {  \r             URIBuilder builder = new URIBuilder(\"{{scheme}}://{{host}}{{path}}\");  \r   \r {% if parameters.size > 0 -%}  \r {% for parameter in parameters -%}  \r             builder.setParameter(\"{{parameter.name}}\", \"{{parameter.value}}\");  \r {% endfor -%}  \r {% endif -%}  \r   \r             URI uri = builder.build();  \r             Http{{ method | downcase | capitalize }} request = new Http{{ method | downcase | capitalize }}(uri);  \r {% for header in headers -%}  \r             request.setHeader(\"{{header.Name}}\", \"{{header.value}}\");  \r {% endfor %}  \r   \r {% if body -%}  \r             // Request body  \r             StringEntity reqEntity = new StringEntity(\"{{ body | replace:'\"','\\\"' }}\");  \r             request.setEntity(reqEntity);  \r {% endif -%}  \r   \r             HttpResponse response = httpclient.execute(request);  \r             HttpEntity entity = response.getEntity();  \r   \r             if (entity != null)   \r             {  \r                 System.out.println(EntityUtils.toString(entity));  \r             }  \r         }  \r         catch (Exception e)  \r         {  \r             System.out.println(e.getMessage());  \r         }  \r     }  \r }  \r   \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"Java\",  \r     \"snippet\": null,  \r     \"brush\": \"java\",  \r     \"template\": \"DocumentationSamplesJava\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"JavaScript\"></a> JavaScript  \r  **DocumentationSamplesJs** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r <!DOCTYPE html>  \r <html>  \r <head>  \r     <title>JSSample</title>  \r     <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js\"></script>  \r </head>  \r <body>  \r   \r <script type=\"text/javascript\">  \r     $(function() {  \r         var params = {  \r {% if parameters.size > 0 -%}  \r             // Request parameters  \r {% for parameter in parameters -%}  \r             \"{{parameter.name}}\": \"{{parameter.value}}\",  \r {% endfor -%}  \r {% endif -%}  \r         };  \r   \r         $.ajax({  \r             url: \"{{scheme}}://{{host}}{{path}}{% if path contains '?' %}&{% else %}?{% endif %}\" + $.param(params),  \r {% if headers.size > 0 -%}  \r             beforeSend: function(xhrObj){  \r                 // Request headers  \r {% for header in headers -%}  \r                 xhrObj.setRequestHeader(\"{{header.name}}\",\"{{header.value}}\");  \r {% endfor -%}  \r             },  \r {% endif -%}  \r             type: \"{{method}}\",  \r {% if body -%}  \r             // Request body  \r             data: \"{{ body | replace:'\"','\\\"' }}\",  \r {% endif -%}  \r         })  \r         .done(function(data) {  \r             alert(\"success\");  \r         })  \r         .fail(function() {  \r             alert(\"error\");  \r         });  \r     });  \r </script>  \r </body>  \r </html>  \r   \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"JavaScript\",  \r     \"snippet\": null,  \r     \"brush\": \"xml\",  \r     \"template\": \"DocumentationSamplesJs\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"ObjectiveC\"></a> Objective C  \r  **DocumentationSamplesObjc** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r #import <Foundation/Foundation.h>  \r   \r int main(int argc, const char * argv[])  \r {  \r     NSAutoreleasePool * pool = [[NSAutoreleasePool alloc] init];  \r   \r     NSString* path = @\"{{scheme}}://{{host}}{{path}}\";  \r     NSArray* array = @[  \r                          // Request parameters  \r                          @\"entities=true\",  \r {% if parameters.size > 0 -%}  \r {% for parameter in parameters -%}  \r                          @\"{{parameter.name}}={{parameter.value}}\",  \r {% endfor -%}  \r {% endif -%}  \r                       ];  \r   \r     NSString* string = [array componentsJoinedByString:@\"&\"];  \r     path = [path stringByAppendingFormat:@\"?%@\", string];  \r   \r     NSLog(@\"%@\", path);  \r   \r     NSMutableURLRequest* _request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:path]];  \r     [_request setHTTPMethod:@\"{{method}}\"];  \r {% if headers.size > 0 -%}  \r     // Request headers  \r {% for header in headers -%}  \r     [_request setValue:@\"{{header.value}}\" forHTTPHeaderField:@\"{{header.name}}\"];  \r {% endfor -%}  \r {% endif -%}  \r {% if body -%}  \r     // Request body  \r     [_request setHTTPBody:[@\"{{ body | replace:'\"','\\\"' }}\" dataUsingEncoding:NSUTF8StringEncoding]];  \r {% endif -%}  \r   \r     NSURLResponse *response = nil;  \r     NSError *error = nil;  \r     NSData* _connectionData = [NSURLConnection sendSynchronousRequest:_request returningResponse:&response error:&error];  \r   \r     if (nil != error)  \r     {  \r         NSLog(@\"Error: %@\", error);  \r     }  \r     else  \r     {  \r         NSError* error = nil;  \r         NSMutableDictionary* json = nil;  \r         NSString* dataString = [[NSString alloc] initWithData:_connectionData encoding:NSUTF8StringEncoding];  \r         NSLog(@\"%@\", dataString);  \r   \r         if (nil != _connectionData)  \r         {  \r             json = [NSJSONSerialization JSONObjectWithData:_connectionData options:NSJSONReadingMutableContainers error:&error];  \r         }  \r   \r         if (error || !json)  \r         {  \r             NSLog(@\"Could not parse loaded json with error:%@\", error);  \r         }  \r   \r         NSLog(@\"%@\", json);  \r         _connectionData = nil;  \r     }  \r   \r     [pool drain];  \r   \r     return 0;  \r }  \r   \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"ObjC\",  \r     \"snippet\": null,  \r     \"brush\": \"objc\",  \r     \"template\": \"DocumentationSamplesObjc\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"PHP\"></a> PHP  \r  **DocumentationSamplesPhp** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r <?php  \r // This sample uses the Apache HTTP client from HTTP Components (http://hc.apache.org/httpcomponents-client-ga/)  \r require_once 'HTTP/Request2.php';  \r   \r $request = new Http_Request2('{{scheme}}://{{host}}{{path}}');  \r $url = $request->getUrl();  \r   \r {% if headers.size > 0 -%}  \r $headers = array(  \r     // Request headers  \r {% for header in headers -%}  \r     '{{header.name}}' => '{{header.value}}',  \r {% endfor -%}  \r );  \r   \r $request->setHeader($headers);  \r {% endif -%}  \r   \r {% if parameters.size > 0 -%}  \r $parameters = array(  \r     // Request parameters  \r {% for parameter in parameters -%}  \r     '{{parameter.name}}' => '{{parameter.value}}',  \r {% endfor -%}  \r );  \r   \r $url->setQueryVariables($parameters);  \r {% endif -%}  \r   \r $request->setMethod(HTTP_Request2::METHOD_{{method}});  \r   \r {% if body -%}  \r // Request body  \r $request->setBody(\"{{ body | replace:'\"','\\\"' }}\");  \r {% endif -%}  \r   \r try  \r {  \r     $response = $request->send();  \r     echo $response->getBody();  \r }  \r catch (HttpException $ex)  \r {  \r     echo $ex;  \r }  \r   \r ?>  \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"PHP\",  \r     \"snippet\": null,  \r     \"brush\": \"php\",  \r     \"template\": \"DocumentationSamplesPhp\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"Python\"></a> Python  \r  **DocumentationSamplesPython** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r ########### Python 2.7 #############  \r import httplib, urllib, base64  \r   \r headers = {  \r {% if headers.size > 0 -%}  \r     # Request headers  \r {% for header in headers -%}  \r     '{{header.name}}': '{{header.value}}',  \r {% endfor -%}  \r {% endif -%}  \r }  \r   \r params = urllib.urlencode({  \r {% if parameters.size > 0 -%}  \r     # Request parameters  \r {% for parameter in parameters -%}  \r     '{{parameter.name}}': '{{parameter.value}}',  \r {% endfor -%}  \r {% endif -%}  \r })  \r   \r try:  \r {% case scheme -%}  \r {% when \"http\" -%}  \r     conn = httplib.HTTPConnection('{{host}}')  \r {% when \"https\" -%}  \r     conn = httplib.HTTPSConnection('{{host}}')  \r {% endcase -%}  \r     conn.request(\"{{method}}\", \"{{path}}{% if path contains '?' %}&{% else %}?{% endif %}%s\" % params{% if body %}, \"{{ body | replace:'\"','\\\"' }}\"{% endif %}, headers)  \r     response = conn.getresponse()  \r     data = response.read()  \r     print(data)  \r     conn.close()  \r except Exception as e:  \r     print(\"[Errno {0}] {1}\".format(e.errno, e.strerror))  \r   \r ####################################  \r   \r ########### Python 3.2 #############  \r import http.client, urllib.request, urllib.parse, urllib.error, base64  \r   \r headers = {  \r {% if headers.size > 0 -%}  \r     # Request headers  \r {% for header in headers -%}  \r     '{{header.name}}': '{{header.value}}',  \r {% endfor -%}  \r {% endif -%}  \r }  \r   \r params = urllib.parse.urlencode({  \r {% if parameters.size > 0 -%}  \r     # Request parameters  \r {% for parameter in parameters -%}  \r     '{{parameter.name}}': '{{parameter.value}}',  \r {% endfor -%}  \r {% endif -%}  \r })  \r   \r try:  \r {% case scheme -%}  \r {% when \"http\" -%}  \r     conn = http.client.HTTPConnection('{{host}}')  \r {% when \"https\" -%}  \r     conn = http.client.HTTPSConnection('{{host}}')  \r {% endcase -%}  \r     conn.request(\"{{method}}\", \"{{path}}{% if path contains '?' %}&{% else %}?{% endif %}%s\" % params{% if body %}, \"{{ body | replace:'\"','\\\"' }}\"{% endif %}, headers)  \r     response = conn.getresponse()  \r     data = response.read()  \r     print(data)  \r     conn.close()  \r except Exception as e:  \r     print(\"[Errno {0}] {1}\".format(e.errno, e.strerror))  \r   \r ####################################  \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"Python\",  \r     \"snippet\": null,  \r     \"brush\": \"python\",  \r     \"template\": \"DocumentationSamplesPython\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```  \r   \r ###  <a name=\"Ruby\"></a> Ruby  \r  **DocumentationSamplesRuby** 模板用于在操作页的代码示例部分自定义该代码示例。  \r   \r #### <a name=\"default-template\"></a>默认模板  \r   \r ```xml  \r require 'net/http'  \r   \r uri = URI('{{scheme}}://{{host}}{{path}}')  \r uri.query = URI.encode_www_form({  \r {% if parameters.size > 0 -%}  \r     # Request parameters  \r {% for parameter in parameters -%}  \r     '{{parameter.name}}' => '{{parameter.value}}'{% unless forloop.last %},{% endunless %}  \r {% endfor -%}  \r {% endif -%}  \r })  \r   \r request = Net::HTTP::{{ method | downcase | capitalize }}.new(uri.request_uri)  \r {% for header in headers -%}  \r # Request headers  \r request['{{header.name}}'] = '{{header.value}}'  \r {% endfor -%}  \r {% if body -%}  \r # Request body  \r request.body = \"{{ body | replace:'\"','\\\"' }}\"  \r {% endif -%}  \r   \r response = Net::HTTP.start(uri.host, uri.port, :use_ssl => uri.scheme == 'https') do |http|  \r     http.request(request)  \r end  \r   \r puts response.body  \r   \r ```  \r   \r #### <a name=\"controls\"></a>控制  \r  代码示例模板不允许使用任何[页面控件](./api-management-page-controls.md)。  \r   \r #### <a name=\"data-model\"></a>数据模型  \r  [代码示例](./api-management-template-data-model-reference.md#Sample)实体。  \r   \r #### <a name=\"sample-template-data\"></a>示例模板数据  \r   \r ```json  \r {  \r     \"title\": \"Ruby\",  \r     \"snippet\": null,  \r     \"brush\": \"ruby\",  \r     \"template\": \"DocumentationSamplesRuby\",  \r     \"body\": \"{body}\",  \r     \"method\": \"GET\",  \r     \"scheme\": \"https\",  \r     \"path\": \"/calc/add?a={a}&b={b}\",  \r     \"query\": \"\",  \r     \"host\": \"sdcontoso5.azure-api.cn\",  \r     \"headers\": [  \r         {  \r             \"name\": \"Ocp-Apim-Subscription-Key\",  \r             \"description\": \"Subscription key which provides access to this API. Found in your <a href='/developer'>Profile</a>.\",  \r             \"value\": \"{subscription key}\",  \r             \"typeName\": \"string\",  \r             \"options\": null,  \r             \"required\": true,  \r             \"readonly\": false  \r         }  \r     ],  \r     \"parameters\": []  \r }  \r ```\r \r ## <a name=\"next-steps\"></a>后续步骤\r 如需详细了解如何使用模板，请参阅[如何使用模板自定义 API 管理开发人员门户](./api-management-developer-portal-templates.md)。"}