{"Title":"Azure Service Fabric 性能监视","Description":"了解用于监视和诊断 Azure Service Fabric 群集的性能计数器。","Content":"# <a name=\"performance-metrics\"></a>性能指标\r \r 应收集指标，以了解群集及其中运行的应用程序的性能。 对于 Service Fabric 群集，建议收集以下性能计数器。\r \r ## <a name=\"nodes\"></a>Nodes\r \r 对于群集中的计算机，建议收集以下性能计数器，以便更好地了解每台计算机上的负载，并做出相应的群集缩放决策。\r \r | 计数器类别 | 计数器名称 |\r | --- | --- |\r | PhysicalDisk(per Disk) | 平均值磁盘读取队列长度 |\r | PhysicalDisk(per Disk) | 平均值磁盘写入队列长度 |\r | PhysicalDisk(per Disk) | 平均值磁盘秒数/读取 |\r | PhysicalDisk(per Disk) | 平均值磁盘秒数/写入 |\r | PhysicalDisk(per Disk) | 磁盘读取数/秒 |\r | PhysicalDisk(per Disk) | 磁盘读取字节数/秒 |\r | PhysicalDisk(per Disk) | 磁盘写入数/秒 |\r | PhysicalDisk(per Disk) | 磁盘写入字节数/秒 |\r | 内存 | 可用兆字节数 |\r | PagingFile | 使用百分比 |\r | Processor(Total) | 处理器时间百分比 |\r | Process (per service) | 处理器时间百分比 |\r | Process (per service) | ID 进程 |\r | Process (per service) | 专用字节数 |\r | Process (per service) | 线程计数 |\r | Process (per service) | 虚拟字节数 |\r | Process (per service) | 工作集 |\r | Process (per service) | 工作集 - 专用 |\r | Network Interface(all-instances) | 输出队列长度 |\r | Network Interface(all-instances) | 放弃的出站数据包 |\r | Network Interface(all-instances) | 放弃的已接收数据包 |\r | Network Interface(all-instances) | 出站数据包错误 |\r | Network Interface(all-instances) | 已接收的数据包错误 |\r \r ## <a name=\"net-applications-and-services\"></a>.NET 应用程序和服务\r \r 若要将 .NET 服务部署到群集，请收集以下计数器。 \r \r | 计数器类别 | 计数器名称 |\r | --- | --- |\r | .NET CLR Memory (per service) | 进程 ID |\r | .NET CLR Memory (per service) | 提交的字节总数 |\r | .NET CLR Memory (per service) | 保留的字节总数 |\r | .NET CLR Memory (per service) | 所有堆中的字节数 |\r | .NET CLR Memory (per service) | 第 0 代集合数 |\r | .NET CLR Memory (per service) | 第 1 代集合数 |\r | .NET CLR Memory (per service) | 第 2 代集合数 |\r | .NET CLR Memory (per service) | GC 中的时间百分比 |\r \r ### <a name=\"service-fabrics-custom-performance-counters\"></a>Service Fabric 的自定义性能计数器\r \r Service Fabric 生成大量自定义性能计数器。 如果已安装 SDK，可以在 Windows 计算机上的“性能监视器”应用程序（“开始”>“性能监视器”）中看到综合列表。 \r \r 在要部署到群集的应用程序中，如果使用的是 Reliable Actors，请添加 `Service Fabric Actor` 和 `Service Fabric Actor Method` 类别的计数器（请参阅 [Service Fabric Reliable Actors 诊断](service-fabric-reliable-actors-diagnostics.md)）。\r \r 如果使用 Reliable Services，同样可以添加 `Service Fabric Service` 和 `Service Fabric Service Method` 计数器类别来收集计数器。 \r \r 如果使用 Reliable Collections，建议通过 `Service Fabric Transactional Replicator` 添加 `Avg. Transaction ms/Commit`，以收集每个事务指标的平均提交延迟。\r \r ## <a name=\"next-steps\"></a>后续步骤\r \r * 详细了解 Service Fabric 中的[平台级事件生成情况](service-fabric-diagnostics-event-generation-infra.md)\r * 通过 [Azure 诊断](service-fabric-diagnostics-event-aggregation-wad.md)收集性能指标\r \r <!--Update_Description: update meta properties, add Network Interface evelate factors -->"}