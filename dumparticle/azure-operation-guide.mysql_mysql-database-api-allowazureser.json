{"Title":"通过API更新MySQL Database on Azure服务器以便允许Azure服务进行访问","Description":"本文介绍如何通过API更新MySQL Database on Azure服务器，以便允许其它Azure服务对其进行访问。","Content":"\r #更新服务器-允许Azure服务访问\r \r > [!div class=\"op_single_selector\"]\r > * [中文](https://docs.azure.cn/zh-cn/mysql/mysql-database-api-allowazureser)\r > * [英文](https://docs.azure.cn/en-us/mysql/mysql-database-api-allowazureser)\r \r ##请求\r <table width=\"100%\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\r   <th align=\"left\"><strong>方法</strong>\r     </td>\r   <th align=\"left\"><strong>请求 URI</strong>\r     </td>\r \r   <tr>\r     <td>PATCH    </td>\r     <td>https://management.chinacloudapi.cn/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}/providers/Microsoft.MySql/servers/{server-name}?api-version=2015-09-01</td>\r   </tr>\r </table>\r \r ###URI参数\r 无\r \r ###请求 Headers\r <table width=\"100%\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\r   <th align=\"left\"><strong>请求包头</strong>\r     </td>\r   <th align=\"left\"><strong>描述 URI</strong>\r     </td>\r \r   <tr>\r     <td>x-ms-client-request-id</td>\r     <td>可选。由客户端产生的不超过1KB字符的opaque值。强烈推荐设置此值，服务器端可通过此值获取客户端的活动信息。</td>\r   </tr>\r </table>\r \r ###请求 Body\r 创建或更新MySQL on Azure服务器，需写明一下参数，Json示例文件如下：\r ```\r {\r   \"properties\": {\r     \"allowAzureServices\": \"true\"\r   }\r }\r ```\r <table width=\"100%\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\r   <th align=\"left\"><strong>参数名称</strong>\r     </td>\r   <th align=\"left\"><strong>描述</strong>\r     </td>\r   <tr>\r     <td>allowAzureServices </td>\r     <td>允许Azure其他服务访问设置</td>\r   </tr>\r </table>\r \r ##响应\r \r HTTPs响应由状态码，响应 headers以及响应 body组成。\r ### 状态码\r 200 OK - 表明服务器成功返回。\r \r ### 响应 Headers\r \r <table width=\"100%\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\r   <th align=\"left\"><strong>请求包头</strong>\r     </td>\r   <th align=\"left\"><strong>描述 URI</strong>\r     </td>\r \r   <tr>\r     <td>x-ms-client-request-id</td>\r     <td>可唯一确定数据库请求的值。请求ID用于追踪请求信息。</td>\r   </tr>\r </table>\r \r ### 响应 Body\r Json示例文件如下：\r ```\r {\r       \"id\": \"/subscriptions/{subscription-id}/resourceGroups/{resource-group-name}p/providers/Microsoft.MySql/servers/{server-name}\",\r       \"name\": \"{server-name}\",\r       \"type\": \"Microsoft.MySql/servers\",\r       \"location\": \"chinaeast\",\r       \"sku\": { \"name\": \"MS2\" },\r       \"properties\": {\r         \"version\": \"5.5\",\r         \"allowAzureServices\": true,\r         \"dailyBackupTimeInHour\": 10,\r         \"provisioningState\": \"Succeeded\"\r       }\r     }\r   ]\r }\r ```\r <table width=\"100%\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\r   <th align=\"left\"><strong>参数名称</strong>\r     </td>\r   <th align=\"left\"><strong>描述</strong>\r     </td>\r \r   <tr>\r     <td>name</td>\r     <td>服务器名称</td>\r   </tr>\r   <tr>\r     <td>provisioningState</td>\r     <td>服务器更新状态信息</td>\r   </tr>\r </table>"}