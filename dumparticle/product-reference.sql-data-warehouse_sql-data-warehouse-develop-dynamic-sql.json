{"Title":"SQL 数据仓库中的动态 SQL","Description":"有关在开发解决方案时使用 Azure SQL 数据仓库中的动态 SQL 的技巧。","Content":"\r # SQL 数据仓库中的动态 SQL\r 在为 SQL 数据仓库开发应用程序代码时，你可能需要使用动态 SQL 来帮助提供灵活、泛型、模块化的解决方案。SQL 数据仓库目前不支持 Blob 数据类型。这可能会限制字符串的大小，因为 Blob 类型包括 varchar(max) 和 nvarchar(max) 类型。如果你在构建极大型字符串时在应用程序代码中使用了这些类型，则需要将代码分解成块，并改用 EXEC 语句。\r \r 一个简单的示例：\r \r ```sql\r DECLARE @sql_fragment1 VARCHAR(8000)=' SELECT name '\r ,       @sql_fragment2 VARCHAR(8000)=' FROM sys.system_views '\r ,       @sql_fragment3 VARCHAR(8000)=' WHERE name like ''%table%''';\r \r EXEC( @sql_fragment1 + @sql_fragment2 + @sql_fragment3);\r ```\r \r 如果字符串较短，则可以像平时一样使用 [sp\\_executesql][sp_executesql]。\r \r > [!NOTE]\r > 作为动态 SQL 执行的语句仍将遵循所有 TSQL 验证规则。\r \r ## 后续步骤\r 有关更多开发技巧，请参阅[开发概述][development overview]。\r \r <!--Image references-->\r \r <!--Article references-->\r [development overview]: ./sql-data-warehouse-overview-develop.md\r \r <!--MSDN references-->\r [sp_executesql]: https://msdn.microsoft.com/zh-cn/library/ms188001.aspx\r \r <!--Other Web references-->\r \r <!---HONumber=Mooncake_Quality_Review_0104_2017-->"}