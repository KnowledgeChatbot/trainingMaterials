{"Title":"Azure 快速入门 - 使用 PowerShell 创建存储帐户","Description":"快速了解如何使用 PowerShell 新建存储帐户","Content":"# <a name=\"create-a-storage-account-using-powershell\"></a>使用 PowerShell 创建存储帐户\r \r Azure PowerShell 模块用于从 PowerShell 命令行或脚本创建和管理 Azure 资源。 此指南详细介绍如何使用 PowerShell 创建 Azure 存储帐户。 \r \r 如果没有 Azure 订阅，可以在开始前创建一个 [1 元帐户](https://www.azure.cn/pricing/1rmb-trial/?WT.mc_id=A261C142F)。\r \r 本快速入门需要 Azure PowerShell 模块 3.6 或更高版本。 运行 `Get-Module -ListAvailable AzureRM` 即可查找版本。 如果需要进行安装或升级，请参阅[安装 Azure PowerShell 模块](https://docs.microsoft.com/powershell/azure/install-azurerm-ps)。\r \r ## <a name=\"log-in-to-azure\"></a>登录 Azure\r \r 使用 `Login-AzureRmAccount` 命令登录到 Azure 订阅，并按照屏幕上的说明进行操作。\r \r ```powershell\r Login-AzureRmAccount -EnvironmentName AzureChinaCloud\r ```\r \r 如果你不知道要使用哪个位置，可以列出可用的位置。 显示列表后，找到要使用的位置。 此示例将使用“中国东部”。 将其存储在变量中，并使用该变量，这样就可以在某个位置更改它。\r \r ```powershell\r Get-AzureRmLocation | select Location \r $location = \"China East\"\r ```\r \r ## <a name=\"create-resource-group\"></a>创建资源组\r \r 使用 [New-AzureRmResourceGroup](https://docs.microsoft.com/powershell/module/azurerm.resources/new-azurermresourcegroup) 创建 Azure 资源组。 资源组是在其中部署和管理 Azure 资源的逻辑容器。 \r \r ```powershell\r # put resource group in a variable so you can use the same group name going forward\r #   without hardcoding it repeatedly\r $resourceGroup = \"contoso-storage-accounts\"\r New-AzureRmResourceGroup -Name $resourceGroup -Location $location \r ```\r \r ## <a name=\"create-a-general-purpose-standard-storage-account\"></a>创建通用的标准存储帐户\r \r 存储帐户分为几种类型，具体取决于其使用方式和要用于哪些服务（blob、文件、表或队列）。 下表显示可能的类型。\r \r |存储帐户的类型|通用标准|通用高级|Blob 存储（热访问层和冷访问层）|\r |-----|-----|-----|-----|\r |支持的服务| Blob、文件、表和队列服务 | Blob 服务 | Blob 服务|\r |支持的 Blob 类型|块 Blob、页 Blob 和追加 Blob | 页 Blob | 块 Blob 和追加 Blob|\r \r 使用[New-AzureRmStorageAccount](https://docs.microsoft.com/powershell/module/azurerm.storage/New-AzureRmStorageAccount) 创建可用于四种服务的通用标准存储帐户。 将存储帐户命名为 *contosomvcstandard*，并将其配置为启用本地冗余存储和 blob 加密。\r \r ```powershell\r New-AzureRmStorageAccount -ResourceGroupName $resourceGroup `\r   -Name \"contosomvcstandard\" `\r   -Location $location `\r   -SkuName Standard_LRS `\r   -Kind Storage `\r   -EnableEncryptionService Blob\r ```\r \r ## <a name=\"clean-up-resources\"></a>清理资源\r \r 如果不再需要资源组和所有相关的资源，可以使用 [Remove-AzureRmResourceGroup](https://docs.microsoft.com/powershell/module/azurerm.resources/remove-azurermresourcegroup) 命令将其删除。 在这种情况下，它会删除你创建的存储帐户。\r \r ```powershell\r Remove-AzureRmResourceGroup -Name $resourceGroup\r ```\r \r ## <a name=\"next-steps\"></a>后续步骤\r \r 在本快速入门中，已创建一个通用的标准存储帐户。 若要了解如何使用存储帐户上传和下载 blob，请继续阅读 Blob 存储快速入门。\r > [!div class=\"nextstepaction\"]\r > [使用 PowerShell 将对象转移到 Azure Blob 存储或从 Azure Blob 存储转移对象](../blobs/storage-quickstart-blobs-powershell.md)"}