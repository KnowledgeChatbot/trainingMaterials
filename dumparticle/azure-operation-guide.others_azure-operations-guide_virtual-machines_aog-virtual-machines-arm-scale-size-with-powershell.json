{"Title":"通过 Powershell 来调整 ARM 模式下虚拟机的尺寸","Description":"通过 Powershell 来调整 ARM 模式下虚拟机的尺寸","Content":"\r # 通过 Powershell 来调整 ARM 模式下虚拟机的尺寸\r \r ## 需求描述\r \r 在部署完 ARM 模式的虚拟机以后，可以通过 PowerShell 命令来调整虚拟机的尺寸，以下是通过 PowerShell 命令来调整 ARM 模式的虚拟机尺寸。\r \r > [!NOTE]\r > 本文只限于 ARM 模式下的虚拟机，经典模式的虚拟机不适用。\r \r ## 操作步骤\r \r 1. 首先，我们需要使用下面的命令定义需要调整尺寸的虚拟机的基本信息：\r \r         #定义资源组名称\r         $ResourceGroupName = <资源组名称>\r         #定义需要调整尺寸的虚拟机名称\r         $VMName = <虚拟机名称>\r         #定义虚拟机的新尺寸，这里以Standard_A1为例，详细尺寸列表见附录部分\r         $NewVMSize = \"Standard_A1\"\r \r 2. 定义完成后，使用下面的命令将虚拟机调整到新的尺寸：\r \r         #获取虚拟机对象\r         $vm = Get-AzureRmVM -ResourceGroupName <资源组名称> -Name <虚拟机名称>\r         #设定新尺寸\r         $vm.HardwareProfile.vmSize = $NewVMSize\r         #将虚拟机调整为新尺寸\r         Update-AzureRmVM -ResourceGroupName $ResourceGroupName -VM $vm\r \r 3. 待命令执行完成后，可以看到虚拟机的尺寸已调整完毕：\r \r     ![](media/aog-virtual-machines-arm-scale-size-with-powershell/portal.png)\r \r ## 附录\r \r | 尺寸名称    | 尺寸变量名             |\r |------------ | --------------------- |\r | A0基本      | Basic_A0              |\r | A1基本      | Basic_A1              |\r | A2基本      | Basic_A2              |\r | A3基本      | Basic_A3              |\r | A4基本      | Basic_A4              |\r | A0标准      | Standard_A0           |\r | A1标准      | Standard_A1           |\r | A1_v2标准   | Standard_A1_v2        |\r | A2标准      | Standard_A2           |\r | A2_v2标准   | Standard_A2_v2        |\r | A2m_v2标准  | Standard_A2m_v2       |\r | A3标准      | Standard_A3           |\r | A4标准      | Standard_A4           |\r | A4_v2标准   | Standard_A4_v2        |\r | A4m_v2标准  | Standard_A4m_v2       |\r | A5标准      | Standard_A5           |\r | A6标准      | Standard_A6           |\r | A7标准      | Standard_A7           |\r | A8_v2标准   | Standard_A8_v2        |\r | A8m_v2标准  | Standard_A8m_v2       |\r | D1标准      | Standard_D1           |\r | D1_v2标准   | Standard_D1_v2        |\r | D11标准     | Standard_D11          |\r | D11_v2标准  | Standard_D11_v2       |\r | D11_v2促销  | Standard_D11_v2_Promo |\r | D12标准     | Standard_D12          |\r | D12_v2标准  | Standard_D12_v2       |\r | D12_v2促销  | Standard_D12_v2_Promo |\r | D13标准     | Standard_D13          |\r | D13_v2标准  | Standard_D13_v2       |\r | D13_v2_促销 | Standard_D13_v2_Promo |\r | D14标准     | Standard_D14          |\r | D14_v2标准  | Standard_D14_v2       |\r | D14_v2_促销 | Standard_D14_v2_Promo |\r | D15_v2标准  | Standard_D15_v2       |\r | D2标准      | Standard_D2           |\r | D2_v2标准   | Standard_D2_v2        |\r | D2_v2_促销  | Standard_D2_v2_Promo  |\r | D3标准      | Standard_D3           |\r | D3_v2标准   | Standard_D3_v2        |\r | D3_v2_促销  | Standard_D3_v2_Promo  |\r | D4标准      | Standard_D4           |\r | D4_v2标准   | Standard_D4_v2        |\r | D4_v2_促销  | Standard_D4_v2_Promo  |\r | D5_v2标准   | Standard_D5_v2        |\r | D5_v2_促销  | Standard_D5_v2_Promo  |\r | DS1标准     | Standard_DS1          |\r | DS1_v2标准  | Standard_DS1_v2       |\r | DS11标准    | Standard_DS11         |\r | DS11_v2标准 | Standard_DS11_v2      |\r | DS11_v2_促销| Standard_DS11_v2_Promo|\r | DS12标准    | Standard_DS12         |\r | DS12_v2标准 | Standard_DS12_v2      |\r | DS12_v2_促销| Standard_DS12_v2_Promo|\r | DS13标准    | Standard_DS13         |\r | DS13_v2标准 | Standard_DS13_v2      |\r | DS13_v2_促销| Standard_DS13_v2_Promo|\r | DS14标准    | Standard_DS14         |\r | DS14_v2标准 | Standard_DS14_v2      |\r | DS14_v2_促销| Standard_DS14_v2_Promo|\r | DS15_v2标准 | Standard_DS15_v2      |\r | DS2标准     | Standard_DS2          |\r | DS2_v2标准  | Standard_DS2_v2       |\r | DS2_v2_促销 | Standard_DS2_v2_Promo |\r | DS3标准     | Standard_DS3          |\r | DS3_v2标准  | Standard_DS3_v2       |\r | DS3_v2_促销 | Standard_DS3_v2_Promo |\r | DS4标准     | Standard_DS4          |\r | DS4_v2标准  | Standard_DS4_v2       |\r | DS4_v2_促销 | Standard_DS4_v2_Promo |\r | DS5_v2标准  | Standard_DS5_v2       |\r | DS5_v2_促销 | Standard_DS5_v2_Promo |\r | F1标准      | Standard_F1           |\r | F16标准     | Standard_F16          |\r | F16s标准    | Standard_F16s         |\r | F1s标准     | Standard_F1s          |\r | F2标准      | Standard_F2           |\r | F2s标准     | Standard_F2s          |\r | F4标准      | Standard_F4           |\r | F4s标准     | Standard_F4s          |\r | F8标准      | Standard_F8           |\r | F8s标准     | Standard_F8s          |\r "}