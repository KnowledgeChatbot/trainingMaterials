{"Title":"Azure API 管理模板数据模型参考","Description":"了解数据模型中常用项目的实体和类型表示形式，这些数据模型适用于 Azure API 管理中的开发人员门户模板。","Content":"# <a name=\"azure-api-management-template-data-model-reference\"></a>Azure API 管理模板数据模型参考\r 本主题介绍数据模型中常用项目的实体和类型表示形式，这些数据模型适用于 Azure API 管理中的开发人员门户模板。  \r   \r  如需详细了解如何使用模板，请参阅[如何使用模板自定义 API 管理开发人员门户](./api-management-developer-portal-templates.md)。  \r   \r -   [API](#API)  \r -   [API 摘要](#APISummary)  \r -   [应用程序](#Application)  \r -   [附件](#Attachment)  \r -   [代码示例](#Sample)  \r -   Comment[](#Comment)  \r -   [筛选](#Filtering)  \r -   [标头](#Header)  \r -   [HTTP 请求](#HTTPRequest)  \r -   [HTTP 响应](#HTTPResponse)  \r -   [问题](#Issue)  \r -   [操作](#Operation)  \r -   [操作菜单](#Menu)  \r -   [操作菜单项](#MenuItem)  \r -   [分页](#Paging)  \r -   [参数](#Parameter)  \r -   [产品](#Product)  \r -   [提供程序](#Provider)  \r -   [表示形式](#Representation)  \r -   [订阅](#Subscription)  \r -   [订阅摘要](#SubscriptionSummary)  \r -   [用户帐户信息](#UserAccountInfo)  \r -   [用户登录](#UseSignIn)  \r -   [用户注册](#UserSignUp)  \r   \r ##  <a name=\"API\"></a> API  \r  `API` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |id|字符串|资源标识符。 唯一标识当前 API 管理服务实例中的 API。 值是有效的相对 URL，采用 `apis/{id}` 格式，其中 `{id}` 是 API 标识符。 此属性为只读。|  \r |name|字符串|API 的名称。 不得为空。 最大长度为 100 个字符。|  \r |description|字符串|API 的说明。 不得为空。 可以包含 HTML 格式标记。 最大长度为 1000 个字符。|  \r |serviceUrl|字符串|实现此 API 的后端服务的绝对 URL。|  \r |path|字符串|相对 URL，用于唯一标识此 API 及其在 API 管理服务实例中的所有资源路径。 可将其追加到在服务实例创建过程中指定的 API 终结点基 URL，构成此 API 的公共 URL。|  \r |protocols|数字数组|说明可在哪些协议上调用此 API 中的操作。 允许的值为 `1 - http` 和/或 `2 - https`。|  \r |authenticationSettings|[授权服务器身份验证设置](https://docs.microsoft.com/rest/api/apimanagement/apimanagementrest/azure-api-management-rest-api-contract-reference#AuthenticationSettings)|此 API 中包含的身份验证设置的集合。|  \r |subscriptionKeyParameterNames|object|可选属性，可用于指定包含订阅密钥的查询参数和/或标头参数的自定义名称。 如果存在此属性，则其必须包含以下两个属性中的至少一个。<br /><br /> `{   \"subscriptionKeyParameterNames\":   {     \"query\": “customQueryParameterName\",     \"header\": “customHeaderParameterName\"   } }`|  \r   \r ##  <a name=\"APISummary\"></a> API 摘要  \r  `API summary` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |id|字符串|资源标识符。 唯一标识当前 API 管理服务实例中的 API。 值是有效的相对 URL，采用 `apis/{id}` 格式，其中 `{id}` 是 API 标识符。 此属性为只读。|  \r |name|字符串|API 的名称。 不得为空。 最大长度为 100 个字符。|  \r |description|字符串|API 的说明。 不得为空。 可以包含 HTML 格式标记。 最大长度为 1000 个字符。|  \r   \r ##  <a name=\"Application\"></a> 应用程序  \r  `application` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|字符串|应用程序的唯一标识符。|  \r |标题|字符串|应用程序的标题。|  \r |说明|字符串|应用程序的说明。|  \r |Url|URI|应用程序的 URI。|  \r |版本|字符串|应用程序的版本信息。|  \r |要求|字符串|应用程序的要求的说明。|  \r |状态|number|应用程序的当前状态。<br /><br /> - 0 - 已注册<br /><br /> - 1 - 已提交<br /><br /> - 2 - 已发布<br /><br /> - 3 - 已拒绝<br /><br /> - 4 - 未发布|  \r |RegistrationDate|DateTime|注册应用程序的日期和时间。|  \r |CategoryId|number|应用程序的类别（财务、娱乐等）|  \r |DeveloperId|字符串|提交应用程序的开发人员的唯一标识符。|  \r |附件|[附件](#Attachment)实体的集合。|应用程序的任何附件，例如屏幕截图或图标。|  \r |图标|[附件](#Attachment)|应用程序的图标。|  \r   \r ##  <a name=\"Attachment\"></a> 附件  \r  `attachment` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |UniqueId|字符串|附件的唯一标识符。|  \r |Url|字符串|资源的 URL。|  \r |类型|字符串|附件的类型。|  \r |ContentType|字符串|附件的媒体类型。|  \r   \r ##  <a name=\"Sample\"></a> 代码示例  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |title|字符串|操作的名称。|  \r |snippet|字符串|此属性已弃用，不应使用。|  \r |brush|字符串|显示代码示例时要使用的代码语法着色模板。 允许的值为 `plain`、`php`、`java`、`xml`、`objc`、`python`、`ruby`、`csharp`。|  \r |template|字符串|此代码示例模板的名称。|  \r |body|字符串|占位符，代表代码片段的代码示例部分。|  \r |method|字符串|此操作的 HTTP 方法。|  \r |scheme|字符串|用于操作请求的协议。|  \r |path|字符串|操作的路径。|  \r |查询|字符串|包含已定义参数的查询字符串示例。|  \r |host|字符串|API 管理服务网关（针对包含此操作的 API）的 URL。|  \r |headers|[标头](#Header)实体的集合。|此操作的标头。|  \r |参数|[参数](#Parameter)实体的集合。|为此操作定义的参数。|  \r   \r ##  <a name=\"Comment\"></a> 注释  \r  `API` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|number|注释的 ID。|  \r |CommentText|字符串|注释的正文。 可以包含 HTML。|  \r |DeveloperCompany|字符串|开发人员所在公司的名称。|  \r |PostedOn|DateTime|发布注释的日期和时间。|  \r   \r ##  <a name=\"Issue\"></a> 问题  \r  `issue` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|字符串|问题的唯一标识符。|  \r |ApiID|字符串|报告此问题时所针对的 API 的 ID。|  \r |标题|字符串|问题的标题。|  \r |说明|字符串|问题的说明。|  \r |SubscriptionDeveloperName|字符串|报告此问题的开发人员的名字。|  \r |IssueState|字符串|问题的当前状态。 可能的值为“已提议”、“已打开”、“已关闭”。|  \r |ReportedOn|DateTime|报告此问题的日期和时间。|  \r |注释|[注释](#Comment)实体的集合。|此问题的注释。|  \r |附件|[附件](./api-management-template-data-model-reference.md#Attachment)实体的集合。|此问题的任何附件。|  \r |服务|[API](#API) 实体的集合。|报告此问题的用户所订阅的 API。|  \r   \r ##  <a name=\"Filtering\"></a> 筛选  \r  `filtering` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |模式|字符串|当前的搜索词；如果没有搜索词，则为 `null`。|  \r |占位符|字符串|没有指定搜索词时，在搜索框中显示的文本。|  \r   \r ##  <a name=\"Header\"></a> 标头  \r  本部分描述 `parameter` 表示形式。  \r   \r |属性|说明|类型|  \r |--------------|-----------------|----------|  \r |name|字符串|参数名称。|  \r |description|字符串|参数说明。|  \r |value|字符串|标头值。|  \r |typeName|字符串|标头值的数据类型。|  \r |options|字符串|选项。|  \r |必填|布尔值|标头是否为必需。|  \r |readOnly|布尔值|标头是否为只读。|  \r   \r ##  <a name=\"HTTPRequest\"></a> HTTP 请求  \r  本部分描述 `request` 表示形式。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |description|字符串|操作请求说明。|  \r |headers|[标头](#Header)实体数组。|请求标头。|  \r |参数|[参数](#Parameter)数组|操作请求参数的集合。|  \r |representations|[表示形式](#Representation)数组|操作请求表示形式的集合。|  \r   \r ##  <a name=\"HTTPResponse\"></a> HTTP 响应  \r  本部分描述 `response` 表示形式。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |statusCode|正整数|操作响应状态代码。|  \r |description|字符串|操作响应说明。|  \r |representations|[表示形式](#Representation)数组|操作响应表示形式的集合。|  \r   \r ##  <a name=\"Operation\"></a> 操作  \r  `operation` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |id|字符串|资源标识符。 唯一标识当前 API 管理服务实例中的操作。 值是有效的相对 URL，采用 `apis/{aid}/operations/{id}` 格式，其中 `{aid}` 是 API 标识符，`{id}` 是操作标识符。 此属性为只读。|  \r |name|字符串|操作的名称。 不得为空。 最大长度为 100 个字符。|  \r |description|字符串|操作说明。 不得为空。 可以包含 HTML 格式标记。 最大长度为 1000 个字符。|  \r |scheme|字符串|说明可在哪些协议上调用此 API 中的操作。 允许的值为 `http`、`https` 或者 `http` 和 `https`。|  \r |uriTemplate|字符串|相对 URL 模板，标识此操作的目标资源。 可以包括参数。 示例： `customers/{cid}/orders/{oid}/?date={date}`|  \r |host|字符串|托管 API 的 API 管理网关 URL。|  \r |httpMethod|字符串|操作 HTTP 方法。|  \r |request|[HTTP 请求](#HTTPRequest)|一个实体，包含请求详细信息。|  \r |responses|[HTTP 响应](#HTTPResponse)数组|操作 [HTTP 响应](#HTTPResponse)实体数组。|  \r   \r ##  <a name=\"Menu\"></a> 操作菜单  \r  `operation menu` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ApiId|字符串|当前 API 的 ID。|  \r |CurrentOperationId|字符串|当前操作的 ID。|  \r |操作|字符串|菜单类型。|  \r |MenuItems|[操作菜单项](#MenuItem)实体的集合。|当前 API 的操作。|  \r   \r ##  <a name=\"MenuItem\"></a> 操作菜单项  \r  `operation menu item` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|字符串|操作的 ID。|  \r |标题|字符串|操作说明。|  \r |HttpMethod|字符串|此操作的 Http 方法。|  \r   \r ##  <a name=\"Paging\"></a> 分页  \r  `paging` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |Page|number|当前页码。|  \r |PageSize|number|要显示在单个页面上的最大结果数。|  \r |TotalItemCount|number|要显示的项数。|  \r |ShowAll|布尔值|是否在单页上显示所有结果。|  \r |PageCount|number|结果的页数。|  \r   \r ##  <a name=\"Parameter\"></a> 参数  \r  本部分描述 `parameter` 表示形式。  \r   \r |属性|说明|类型|  \r |--------------|-----------------|----------|  \r |name|字符串|参数名称。|  \r |description|字符串|参数说明。|  \r |value|字符串|参数值。|  \r |options|字符串数组|为查询参数值定义的值。|  \r |必填|布尔值|指定参数是否为必需。|  \r |kind|number|此参数是路径参数 (1)，还是查询字符串参数 (2)。|  \r |typeName|字符串|参数类型。|  \r   \r ##  <a name=\"Product\"></a> 产品  \r  `product` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|字符串|资源标识符。 唯一标识当前 API 管理服务实例中的产品。 值是有效的相对 URL，采用 `products/{pid}` 格式，其中 `{pid}` 是产品标识符。 此属性为只读。|  \r |标题|字符串|产品的名称。 不得为空。 最大长度为 100 个字符。|  \r |说明|字符串|产品说明。 不得为空。 可以包含 HTML 格式标记。 最大长度为 1000 个字符。|  \r |术语|字符串|产品使用条款。 当开发人员尝试订阅此产品时，系统会显示这些条款，开发人员需接受这些条款才能完成订阅过程。|  \r |ProductState|number|指定产品是否已发布。 开发人员可以在开发人员门户中发现已发布的产品。 尚未发布的产品只对管理员可见。<br /><br /> 允许用于产品状态的值包括：<br /><br /> - `0 - Not Published`<br /><br /> - `1 - Published`<br /><br /> - `2 - Deleted`|  \r |AllowMultipleSubscriptions|布尔值|指定用户是否可以同时拥有此产品的多个订阅。|  \r |MultipleSubscriptionsCount|number|当前用户订阅此产品时的订阅数目。|  \r   \r ##  <a name=\"Provider\"></a> 提供程序  \r  `provider` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |属性|字符串字典|此身份验证提供程序的属性。|  \r |AuthenticationType|字符串|提供程序类型。 （Azure Active Directory、Microsoft 帐户）。|  \r |Caption|字符串|提供程序的显示名称。|  \r   \r ##  <a name=\"Representation\"></a> 表示形式  \r  本部分描述 `representation`。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |contentType|字符串|指定此表示形式的已注册内容类型或自定义内容类型，例如 `application/xml`。|  \r |sample|字符串|表示形式的示例。|  \r   \r ##  <a name=\"Subscription\"></a> 订阅  \r  `subscription` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|字符串|资源标识符。 唯一标识当前 API 管理服务实例中的订阅。 值是有效的相对 URL，采用 `subscriptions/{sid}` 格式，其中 `{sid}` 是订阅标识符。 此属性为只读。|  \r |ProductId|字符串|已订阅产品的产品资源标识符。 值是有效的相对 URL，采用 `products/{pid}` 格式，其中 `{pid}` 是产品标识符。|  \r |ProductTitle|字符串|产品的名称。 不得为空。 最大长度为 100 个字符。|  \r |ProductDescription|字符串|产品说明。 不得为空。 可以包含 HTML 格式标记。 最大长度为 1000 个字符。|  \r |ProductDetailsUrl|字符串|指向产品详细信息的相对 URL。|  \r |state|字符串|订阅的状态。 可能的状态包括：<br /><br /> - `0 - suspended` – 订阅被阻止，订阅服务器无法调用产品的任何 API。<br /><br /> - `1 - active` – 订阅处于活动状态。<br /><br /> - `2 - expired` – 订阅已达到其到期日期，因此已停用。<br /><br /> - `3 - submitted` – 开发人员已提交订阅请求，但管理员尚未批准或拒绝该请求。<br /><br /> - `4 - rejected` – 管理员已拒绝订阅请求。<br /><br /> - `5 - cancelled` – 开发人员或管理员已取消订阅。|  \r |DisplayName|字符串|订阅的显示名称。|  \r |CreatedDate|dateTime|订阅的创建日期，采用 ISO 8601 格式：`2014-06-24T16:25:00Z`。|  \r |CanBeCancelled|布尔值|当前用户是否可以取消订阅。|  \r |IsAwaitingApproval|布尔值|订阅是否待批。|  \r |StartDate|dateTime|订阅的开始日期，采用 ISO 8601 格式：`2014-06-24T16:25:00Z`。|  \r |ExpirationDate|dateTime|订阅的到期日期，采用 ISO 8601 格式：`2014-06-24T16:25:00Z`。|  \r |NotificationDate|dateTime|订阅的通知日期，采用 ISO 8601 格式：`2014-06-24T16:25:00Z`。|  \r |primaryKey|字符串|主要订阅密钥。 最大长度为 256 个字符。|  \r |secondaryKey|字符串|辅助订阅密钥。 最大长度为 256 个字符。|  \r |CanBeRenewed|布尔值|当前用户是否可以续订订阅。|  \r |HasExpired|布尔值|订阅是否已到期。|  \r |IsRejected|布尔值|是否已拒绝订阅请求。|  \r |CancelUrl|字符串|用于取消订阅的相对 URL。|  \r |RenewUrl|字符串|用于续订订阅的相对 URL。|  \r   \r ##  <a name=\"SubscriptionSummary\"></a> 订阅摘要  \r  `subscription summary` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |ID|字符串|资源标识符。 唯一标识当前 API 管理服务实例中的订阅。 值是有效的相对 URL，采用 `subscriptions/{sid}` 格式，其中 `{sid}` 是订阅标识符。 此属性为只读。|  \r |DisplayName|字符串|订阅的显示名称|  \r   \r ##  <a name=\"UserAccountInfo\"></a> 用户帐户信息  \r  `user account info` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |FirstName|字符串|名字。 不得为空。 最大长度为 100 个字符。|  \r |LastName|字符串|姓氏。 不得为空。 最大长度为 100 个字符。|  \r |Email|字符串|电子邮件地址。 不得为空，且必须在服务实例中唯一。 最大长度为 254 个字符。|  \r |密码|字符串|用户帐户密码。|  \r |NameIdentifier|字符串|帐户标识符，与用户电子邮件相同。|  \r |ProviderName|字符串|身份验证提供程序名称。|  \r |IsBasicAccount|布尔值|如果此帐户使用电子邮件和密码注册，则为 true；如果此帐户使用提供程序注册，则为 false。|  \r   \r ##  <a name=\"UseSignIn\"></a> 用户登录  \r  `user sign in` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |Email|字符串|电子邮件地址。 不得为空，且必须在服务实例中唯一。 最大长度为 254 个字符。|  \r |密码|字符串|用户帐户密码。|  \r |ReturnUrl|字符串|用户单击“登录”时所在页面的 URL。|  \r |RememberMe|布尔值|是否保存当前用户的信息。|  \r |RegistrationEnabled|布尔值|是否已启用注册。|  \r |DelegationEnabled|布尔值|是否已启用委派登录。|  \r |DelegationUrl|字符串|委派登录 URL（如果已启用）。|  \r |SsoSignUpUrl|字符串|用户的单一登录 URL（如果存在）。|  \r |AuxServiceUrl|字符串|如果当前用户为管理员，则此项为指向 Azure 经典门户中服务实例的链接。|  \r |提供程序|[提供程序](#Provider)实体的集合|此用户的身份验证提供程序。|  \r |UserRegistrationTerms|字符串|用户必须在登录之前同意的条款。|  \r |UserRegistrationTermsEnabled|布尔值|是否启用条款。|  \r   \r ##  <a name=\"UserSignUp\"></a> 用户注册  \r  `user sign up` 实体具有以下属性。  \r   \r |属性|类型|说明|  \r |--------------|----------|-----------------|  \r |PasswordConfirm|布尔值|[注册](./api-management-page-controls.md#sign-up)注册控件使用的值。|  \r |密码|字符串|用户帐户密码。|  \r |PasswordVerdictLevel|number|[注册](./api-management-page-controls.md#sign-up)注册控件使用的值。|  \r |UserRegistrationTerms|字符串|用户必须在登录之前同意的条款。|  \r |UserRegistrationTermsOptions|number|[注册](./api-management-page-controls.md#sign-up)注册控件使用的值。|  \r |ConsentAccepted|布尔值|[注册](./api-management-page-controls.md#sign-up)注册控件使用的值。|  \r |Email|字符串|电子邮件地址。 不得为空，且必须在服务实例中唯一。 最大长度为 254 个字符。|  \r |FirstName|字符串|名字。 不得为空。 最大长度为 100 个字符。|  \r |LastName|字符串|姓氏。 不得为空。 最大长度为 100 个字符。|  \r |UserData|字符串|[注册](./api-management-page-controls.md#sign-up)控件使用的值。|  \r |NameIdentifier|字符串|[注册](./api-management-page-controls.md#sign-up)注册控件使用的值。|  \r |ProviderName|字符串|身份验证提供程序名称。|\r \r ## <a name=\"next-steps\"></a>后续步骤\r 如需详细了解如何使用模板，请参阅[如何使用模板自定义 API 管理开发人员门户](./api-management-developer-portal-templates.md)。\r "}