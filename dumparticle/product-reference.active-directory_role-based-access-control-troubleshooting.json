{"Title":"Azure RBAC 故障排除","Description":"获取有关基于角色的访问控制资源问题或疑问的帮助。","Content":"# <a name=\"role-based-access-control-troubleshooting\"></a>基于角色的访问控制故障排除\r \r 本文回答有关使用角色授予的特定访问权限的常见问题，以便你了解在 Azure 门户中使用角色时可以预期什么，并可以排查访问权限问题。 以下三种角色涵盖所有资源类型：\r \r - 所有者  \r - 参与者  \r - 读取器  \r \r 所有者和参与者对管理体验具有完全访问权限，但是参与者无法向其他用户授予访问权限。 具有读者角色事情会变得更加有趣，因此，我们着重介绍读者角色。 有关如何授予访问权限的详细信息，请参阅[基于角色的访问控制入门文章](./role-based-access-control-configure.md)。\r \r ## <a name=\"app-service-workloads\"></a>应用服务工作负荷\r ### <a name=\"write-access-capabilities\"></a>写访问功能\r 如果为用户授予单个 Web 应用的只读访问权限，某些功能可能会被禁用，这可能不是你所期望的。 以下管理功能需要对 Web 应用具有写入权限（参与者或所有者），并且不适用于任何只读方案。\r \r - 命令（例如启动、停止等。）\r - 更改设置（如常规配置、缩放设置、备份设置和监视设置）\r - 访问发布凭据和其他机密（如应用设置和连接字符串）\r - 流式传输日志\r - 诊断日志配置\r - 控制台（命令提示符）\r - 活动和最新部署（适用于本地 Git 持续部署）\r - 估计费用\r - Web 测试\r - 虚拟网络（只在虚拟网络是由具有写入权限的用户在以前配置时，才对读者可见）。\r \r 如果无法访问以上任何磁贴，则需要让管理员提供对 Web 应用的“参与者”访问权限。\r \r ### <a name=\"dealing-with-related-resources\"></a>处理相关资源\r 由于存在几个相互作用的不同资源，Web 应用程序是复杂的。 下面是包含几个网站的典型资源组：\r \r ![Web 应用程序资源组](./media/role-based-access-control-troubleshooting/website-resource-model.png)\r \r 因此，如果只授予某人对 Web 应用的访问权限，则 Azure 门户中的网站边栏选项卡上的很多功能将被禁用。\r \r 这些项需要对与网站对应的应用服务计划具有写入权限：  \r \r - 查看 Web 应用的定价层（免费或标准）  \r - 规模配置（实例数、虚拟机大小、自动缩放设置）  \r - 配额（存储空间、带宽、CPU）  \r \r 这些项需要对包含网站的整个资源组具有写入权限：  \r \r - SSL 证书和绑定（SSL 证书可以在同一资源组和地理位置中的站点之间共享）  \r - 警报规则  \r - 自动缩放设置  \r - Application Insights 组件  \r - Web 测试  \r \r ## <a name=\"virtual-machine-workloads\"></a>虚拟机工作负荷\r 与 Web 应用程序很类似，虚拟机边栏选项卡上的某些功能需要对虚拟机或资源组中的其他资源具有写访问权限。\r \r 虚拟机与域名、虚拟网络、存储帐户和警报规则相关。\r \r 这些项需要对虚拟机具有写入权限：\r \r - 终结点  \r - IP 地址  \r - 磁盘  \r - 扩展  \r \r 这些项需要对虚拟机和其所在的资源组（以及域名）具有写入权限：  \r \r - 可用性集  \r - 负载均衡集  \r - 警报规则  \r \r 如果无法访问以上任何磁贴，则需要让管理员提供对资源组的“参与者”访问权限。\r \r ## <a name=\"see-more\"></a>另请参阅\r - [基于角色的访问控制](role-based-access-control-configure.md)：Azure 门户中的 RBAC 入门。\r - [内置角色](role-based-access-built-in-roles.md)：获取有关 RBAC 中标配角色的详细信息。\r - [Azure RBAC 中的自定义角色](role-based-access-control-custom-roles.md)：了解如何创建自定义角色，以满足访问需要。\r - [创建访问权限更改历史记录报告](role-based-access-control-access-change-history-report.md)：记录 RBAC 中的角色分配更改。\r \r <!--Update_Description: wording update -->\r "}