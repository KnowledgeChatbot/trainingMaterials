{"Title":"通过 Java 上传大文件到媒体服务账号报错","Description":"Java 通过分片的方式上传大文件到媒体服务账号中","Content":"\r # 通过 Java 上传大文件到媒体服务账号报错 #\r \r ### 问题现象 ###\r \r 通过 Java 代码上传文件到媒体服务账号中，若上传的文件过大，则会上传失败。\r \r ### 解决方法 ###\r \r 可以选择通过分片的方式进行上传，从而解决该问题，示例代码如下：\r \r ```\r // The name of the file as it will exist in your Media Services account.\r String fileName = \"xxxxxxxx\";  \r // The local file that will be uploaded to your Media Services account.\r InputStream input = new FileInputStream(new File(\"D:/Test\" + fileName));\r String blobName = fileName;\r // Upload the local file to the asset.\r uploader.createBlockBlob(fileName, null);        \r String blockId;\r byte[] buffer = new byte[1024000];\r BlockList blockList = new BlockList();\r int bytesRead;        \r ByteArrayInputStream byteArrayInputStream;\r while ((bytesRead = input.read(buffer)) > 0) \r {\r         blockId = UUID.randomUUID().toString();\r         byteArrayInputStream = new ByteArrayInputStream(buffer, 0, bytesRead);\r         uploader.createBlobBlock(blobName, blockId, byteArrayInputStream);\r         blockList.addUncommittedEntry(blockId);\r }\r uploader.commitBlobBlocks(blobName, blockList);\r ```"}