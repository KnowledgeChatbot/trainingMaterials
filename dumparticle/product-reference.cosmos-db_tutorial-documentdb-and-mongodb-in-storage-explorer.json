{"Title":"在 Azure 存储资源管理器中管理 Azure Cosmos DB","Description":"了解如何在 Azure 存储资源管理器中管理 Azure Cosmos DB。","Content":"# <a name=\"manage-azure-cosmos-db-in-azure-storage-explorer-preview\"></a>在 Azure 存储资源管理器（预览版）中管理 Azure Cosmos DB\r \r 通过在 Azure 存储资源管理器中使用 Azure Cosmos DB，用户可以管理 Azure Cosmos DB 实体、操作数据、更新存储过程和触发器以及其他 Azure 实体（如存储 blob 和队列）。 现在可以使用相同工具在一个位置管理不同 Azure 实体。 当前，Azure 存储资源管理器支持 SQL (DocumentDB) 和 MongoDB 帐户。\r \r 在本文中，你可以了解如何使用存储资源管理器管理 Azure Cosmos DB。\r \r ## <a name=\"prerequisites\"></a>先决条件\r \r 用于 SQL (DocumentDB) 或 MongoDB 数据库的 Azure Cosmos DB 帐户。 如果你没有帐户，则可以按照 [Azure Cosmos DB：使用 .NET 和 Azure 门户生成 DocumentDB API Web 应用](create-documentdb-dotnet.md)中所述，在 Azure 门户中创建一个。\r \r ## <a name=\"installation\"></a>安装\r \r 在此处安装最新的 Azure 存储资源管理器版本：[Azure 存储资源管理器](https://go.microsoft.com/fwlink/?LinkId=708343&clcid=0x409)，现在我们支持 Windows、Linux 和 MAC 版本。\r \r ## <a name=\"connect-to-an-azure-subscription\"></a>连接到 Azure 订阅\r \r 1. 安装 **Azure 存储资源管理器**之后，单击左侧的**插件**图标，如下图中所示。\r \r    ![插件图标](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/plug-in-icon.png)\r \r 2. 选择“添加 Azure 帐户”，然后单击“登录”。\r \r    ![连接到 Azure 订阅](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/connect-to-azure-subscription.png)\r \r 2. 在“Azure 登录”对话框中，选择“登录”，然后输入 Azure 凭据。\r \r     ![登录](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/sign-in.png)\r \r 3. 从列表中选择你的订阅，然后单击“应用”。\r \r     ![应用](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/apply-subscription.png)\r \r     资源管理器窗格会更新，并显示所选订阅中的帐户。\r \r     ![帐户列表](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/account-list.png)\r \r     你已成功将 **Azure Cosmos DB 帐户**连接到你的 Azure 订阅。\r \r ## <a name=\"connect-to-azure-cosmos-db-by-using-a-connection-string\"></a>使用连接字符串连接到 Azure Cosmos DB\r \r 连接到 Azure Cosmos DB 的一种替代方法是使用连接字符串。 按照以下步骤可使用连接字符串进行连接。\r \r 1. 在左侧树中找到“本地和附加”，右键单击“Azure Cosmos DB 帐户”，然后选择“连接到 Azure Cosmos DB...”\r \r     ![通过连接字符串连接到 Azure Cosmos DB](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/connect-to-db-by-connection-string.png)\r \r 2. 为你的帐户类型选择相应“默认体验”（“DocumentDB”或“MongoDB”），粘贴你的“连接字符串”，然后单击“确定”以连接 Azure Cosmos DB 帐户。 有关检索连接字符串的信息，请参阅[获取连接字符串](/cosmos-db/manage-account#get-the--connection-string)。\r \r     ![连接字符串](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/connection-string.png)\r \r ## <a name=\"azure-cosmos-db-resource-management\"></a>Azure Cosmos DB 资源管理\r \r 你可以通过执行以下操作来管理 Azure Cosmos DB 帐户：\r * 在 Azure 门户中打开帐户\r * 将资源添加到快速访问列表\r * 搜索和刷新资源\r * 创建和删除数据库\r * 创建和删除集合\r * 创建、编辑、删除和筛选文档\r * 管理存储过程、触发器和用户定义的函数\r \r ### <a name=\"quick-access-tasks\"></a>快速访问任务\r \r 通过在资源管理器窗格中右键单击订阅，可以执行许多快速操作任务：\r \r * 右键单击 Azure Cosmos DB 帐户或数据库，可以选择“在门户中打开”，然后在 Azure 门户上通过浏览器管理资源。\r \r      ![在门户中打开](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/open-in-portal.png)\r \r * 还可以将 Azure Cosmos DB 帐户、数据库、集合添加到“快速访问”。\r * 通过“从此处搜索”可以在所选路径下进行关键字搜索。\r \r     ![从此处搜索](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/search-from-here.png) \r \r ### <a name=\"database-and-collection-management\"></a>数据库和集合管理\r #### <a name=\"create-a-database\"></a>创建数据库 \r 右键单击 Azure Cosmos DB 帐户，选择“创建数据库”，输入数据库名称，然后按 **Enter** 以完成。\r \r ![创建数据库](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/create-database.png) \r \r #### <a name=\"delete-a-database\"></a>删除数据库\r 右键单击数据库，单击“删除数据库”，然后在弹出窗口中单击“是”。 数据库节点会删除，并且 Azure Cosmos DB 帐户会自动刷新。\r \r ![删除数据库 1](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/delete-database1.png)  \r \r ![删除数据库 2](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/delete-database2.png) \r \r #### <a name=\"create-a-collection\"></a>创建集合\r 右键单击数据库，选择“创建集合”，然后提供以下信息，如“集合 ID”、“存储容量”等。单击“确定”完成。 有关分区键设置的信息，请参阅[分区设计](partition-data.md#designing-for-partitioning)。\r \r 如果在创建集合时使用分区键，则一旦创建完成，便无法对集合更改分区键值。\r \r ![创建集合 1](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/create-collection.png)\r \r ![创建集合 2](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/create-collection2.png) \r \r #### <a name=\"delete-a-collection\"></a>删除集合\r 右键单击集合，单击“删除集合”，然后在弹出窗口中单击“是”。 \r \r 集合节点会删除，并且数据库会自动刷新。  \r \r ![删除集合](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/delete-collection.png) \r \r ### <a name=\"document-management\"></a>文档管理\r \r #### <a name=\"create-and-modify-documents\"></a>创建和修改文档\r 若要创建新文档，请打开左窗口中的“文档”，单击“新建文档”，在右窗格中编辑内容，然后单击“保存”。 还可以更新现有文档，然后单击“保存”。 可以通过单击“放弃”来放弃更改。\r \r ![文档](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/document.png)\r \r #### <a name=\"delete-a-document\"></a>删除文档\r 单击“删除”按钮以删除所选文档。\r #### <a name=\"query-for-documents\"></a>查询文档\r 通过输入 [SQL 查询](documentdb-sql-query.md)来编辑文档筛选器，然后单击“应用”。\r \r ![筛选器](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/filter.png)\r \r ### <a name=\"manage-stored-procedures-triggers-and-udfs\"></a>管理存储过程、触发器和 UDF\r * 若要创建存储过程，请在左侧树中，右键单击“存储过程”，选择“创建存储过程”，在左侧输入名称，在右侧窗口中输入存储过程脚本，然后单击“创建”。 \r * 还可以双击，进行更新，然后单击“更新”保存，从而编辑现有存储过程，或单击“放弃”以取消更改。\r \r ![存储过程](./media/tutorial-documentdb-and-mongodb-in-storage-explorer/stored-procedure.png)\r \r * 用于**触发器**和 **UDF** 的操作与用于**存储过程**的操作类似。\r \r ## <a name=\"next-steps\"></a>后续步骤\r \r * 在[存储资源管理器（预览版）入门](/vs-azure-tools-storage-manage-with-storage-explorer)中了解有关存储资源管理器和连接更多服务的详细信息。\r \r <!--Update_Description: update meta properties, update link -->\r \r "}