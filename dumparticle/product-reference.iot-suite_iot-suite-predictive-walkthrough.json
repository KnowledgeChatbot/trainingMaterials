{"Title":"预测性维护演练","Description":"Azure IoT 预测性维护预配置解决方案演练。","Content":"# <a name=\"predictive-maintenance-preconfigured-solution-walkthrough\"></a>预测性维护预配置解决方案演练\r \r \r 预测性维护预配置解决方案是一个用于商业应用场景的端到端解决方案，可预测可能发生故障的时间点。 可主动使用此预配置解决方案执行维护优化等活动。 该解决方案结合了重要的 Azure IoT 套件服务，例如 IoT 中心、“流分析”工作区。  此工作区包含基于公用示例数据集的模型，用于预测飞机引擎的剩余使用寿命 (RUL)。 此解决方案全面实施了完整的 loT 商业应用场景作为规划和实施解决方案的起点，以满足自己特定的业务需求。\r \r ## <a name=\"logical-architecture\"></a>逻辑体系结构\r \r 下图概述该预配置解决方案的逻辑组件：\r \r ![][img-architecture]  \r \r 蓝色项是在部署预配置解决方案时，在同一区域中预配的 Azure 服务。 [预配页][lnk-azureiotsuite]显示了可部署预配置解决方案的区域列表。\r \r 绿色项是表示飞机引擎的模拟设备。 可以在[模拟设备](#simulated-devices)部分了解有关这些模拟设备的详细信息。\r \r 灰色项表示实现 *设备管理* 功能的组件。当前的预测性维护预配置解决方案版本不会预配这些资源。若要了解有关设备管理的详细信息，请参阅[远程监控预配置解决方案][lnk-remote-monitoring]。\r \r ## <a name=\"simulated-devices\"></a>模拟设备\r \r 在该预配置解决方案中，模拟设备代表飞机引擎。该解决方案预配有两个映射到单架飞机的引擎。每个引擎发出 4 种遥测数据：传感器 9、传感器 11、传感器 14 和传感器 15 为 R 模型提供所需的数据来计算引擎的 RUL。每个模拟设备会将下列遥测消息发送到 IoT 中心：\r \r *周期计数* 。一个周期表示 2 至 10 小时不等的已完成飞行。在飞行期间，每半小时捕获一次遥测数据。\r \r *遥测* 。有 4 个代表引擎属性的传感器。这些传感器一般标记为传感器 9、传感器 11、传感器 14 和传感器 15。这四个传感器代表足以从 RUL 模型获取有用结果的遥测装置。预配置解决方案中使用模型是基于包含实际引擎传感器数据的公共数据集创建的。有关如何根据原始数据集创建该模型的详细信息，请参阅 [Cortana Intelligence Gallery Predictive Maintenance Template][lnk-cortana-analytics]（Cortana Intelligence 库预测性维护模板）。\r \r 模拟设备可以处理在解决方案中通过 IoT 中心发送的以下命令：\r \r | 命令 | 说明 |\r | --- | --- |\r | StartTelemetry |控制模拟的状态。<br/>使设备开始发送遥测 |\r | StopTelemetry |控制模拟的状态。<br/>使设备停止发送遥测 |\r \r IoT 中心会提供设备命令确认。\r \r ## <a name=\"azure-stream-analytics-job\"></a>Azure 流分析作业\r \r **作业：遥测** 会使用两个语句来操作传入设备遥测流：\r \r * 第一个语句会从设备选择所有遥测，然后将这些数据 从在 Web 应用中可视化的位置发送到 Blob 存储。\r * 第二个语句会通过两分钟的滑动窗口计算平均传感器值，然后通过事件中心将这些数据发送到事件处理器。\r \r ## <a name=\"event-processor\"></a>事件处理器\r **事件处理器主机** 在 Azure Web 作业中运行。 **事件处理器** 获取已完成周期的平均传感器值。 然后，将这些值传递给某个 API，后者可公开用于计算引擎 RUL 的训练模型。 该 API 由预配为解决方案一部分的 R Server 公开。\r \r ## <a name=\"r-server\"></a>R Server\r R Server 实现使用派生自数据的模型，这些数据是从实际飞机引擎收集的。若要访问 R Server 和模型，请参阅 [ Azure IoT 套件][lnk-azureiotsuite]中预配解决方案的解决方案面板上的链接。\r \r ## <a name=\"next-steps\"></a>后续步骤\r 了解预测性维护预配置解决方案的关键组件后，可对其进行自定义。请参阅[预配置解决方案自定义指南][lnk-customize]。\r \r 还可以浏览 IoT 套件预配置的解决方案的一些其他特性和功能：\r \r * [有关 IoT 套件的常见问题][lnk-faq]\r * [从头开始保障 IoT 安全][lnk-security-groundup]\r \r [img-architecture]: ./media/iot-suite-predictive-walkthrough/architecture.png\r \r [lnk-remote-monitoring]: iot-suite-v1-remote-monitoring-sample-walkthrough.md\r [lnk-cortana-analytics]: http://gallery.cortanaintelligence.com/Collection/Predictive-Maintenance-Template-3\r [lnk-azureiotsuite]: https://www.azureiotsuite.cn/\r [lnk-customize]: iot-suite-v1-guidance-on-customizing-preconfigured-solutions.md\r [lnk-faq]: iot-suite-v1-faq.md\r [lnk-security-groundup]: ./securing-iot-ground-up.md\r \r <!--Update_Description: update wording and link references-->"}