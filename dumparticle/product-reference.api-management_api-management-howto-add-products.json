{"Title":"如何在 Azure API 管理中创建和发布产品","Description":"了解如何在 Azure API 管理中创建和发布产品。","Content":"# <a name=\"how-to-create-and-publish-a-product-in-azure-api-management\"></a>如何在 Azure API 管理中创建和发布产品\r 在 Azure API 管理中，产品包含一个或多个 API 以及使用配额和使用条款。 一旦产品发布，开发人员便可以订阅该产品，并可开始使用该产品的 API。 本主题为开发人员提供创建产品、添加 API 以及将其发布的指南。\r \r ## <a name=\"create-product\"> </a>创建产品\r 可以在发布者门户中将操作添加并配置到 API。 若要访问发布者门户，请在 API 管理服务的 Azure 门户中单击“发布者门户”。\r \r ![发布者门户][api-management-management-console]\r \r > 如果尚未创建 API 管理服务实例，请参阅 [Azure API 管理入门][Get started with Azure API Management]教程中的[创建 API 管理服务实例][Create an API Management service instance]。\r > \r > \r \r 单击左侧菜单中的“产品”显示“产品”页，并单击“添加产品”。\r \r ![产品][api-management-products]\r \r ![新建产品][api-management-add-new-product]\r \r 在“名称”字段中输入产品的描述性名称，在“说明”字段中输入产品的说明。\r \r API 管理中的产品可处于“公开”或“受保护”状态。 必须先订阅受保护的产品，才能使用它们，但公开的产品无需订阅即可使用。 选中“需要订阅”可创建需要订阅的受保护产品。 此设置为默认设置。\r \r 如果希望管理员审查并接受或拒绝此产品的订阅尝试，请选中“需要订阅审批”。 如果未选中此框，则会自动批准订阅尝试。 有关订阅的详细信息，请参阅[查看产品的订户][View subscribers to a product]。\r \r 若要允许开发人员帐户多次订阅产品，请选中“允许多个订阅”复选框。 如果未选中此框，则每个开发人员帐户只能订阅产品一次。\r \r ![无限多个订阅][api-management-unlimited-multiple-subscriptions]\r \r 要限制多个同时订阅的数量，请选中“将同时订阅数量限制为”复选框并输入订阅限制。 在下面的示例中，每个开发人员帐户限制为四个同时订阅。\r \r ![四个多个订阅][api-management-four-multiple-subscriptions]\r \r 配置所有新产品选项后，单击“保存”创建新产品。\r \r ![产品][api-management-products-page]\r \r > 默认情况下新产品未发布，并仅对“管理员”组可见。\r > \r > \r \r 若要配置产品，请单击“产品”选项卡中的产品名称。\r \r ## <a name=\"add-apis\"> </a>将 API 添加到产品\r “产品”页包含四个配置链接：“摘要”、“设置”、“可见性”和“订户”。 可在“摘要”选项卡中添加 API 和发布或取消发布产品。\r \r ![摘要][api-management-new-product-summary]\r \r 在发布产品前，需要添加一个或多个 API。 为此，请单击“将 API 添加到产品”。\r \r ![添加 API][api-management-add-apis-to-product]\r \r 选择所需的 API，并单击“保存”。\r \r ## <a name=\"add-description\"> </a>将描述性信息添加到产品\r “设置”选项卡用于提供有关该产品的详细信息，如其用途、它允许访问的 API 以及其他有用信息。 内容针对调用 API 的开发人员，并可以纯文本或 HTML 标记编写。\r \r ![产品设置][api-management-product-settings]\r \r 选中“需要订阅”创建需要使用订阅的受保护产品，或清除该复选框以创建可在没有订阅的情况下调用的公开产品。\r \r 如果要手动批准所有产品订阅请求，请选中“需要订阅批准”。 默认情况下会自动授予所有产品订阅。\r \r 若要允许开发人员帐户多次订阅产品，请选中“允许多个订阅”复选框并（可选）指定限制。 如果未选中此框，则每个开发人员帐户只能订阅产品一次。\r \r （可选）为产品填写描述使用条款的“使用条款”字段，订户必须接受这些条款才能使用该产品。\r \r ## <a name=\"publish-product\"> </a>发布产品\r 必须先发布产品，才能调用该产品中的 API。 在产品的“摘要”选项卡上，单击“发布”，并单击“是，将其发布”以确认。 要使以前发布的产品私有，请单击“取消发布”。\r \r ![发布产品][api-management-publish-product]\r \r ## <a name=\"make-visible\"> </a>使产品对开发人员可见\r “可见性”选项卡用于选择可在开发人员门户上查看该产品和订阅该产品的角色。\r \r ![产品可见性][api-management-product-visiblity]\r \r 要启用或禁用产品对组中开发人员的可见性，请选中或取消选中组旁边的复选框，并单击“保存”。\r \r > 有关详细信息，请参阅[如何创建和使用组以管理 Azure API 管理中的开发人员帐户][How to create and use groups to manage developer accounts in Azure API Management]。\r > \r > \r \r ## <a name=\"view-subscribers\"> </a>查看产品的订户\r “订户”选项卡列出已订阅该产品的开发人员。 通过单击开发人员的名称，可以查看每个开发人员的详细信息和设置。 在此示例中还没有开发人员订阅该产品。\r \r ![开发人员][api-management-developer-list]\r \r ## <a name=\"next-steps\"> </a>后续步骤\r 添加了所需的 API 且产品发布后，开发人员便可以订阅该产品并可开始调用 API。 有关演示这些项目以及高级产品配置的教程，请参阅[如何在 Azure API 管理中创建和配置高级产品设置][How create and configure advanced product settings in Azure API Management]。\r \r \r [Create a product]: #create-product\r [Add APIs to a product]: #add-apis\r [Add descriptive information to a product]: #add-description\r [Publish a product]: #publish-product\r [Make a product visible to developers]: #make-visible\r [View subscribers to a product]: #view-subscribers\r [Next steps]: #next-steps\r \r [api-management-management-console]: ./media/api-management-howto-add-products/api-management-management-console.png\r [api-management-add-product]: ./media/api-management-howto-add-products/api-management-add-product.png\r [api-management-add-new-product]: ./media/api-management-howto-add-products/api-management-add-new-product.png\r [api-management-unlimited-multiple-subscriptions]: ./media/api-management-howto-add-products/api-management-unlimited-multiple-subscriptions.png\r [api-management-four-multiple-subscriptions]: ./media/api-management-howto-add-products/api-management-four-multiple-subscriptions.png\r [api-management-products-page]: ./media/api-management-howto-add-products/api-management-products-page.png\r [api-management-new-product-summary]: ./media/api-management-howto-add-products/api-management-new-product-summary.png\r [api-management-add-apis-to-product]: ./media/api-management-howto-add-products/api-management-add-apis-to-product.png\r [api-management-product-settings]: ./media/api-management-howto-add-products/api-management-product-settings.png\r [api-management-publish-product]: ./media/api-management-howto-add-products/api-management-publish-product.png\r [api-management-product-visiblity]: ./media/api-management-howto-add-products/api-management-product-visibility.png\r [api-management-developer-list]: ./media/api-management-howto-add-products/api-management-developer-list.png\r \r \r \r [api-management-products]: ./media/api-management-howto-add-products/api-management-products.png\r [api-management-]: ./media/api-management-howto-add-products/\r [api-management-]: ./media/api-management-howto-add-products/\r \r \r [How to add operations to an API]: ./api-management-howto-add-operations.md\r [How to create and publish a product]: ./api-management-howto-add-products.md\r [Get started with Azure API Management]: ./api-management-get-started.md\r [Create an API Management service instance]: ./api-management-get-started.md#create-service-instance\r [Next steps]: #next-steps\r [How to create and use groups to manage developer accounts in Azure API Management]: ./api-management-howto-create-groups.md\r [How create and configure advanced product settings in Azure API Management]: ./api-management-howto-product-with-rules.md \r "}