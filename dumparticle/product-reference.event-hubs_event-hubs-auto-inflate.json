{"Title":"自动增加 Azure 事件中心吞吐量单位","Description":"在命名空间上启用自动膨胀，自动增加吞吐量单位","Content":"# <a name=\"automatically-scale-up-azure-event-hubs-throughput-units\"></a>自动增加 Azure 事件中心吞吐量单位\r \r Azure 事件中心是高度可缩放的数据流式处理平台。 因此，事件中心客户通常会在加入该服务后提高自己的使用量。 要提高使用量需要增加预先确定的吞吐量单位，从而扩展事件中心和处理更大的传输速率。 事件中心的自动膨胀功能可自动增加吞吐量单位数，以便满足使用量需求。 增加吞吐量单位数可防止出现限制情况，在这些情况下：\r \r * 数据入口速率超过设置的吞吐量单位数。\r * 数据出口请求速率超过设置的吞吐量单位数。\r \r ## <a name=\"how-auto-inflate-works\"></a>自动膨胀的工作原理\r \r 事件中心流量由吞吐量单位控制。 单个吞吐量单位允许入口量为 1 MB/秒，出口量是其两倍。 标准事件中心可以配置 1-20 个吞吐量单位。 利用自动膨胀，可从所需吞吐量单位的最小值开始。 然后此功能会自动将所需吞吐量单位增加到最大值，具体取决于增加的流量。 自动膨胀具有以下优势：\r \r - 高效的缩放机制，可从少量开始并随流量增长而增加。\r - 自动增加到指定上限，没有限制问题。\r - 更好地控制缩放，你可控制缩放的时间和程度。\r \r ## <a name=\"enable-auto-inflate-on-a-namespace\"></a>在命名空间上启用自动膨胀\r \r 可使用下列方法之一在命名空间上启用或禁用自动膨胀：\r \r 1. [Azure 门户](https://portal.azure.cn)。\r 2. Azure 资源管理器模板。\r \r ### <a name=\"enable-auto-inflate-through-the-portal\"></a>通过门户启用自动膨胀\r \r 创建事件中心命名空间时，可在命名空间上启用自动膨胀功能：\r \r ![](./media/event-hubs-auto-inflate/event-hubs-auto-inflate1.png)\r \r 启用此选项后，可从少量吞吐量单位开始并随所需使用量的增长而增加。 膨胀的上限不会影响定价，定价取决于每小时使用的吞吐量单位数。\r \r 还可以使用门户中“设置”边栏选项卡上的“缩放”选项启用自动膨胀：\r \r ![](./media/event-hubs-auto-inflate/event-hubs-auto-inflate2.png)\r \r ### <a name=\"enable-auto-inflate-using-an-azure-resource-manager-template\"></a>使用 Azure 资源管理器模板启用自动膨胀\r \r 可在 Azure 资源管理器模板部署期间启用自动膨胀。 例如，将 `isAutoInflateEnabled` 属性设置为“true”并将 `maximumThroughputUnits` 设置为 10。\r \r ```json\r \"resources\": [\r         {\r             \"apiVersion\": \"2017-04-01\",\r             \"name\": \"[parameters('namespaceName')]\",\r             \"type\": \"Microsoft.EventHub/Namespaces\",\r             \"location\": \"[variables('location')]\",\r             \"sku\": {\r                 \"name\": \"Standard\",\r                 \"tier\": \"Standard\"\r             },\r             \"properties\": {\r                 \"isAutoInflateEnabled\": true,\r                 \"maximumThroughputUnits\": 10\r             },\r             \"resources\": [\r                 {\r                     \"apiVersion\": \"2017-04-01\",\r                     \"name\": \"[parameters('eventHubName')]\",\r                     \"type\": \"EventHubs\",\r                     \"dependsOn\": [\r                         \"[concat('Microsoft.EventHub/namespaces/', parameters('namespaceName'))]\"\r                     ],\r                     \"properties\": {},\r                     \"resources\": [\r                         {\r                             \"apiVersion\": \"2017-04-01\",\r                             \"name\": \"[parameters('consumerGroupName')]\",\r                             \"type\": \"ConsumerGroups\",\r                             \"dependsOn\": [\r                                 \"[parameters('eventHubName')]\"\r                             ],\r                             \"properties\": {}\r                         }\r                     ]\r                 }\r             ]\r         }\r     ]\r ```\r \r 有关完整的模板，请参阅 GitHub 上的[创建事件中心命名空间和启用膨胀模板](https://github.com/Azure/azure-quickstart-templates/tree/master/201-eventhubs-create-namespace-and-enable-inflate)。\r \r ## <a name=\"next-steps\"></a>后续步骤\r \r 访问以下链接可以了解有关事件中心的详细信息：\r \r * [事件中心概述](event-hubs-what-is-event-hubs.md)\r * [创建事件中心](event-hubs-create.md)\r \r <!--Update_Description: new articles on event hubs auto inflate -->"}