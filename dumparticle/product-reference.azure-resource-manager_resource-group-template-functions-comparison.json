{"Title":"Azure Resource Manager 模板函数 - 比较","Description":"介绍可在 Azure Resource Manager 模板中使用的用于比较值的函数。","Content":"# <a name=\"comparison-functions-for-azure-resource-manager-templates\"></a>用于 Azure Resource Manager 模板的比较函数\r \r Resource Manager 提供了多个用于在模板中进行比较的函数。\r \r * [equals](#equals)\r * [greater](#greater)\r * [greaterOrEquals](#greaterorequals)\r * [less](#less)\r * [lessOrEquals](#lessorequals)\r \r ## <a name=\"equals\"></a>equals\r `equals(arg1, arg2)`\r \r 检查两个值是否相等。\r \r ### <a name=\"parameters\"></a>Parameters\r \r | 参数 | 必选 | 类型 | 说明 |\r |:--- |:--- |:--- |:--- |\r | arg1 |是 |int、string、array 或 object |要检查是否相等的第一个值。 |\r | arg2 |是 |int、string、array 或 object |要检查是否相等的第二个值。 |\r \r ### <a name=\"return-value\"></a>返回值\r \r 如果值相等，返回 **True**；否则返回 **False**。\r \r ### <a name=\"remarks\"></a>备注\r \r equals 函数通常与 `condition` 元素一起使用来测试资源是否已部署。\r \r ```json\r {\r     \"condition\": \"[equals(parameters('newOrExisting'),'new')]\",\r     \"type\": \"Microsoft.Storage/storageAccounts\",\r     \"name\": \"[variables('storageAccountName')]\",\r     \"apiVersion\": \"2017-06-01\",\r     \"location\": \"[resourceGroup().location]\",\r     \"sku\": {\r         \"name\": \"[variables('storageAccountType')]\"\r     },\r     \"kind\": \"Storage\",\r     \"properties\": {}\r }\r ```\r \r ### <a name=\"example\"></a>示例\r \r 下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/equals.json)检查不同类型的值是否相等。 所有默认值都返回 True。\r \r ```json\r {\r     \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r     \"contentVersion\": \"1.0.0.0\",\r     \"parameters\": {\r         \"firstInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 1\r         },\r         \"secondInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 1\r         },\r         \"firstString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"a\"\r         },\r         \"secondString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"a\"\r         },\r         \"firstArray\": {\r             \"type\": \"array\",\r             \"defaultValue\": [\"a\", \"b\"]\r         },\r         \"secondArray\": {\r             \"type\": \"array\",\r             \"defaultValue\": [\"a\", \"b\"]\r         },\r         \"firstObject\": {\r             \"type\": \"object\",\r             \"defaultValue\": {\"a\": \"b\"}\r         },\r         \"secondObject\": {\r             \"type\": \"object\",\r             \"defaultValue\": {\"a\": \"b\"}\r         }\r     },\r     \"resources\": [\r     ],\r     \"outputs\": {\r         \"checkInts\": {\r             \"type\": \"bool\",\r             \"value\": \"[equals(parameters('firstInt'), parameters('secondInt') )]\"\r         },\r         \"checkStrings\": {\r             \"type\": \"bool\",\r             \"value\": \"[equals(parameters('firstString'), parameters('secondString'))]\"\r         },\r         \"checkArrays\": {\r             \"type\": \"bool\",\r             \"value\": \"[equals(parameters('firstArray'), parameters('secondArray'))]\"\r         },\r         \"checkObjects\": {\r             \"type\": \"bool\",\r             \"value\": \"[equals(parameters('firstObject'), parameters('secondObject'))]\"\r         }\r     }\r }\r ```\r \r 采用默认值，前面示例的输出为：\r \r | 名称 | 类型 | 值 |\r | ---- | ---- | ----- |\r | checkInts | Bool | True |\r | checkStrings | Bool | True |\r | checkArrays | Bool | True |\r | checkObjects | Bool | True |\r \r 要使用 Azure CLI 部署此示例模板，请使用：\r \r ```azurecli\r az group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/equals.json\r ```\r \r 要使用 PowerShell 部署此示例模板，请使用：\r \r ```powershell\r New-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/equals.json \r ```\r \r 以下[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/not-equals.json)结合使用 not 和 **equals**[](resource-group-template-functions-logical.md#not)。\r \r ```json\r {\r     \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r     \"contentVersion\": \"1.0.0.0\",\r     \"resources\": [\r     ],\r     \"outputs\": {\r         \"checkNotEquals\": {\r             \"type\": \"bool\",\r             \"value\": \"[not(equals(1, 2))]\"\r         }\r     }\r }\r ```\r \r 前述示例的输出为：\r \r | 名称 | 类型 | 值 |\r | ---- | ---- | ----- |\r | checkNotEquals | Bool | True |\r \r 要使用 Azure CLI 部署此示例模板，请使用：\r \r ```azurecli\r az group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/not-equals.json\r ```\r \r 要使用 PowerShell 部署此示例模板，请使用：\r \r ```powershell\r New-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/not-equals.json \r ```\r \r ## <a name=\"greater\"></a>greater\r `greater(arg1, arg2)`\r \r 检查第一个值是否大于第二个值。\r \r ### <a name=\"parameters\"></a>Parameters\r \r | 参数 | 必选 | 类型 | 说明 |\r |:--- |:--- |:--- |:--- |\r | arg1 |是 |int 或 string |用于大于比较的第一个值。 |\r | arg2 |是 |int 或 string |用于大于比较的第二个值。 |\r \r ### <a name=\"return-value\"></a>返回值\r \r 如果第一个值大于第二个值，返回 **True**；否则返回 **False**。\r \r ### <a name=\"example\"></a>示例\r \r 下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/greater.json)检查一个值是否大于另一个值。\r \r ```json\r {\r     \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r     \"contentVersion\": \"1.0.0.0\",\r     \"parameters\": {\r         \"firstInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 1\r         },\r         \"secondInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 2\r         },\r         \"firstString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"A\"\r         },\r         \"secondString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"a\"\r         }\r     },\r     \"resources\": [\r     ],\r     \"outputs\": {\r         \"checkInts\": {\r             \"type\": \"bool\",\r             \"value\": \"[greater(parameters('firstInt'), parameters('secondInt') )]\"\r         },\r         \"checkStrings\": {\r             \"type\": \"bool\",\r             \"value\": \"[greater(parameters('firstString'), parameters('secondString'))]\"\r         }\r     }\r }\r ```\r \r 上述示例中使用默认值的输出为：\r \r | 名称 | 类型 | 值 |\r | ---- | ---- | ----- |\r | checkInts | Bool | False |\r | checkStrings | Bool | True |\r \r 要使用 Azure CLI 部署此示例模板，请使用：\r \r ```azurecli\r az group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greater.json\r ```\r \r 要使用 PowerShell 部署此示例模板，请使用：\r \r ```powershell\r New-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greater.json \r ```\r \r ## <a name=\"greaterorequals\"></a>greaterOrEquals\r `greaterOrEquals(arg1, arg2)`\r \r 检查第一个值是否大于或等于第二个值。\r \r ### <a name=\"parameters\"></a>Parameters\r \r | 参数 | 必选 | 类型 | 说明 |\r |:--- |:--- |:--- |:--- |\r | arg1 |是 |int 或 string |用于大于或等于比较的第一个值。 |\r | arg2 |是 |int 或 string |用于大于或等于比较的第二个值。 |\r \r ### <a name=\"return-value\"></a>返回值\r \r 如果第一个值大于或等于第二个值，返回 **True**；否则返回 **False**。\r \r ### <a name=\"example\"></a>示例\r \r 下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/greaterorequals.json)检查一个值是否大于等于另一个值。\r \r ```json\r {\r     \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r     \"contentVersion\": \"1.0.0.0\",\r     \"parameters\": {\r         \"firstInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 1\r         },\r         \"secondInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 2\r         },\r         \"firstString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"A\"\r         },\r         \"secondString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"a\"\r         }\r     },\r     \"resources\": [\r     ],\r     \"outputs\": {\r         \"checkInts\": {\r             \"type\": \"bool\",\r             \"value\": \"[greaterOrEquals(parameters('firstInt'), parameters('secondInt') )]\"\r         },\r         \"checkStrings\": {\r             \"type\": \"bool\",\r             \"value\": \"[greaterOrEquals(parameters('firstString'), parameters('secondString'))]\"\r         }\r     }\r }\r ```\r \r 上述示例中使用默认值的输出为：\r \r | 名称 | 类型 | 值 |\r | ---- | ---- | ----- |\r | checkInts | Bool | False |\r | checkStrings | Bool | True |\r \r 要使用 Azure CLI 部署此示例模板，请使用：\r \r ```azurecli\r az group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greaterorequals.json\r ```\r \r 要使用 PowerShell 部署此示例模板，请使用：\r \r ```powershell\r New-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/greaterorequals.json \r ```\r \r ## <a name=\"less\"></a>less\r `less(arg1, arg2)`\r \r 检查第一个值是否小于第二个值。\r \r ### <a name=\"parameters\"></a>Parameters\r \r | 参数 | 必选 | 类型 | 说明 |\r |:--- |:--- |:--- |:--- |\r | arg1 |是 |int 或 string |用于小于比较的第一个值。 |\r | arg2 |是 |int 或 string |用于小于比较的第二个值。 |\r \r ### <a name=\"return-value\"></a>返回值\r \r 如果第一个值小于第二个值，返回 **True**；否则返回 **False**。\r \r ### <a name=\"example\"></a>示例\r \r 下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/less.json)检查一个值是否小于另一个值。\r \r ```json\r {\r     \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r     \"contentVersion\": \"1.0.0.0\",\r     \"parameters\": {\r         \"firstInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 1\r         },\r         \"secondInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 2\r         },\r         \"firstString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"A\"\r         },\r         \"secondString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"a\"\r         }\r     },\r     \"resources\": [\r     ],\r     \"outputs\": {\r         \"checkInts\": {\r             \"type\": \"bool\",\r             \"value\": \"[less(parameters('firstInt'), parameters('secondInt') )]\"\r         },\r         \"checkStrings\": {\r             \"type\": \"bool\",\r             \"value\": \"[less(parameters('firstString'), parameters('secondString'))]\"\r         }\r     }\r }\r ```\r \r 上述示例中使用默认值的输出为：\r \r | 名称 | 类型 | 值 |\r | ---- | ---- | ----- |\r | checkInts | Bool | True |\r | checkStrings | Bool | False |\r \r 要使用 Azure CLI 部署此示例模板，请使用：\r \r ```azurecli\r az group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/less.json\r ```\r \r 要使用 PowerShell 部署此示例模板，请使用：\r \r ```powershell\r New-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/less.json \r ```\r \r ## <a name=\"lessorequals\"></a>lessOrEquals\r `lessOrEquals(arg1, arg2)`\r \r 检查第一个值是否小于或等于第二个值。\r \r ### <a name=\"parameters\"></a>Parameters\r \r | 参数 | 必选 | 类型 | 说明 |\r |:--- |:--- |:--- |:--- |\r | arg1 |是 |int 或 string |用于小于或等于比较的第一个值。 |\r | arg2 |是 |int 或 string |用于小于或等于比较的第二个值。 |\r \r ### <a name=\"return-value\"></a>返回值\r \r 如果第一个值小于或等于第二个值，返回 **True**；否则返回 **False**。\r \r ### <a name=\"example\"></a>示例\r \r 下列[示例模板](https://github.com/Azure/azure-docs-json-samples/blob/master/azure-resource-manager/functions/lessorequals.json)检查一个值是否小于等于另一个值。\r \r ```json\r {\r     \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r     \"contentVersion\": \"1.0.0.0\",\r     \"parameters\": {\r         \"firstInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 1\r         },\r         \"secondInt\": {\r             \"type\": \"int\",\r             \"defaultValue\": 2\r         },\r         \"firstString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"A\"\r         },\r         \"secondString\": {\r             \"type\": \"string\",\r             \"defaultValue\": \"a\"\r         }\r     },\r     \"resources\": [\r     ],\r     \"outputs\": {\r         \"checkInts\": {\r             \"type\": \"bool\",\r             \"value\": \"[lessOrEquals(parameters('firstInt'), parameters('secondInt') )]\"\r         },\r         \"checkStrings\": {\r             \"type\": \"bool\",\r             \"value\": \"[lessOrEquals(parameters('firstString'), parameters('secondString'))]\"\r         }\r     }\r }\r ```\r \r 上述示例中使用默认值的输出为：\r \r | 名称 | 类型 | 值 |\r | ---- | ---- | ----- |\r | checkInts | Bool | True |\r | checkStrings | Bool | False |\r \r 要使用 Azure CLI 部署此示例模板，请使用：\r \r ```azurecli\r az group deployment create -g functionexamplegroup --template-uri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/lessorequals.json\r ```\r \r 要使用 PowerShell 部署此示例模板，请使用：\r \r ```powershell\r New-AzureRmResourceGroupDeployment -ResourceGroupName functionexamplegroup -TemplateUri https://raw.githubusercontent.com/Azure/azure-docs-json-samples/master/azure-resource-manager/functions/lessorequals.json \r ```\r ## <a name=\"next-steps\"></a>后续步骤\r * 有关 Azure Resource Manager 模板中各部分的说明，请参阅 [Authoring Azure Resource Manager templates](resource-group-authoring-templates.md)（创作 Azure Resource Manager 模板）。\r * 若要合并多个模板，请参阅[将链接的模板与 Azure Resource Manager 配合使用](resource-group-linked-templates.md)。\r * 若要在创建资源类型时迭代指定的次数，请参阅[在 Azure Resource Manager 中创建多个资源实例](resource-group-create-multiple.md)。\r * 若要查看如何部署已创建的模板，请参阅[使用 Azure Resource Manager 模板部署应用程序](resource-group-template-deploy.md)。\r \r <!--Update_Description: update meta properties, add azure cli and powershell command example block-->"}