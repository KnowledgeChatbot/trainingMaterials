{"Title":"使用 PowerShell 管理 Azure 媒体服务帐户","Description":"了解如何使用 PowerShell cmdlet 管理 Azure 媒体服务帐户。","Content":"\r #使用 PowerShell 管理 Azure 媒体服务帐户\r \r > [!div class=\"op_single_selector\"]\r >- [门户](./media-services-create-account.md)\r >- [PowerShell](./media-services-manage-with-powershell.md)\r >- [REST](https://docs.microsoft.com/zh-cn/rest/api/media/management/create-media-services-account)\r \r > [!NOTE]\r > 若要创建 Azure 媒体服务帐户，你必须有一个 Azure 帐户。如果你没有帐户，可以创建一个试用帐户，只需几分钟即可完成。有关详细信息，请参阅 <a href=\"https://www.azure.cn/pricing/1rmb-trial/?WT.mc_id=A8A8397B5\" target=\"_blank\">Azure 试用</a>。\r \r ##概述 \r \r 本文列出了 Azure Resource Manager 框架中适用于 Azure 媒体服务 (AMS) 的 Azure PowerShell cmdlet。这些 cmdlet 存在于 **Microsoft.Azure.Commands.Media** 命名空间。\r \r ## 版本\r \r **ApiVersion**：“2015-10-01”\r \r ## New-AzureRmMediaService\r \r 创建媒体服务。\r \r ### 语法\r \r 参数集：StorageAccountIdParamSet\r \r ```\r New-AzureRmMediaService [-ResourceGroupName] <string> [-AccountName] <string> [-Location] <string> [-StorageAccountId] <string> [-Tags <hashtable>]  [<CommonParameters>]\r ```\r \r 参数集：StorageAccountsParamSet\r \r ```\r New-AzureRmMediaService [-ResourceGroupName] <string> [-AccountName] <string> [-Location] <string> [-StorageAccounts] <PSStorageAccount[]> [-Tags <hashtable>]  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 | 无\r ---|---\r 必需？ | 是\r 位置？ | 0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |名称\r ---|---\r 必需？ |是\r 位置？ |1\r 默认值 |无\r 接受管道输入？ |false\r 接受通配符？ |false\r \r **-Location &lt;字符串&gt;**\r \r 指定媒体服务的资源位置。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |2\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-StorageAccountId &lt;字符串&gt;**\r \r 指定与媒体服务关联的主存储帐户。\r \r - 仅限受支持的新存储帐户（使用资源管理器 API 创建）。\r \r - 存储帐户必须存在，并具有与媒体服务相同的位置。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |3\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 参数集名称 |StorageAccountIdParamSet\r 接受通配符？|false\r \r **-StorageAccounts &lt;PSStorageAccount[]&gt;**\r \r 指定与媒体服务关联的存储帐户。\r \r - 仅限受支持的新存储帐户（使用资源管理器 API 创建）。\r \r - 存储帐户必须存在，并具有与媒体服务相同的位置。\r \r - 只能指定一个存储帐户作为主存储帐户。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |3\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 参数集名称 |StorageAccountsParamSet\r 接受通配符？ |false\r \r **-Tags &lt;Hashtable&gt;**\r \r 指定与媒体服务关联的标记的哈希表。\r \r - 示例：@{\"tag1\"=\"value1\";\"tag2\"=:value2\"}\r \r 别名 |无\r ---|---\r 必需？ |false\r 位置？ |名为\r 默认值 |无\r 接受管道输入？ |false\r 接受通配符？ |false\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r ## Set-AzureRmMediaService\r \r 更新媒体服务。\r \r ### 语法\r \r ```\r Set-AzureRmMediaService [-ResourceGroupName] <string> [-AccountName] <string> [-Tags <hashtable>] [-StorageAccounts <PSStorageAccount[]>]  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |名称\r ---|---\r 必需？ |True\r 位置？ |1\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |False\r \r **-StorageAccounts &lt;PSStorageAccount[]&gt;**\r \r 指定与媒体服务关联的存储帐户。\r \r - 仅限受支持的新存储帐户（使用资源管理器 API 创建）。\r \r - 存储帐户必须存在，并具有与媒体服务相同的位置。\r \r - 只能指定一个存储帐户作为主存储帐户。\r \r 别名 |无\r ---|---\r 必需？ |false\r 位置？ |名为\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 参数集名称 |StorageAccountsParamSet\r 接受通配符？ |false\r \r **-Tags &lt;Hashtable&gt;**\r \r 指定与此媒体服务关联的标记的哈希表。\r \r - 与媒体服务关联的标记替换为客户指定的值。\r \r 别名 |无\r ---|---\r 必需？ |False\r 位置？ |名为\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r ## Remove-AzureRmMediaService\r \r 删除媒体服务。\r \r ### 语法\r \r ```\r Remove-AzureRmMediaService [-ResourceGroupName] <string> [-AccountName] <string>  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |2\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |False\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r ## Get-AzureRmMediaService\r \r 获取资源组中所有的媒体服务或具有给定名称的媒体服务。\r \r ### 语法\r \r ParameterSet: ResourceGroupParameterSet\r \r ```\r Get-AzureRmMediaService [-ResourceGroupName] <string>  [<CommonParameters>]\t\r ```\r \r ParameterSet: AccountNameParameterSet\r \r ```\r Get-AzureRmMediaService [-ResourceGroupName] <string> [-AccountName] <string>  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 参数集名称 |ResourceGroupParameterSet、AccountNameParameterSet\r 接受通配符？false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |1\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 参数集名称 |AccountNameParameterSet\r 接受通配符？ |false\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r ## Get-AzureRmMediaServiceKeys\r \r 获取媒体服务的密钥。\r \r ### 语法\r \r ```\r Get-AzureRmMediaServiceKeys [-ResourceGroupName] <string> [-AccountName] <string>  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |1\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r ## Set-AzureRmMediaServiceKey\r \r 重新生成媒体服务的主密钥或辅助密钥。\r \r ### 语法\r \r ```\r Set-AzureRmMediaServiceKey [-ResourceGroupName] <string> [-AccountName] <string> [-KeyType] <KeyType> {Primary | Secondary}  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |1\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-KeyType &lt;密钥类型&gt;**\r \r 指定媒体服务的密钥类型。\r \r - 主密钥或辅助密钥\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |2\r 默认值 |无\r 接受管道输入？ |false\r 接受通配符？ |false\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r ## Sync-AzureRmMediaServiceStorageKeys\r \r 同步与媒体服务关联的存储帐户的存储帐户密钥。\r \r ### 语法\r \r ```\r Sync-AzureRmMediaServiceStorageKeys [-ResourceGroupName] <string> [-MediaServiceAccountName] <string>    [-StorageAccountId] <string>  [<CommonParameters>]\r ```\r \r ### 参数\r \r **-ResourceGroupName &lt;字符串&gt;**\r \r 指定此媒体服务所属资源组的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |0\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-AccountName &lt;字符串&gt;**\r \r 指定媒体服务的名称。\r \r 别名 |无\r ---|---\r 必需？ |是\r 位置？ |1\r 默认值 |无\r 接受管道输入？ |true(ByPropertyName)\r 接受通配符？ |false\r \r **-StorageAccountId &lt;字符串&gt;**\r \r 指定与媒体服务关联的存储帐户。\r \r 别名 |ID\r ---|---\r 必需？ |是\r 位置？ |2\r 默认值 |无\r 接受管道输入？ | true(ByPropertyName)\r 接受通配符？ |false\r \r **&lt;CommandParameters&gt;**\r \r 此 cmdlet 支持以下常见参数：-Debug、-ErrorAction、-ErrorVariable、-InformationAction、-InformationVariable、-OutVariable、-OutBuffer、-PipelineVariable、-Verbose、-WarningAction 和 -WarningVariable。\r \r ### 输入\r \r 输入类型是可以发送到 cmdlet 的对象类型。\r \r ### 输出\r \r 输出类型是 cmdlet 发出的对象类型。\r \r <!---HONumber=Mooncake_1114_2016-->"}