{"Title":"Azure Service Fabric Reliable Actors FabricTransport 配置概述","Description":"了解如何配置 Azure Service Fabric 执行组件通信设置。","Content":"\r # 配置 Reliable Actors 的 FabricTransport 设置\r \r 下面是用户可以配置 [FabrictTansportSettings](https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicefabric.services.communication.fabrictransport.common.fabrictransportsettings) 的设置列表\r \r 你可以通过以下方式修改 FabricTransport 的默认配置。\r \r 1.  使用程序集属性 - [FabricTransportActorRemotingProvider](https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicefabric.actors.remoting.fabrictransport.fabrictransportactorremotingproviderattribute?redirectedfrom=MSDN#microsoft_servicefabric_actors_remoting_fabrictransport_fabrictransportactorremotingproviderattribute)。\r \r     需要将此属性应用于执行组件客户端和执行组件服务程序集。下面的示例演示如何更改 FabricTransport OperationTimeout 设置的默认值。\r \r     ```csharp\r     using Microsoft.ServiceFabric.Actors.Remoting.FabricTransport;\r     [assembly:FabricTransportActorRemotingProvider(OperationTimeoutInSeconds = 600)]\r     ```\r \r     第二个示例更改了 FabricTransport MaxMessageSize 和 OperationTimeoutInSeconds 的默认值\r \r     ```csharp\r     using Microsoft.ServiceFabric.Actors.Remoting.FabricTransport;\r     [assembly:FabricTransportActorRemotingProvider(OperationTimeoutInSeconds = 600,MaxMessageSize = 134217728)]\r     ```\r \r 2. 使用[配置包](./service-fabric-application-model.md)：\r \r     * 配置执行组件服务的 FabricTransport 设置\r \r         在 settings.xml 文件中添加 TransportSettings 部分。\r \r     * SectionName：默认情况下，执行组件代码以“&lt;ActorName&gt;TransportSettings”查找 SectionName。 如果未找到，则以“TransportSettings”查找 SectionName。\r \r         ```xml\r         <Section Name=\"MyActorServiceTransportSettings\">\r                <Parameter Name=\"MaxMessageSize\" Value=\"10000000\" />\r                <Parameter Name=\"OperationTimeoutInSeconds\" Value=\"300\" />\r                <Parameter Name=\"SecurityCredentialsType\" Value=\"X509\" />\r                <Parameter Name=\"CertificateFindType\" Value=\"FindByThumbprint\" />\r                <Parameter Name=\"CertificateFindValue\" Value=\"4FEF3950642138446CC364A396E1E881DB76B48C\" />\r                <Parameter Name=\"CertificateStoreLocation\" Value=\"LocalMachine\" />\r                <Parameter Name=\"CertificateStoreName\" Value=\"My\" />\r                <Parameter Name=\"CertificateProtectionLevel\" Value=\"EncryptAndSign\" />\r                <Parameter Name=\"CertificateRemoteCommonNames\" Value=\"ServiceFabric-Test-Cert\" />\r            </Section>  \r         ```\r \r   * 配置执行组件客户端程序集的 FabricTransport 设置\r \r       如果客户端不是作为服务的一部分运行，可以在客户端 exe 所在的同一位置中创建“&lt;客户端 Exe 名称&gt;.settings.xml”xml 文件。然后，在该文件中添加 TransportSettings 部分。SectionName 应为“TransportSettings”。\r \r         <?xml version=\"1.0\" encoding=\"utf-8\"?>\r           <Settings xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://schemas.microsoft.com/2011/01/fabric\">\r             <Section Name=\"TransportSettings\">\r                   <Parameter Name=\"SecurityCredentialsType\" Value=\"X509\" />\r                    <Parameter Name=\"OperationTimeoutInSeconds\" Value=\"300\" />\r                   <Parameter Name=\"CertificateFindType\" Value=\"FindByThumbprint\" />\r                   <Parameter Name=\"CertificateFindValue\" Value=\"78 12 20 5a 39 d2 23 76 da a0 37 f0 5a ed e3 60 1a 7e 64 bf\" />\r                    <Parameter Name=\"OperationTimeoutInSeconds\" Value=\"300\" />\r                   <Parameter Name=\"CertificateStoreLocation\" Value=\"LocalMachine\" />\r                   <Parameter Name=\"CertificateStoreName\" Value=\"My\" />\r                   <Parameter Name=\"CertificateProtectionLevel\" Value=\"EncryptAndSign\" />\r                   <Parameter Name=\"CertificateRemoteCommonNames\" Value=\"WinFabric-Test-SAN1-Alice\" />\r             </Section>\r           </Settings>\r \r <!---HONumber=Mooncake_0116_2017-->"}