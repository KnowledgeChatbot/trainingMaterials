{"Title":"在 Azure 中创建第一个 Java Web 应用","Description":"了解如何通过部署基本的 Java 应用，从而在应用服务中运行 Web 应用。","Content":"# <a name=\"create-your-first-java-web-app-in-azure\"></a>在 Azure 中创建第一个 Java Web 应用\r \r Azure [Web 应用](app-service-web-overview.md)提供高度可缩放、自修补的 Web 托管服务。 本快速入门演示如何使用 [Eclipse IDE for Java EE Developers](http://www.eclipse.org/) 将 Java Web 应用部署到应用服务。\r \r 完成本快速入门后，应用程序会在 Web 浏览器中如下图所示：\r \r ![“你好，Azure！” 示例 Web 应用](./media/app-service-web-get-started-java/browse-web-app-1.png)\r \r ## <a name=\"prerequisites\"></a>先决条件\r \r 若要完成本快速入门教程，请安装：\r \r * 免费的 [Eclipse IDE for Java EE Developers](http://www.eclipse.org/downloads/)。 本快速入门教程使用 Eclipse Neon。\r * [用于 Eclipse 的 Azure 工具包](/azure-toolkit-for-eclipse-installation)。\r \r [!INCLUDE [quickstarts-free-trial-note](../../includes/quickstarts-free-trial-note.md)]\r \r <!-- added by alex-->\r > [!NOTE]\r > 在 Eclipse 中登录 Azure 请参考[这篇文章](../azure-toolkit-for-eclipse-sign-in-instructions.md)。\r >\r \r ## <a name=\"create-a-dynamic-web-project-in-eclipse\"></a>在 Eclipse 中创建一个动态 Web 项目\r \r 在 Eclipse 中，选择“文件” > “新建” > “动态 Web 项目”。\r \r 在“新建动态 Web 项目”对话框中，将项目命名为 **MyFirstJavaOnAzureWebApp**，然后选择“完成”。\r \r ![“新建动态 Web 项目”对话框](./media/app-service-web-get-started-java/new-dynamic-web-project-dialog-box.png)\r \r ### <a name=\"add-a-jsp-page\"></a>添加 JSP 页面\r \r 如果未显示“项目资源管理器”，请将其还原。\r \r ![用于 Eclipse 的 Java EE 工作区](./media/app-service-web-get-started-java/pe.png)\r \r 在“项目资源管理器”中，展开“MyFirstJavaOnAzureWebApp”项目。\r 右键单击“WebContent”，然后选择“新建” > “JSP 文件”。\r \r ![“项目资源管理器”中新 JSP 文件的菜单](./media/app-service-web-get-started-java/new-jsp-file-menu.png)\r \r 在“新建 JSP 文件”对话框中：\r \r * 将该文件命名为 **index.jsp**。\r * 选择“完成”。\r \r   ![“新建 JSP 文件”对话框](./media/app-service-web-get-started-java/new-jsp-file-dialog-box-page-1.png)\r \r 在 index.jsp 文件中，将 `<body></body>` 元素替换为以下标记：\r \r ```jsp\r <body>\r <h1><% out.println(\"Hello Azure!\"); %></h1>\r </body>\r ```\r \r 保存更改。\r \r ## <a name=\"publish-the-web-app-to-azure\"></a>将 Web 应用发布到 Azure\r \r 在“项目资源管理器”中，右键单击该项目，然后选择“Azure” > “发布为 Azure Web 应用”。\r \r ![“发布为 Azure Web 应用”上下文菜单](./media/app-service-web-get-started-java/publish-as-azure-web-app-context-menu.png)\r \r 在“Azure 登录”对话框中，保留“交互式”选项，然后选择“登录”。\r \r 按照登录说明操作。\r \r ### <a name=\"deploy-web-app-dialog-box\"></a>“部署 Web 应用”对话框\r \r 登录 Azure 帐户后，随即显示“部署 Web 应用”对话框。\r \r 选择“创建” 。\r \r ![“部署 Web 应用”对话框](./media/app-service-web-get-started-java/deploy-web-app-dialog-box.png)\r \r ### <a name=\"create-app-service-dialog-box\"></a>“创建应用服务”对话框\r \r 随即显示含有默认值的“创建应用服务”对话框。 下图中显示的数字 **170602185241** 与对话框中的不同。\r \r ![“创建应用服务”对话框](./media/app-service-web-get-started-java/cas1.png)\r \r 在“创建应用服务”对话框中：\r \r * 保留为 Web 应用生成的名称。 该名称在 Azure 中必须唯一。 该名称是 Web 应用的 URL 地址的一部分。 例如：如果 Web 应用名称为 **MyJavaWebApp**，则 URL 为 *myjavawebapp.chinacloudsites.cn*。\r * 保留默认 web 容器。\r * 选择 Azure 订阅。\r * 在“应用服务计划”选项卡中：\r \r   * **新建**：保留默认值，该值是应用服务计划的名称。\r   * **位置**：选择“中国北部”或你附近的位置。\r   * **定价层**：选择免费选项。 有关功能，请参阅[应用服务定价](https://www.azure.cn/pricing/details/app-service/)。\r \r    ![“创建应用服务”对话框](./media/app-service-web-get-started-java/create-app-service-dialog-box.png)\r \r [!INCLUDE [app-service-plan](../../includes/app-service-plan.md)]\r \r ### <a name=\"resource-group-tab\"></a>“资源组”选项卡\r \r 选择“资源组”选项卡。保留默认的资源组生成值。\r \r ![“资源组”选项卡](./media/app-service-web-get-started-java/create-app-service-resource-group.png)\r \r [!INCLUDE [resource-group](../../includes/resource-group.md)]\r \r 选择“创建” 。\r \r <!--\r ### The JDK tab\r \r Select the **JDK** tab. Keep the default, and then select **Create**.\r \r ![Create App Service plan](./media/app-service-web-get-started-java/create-app-service-specify-jdk.png)\r -->\r \r Azure 工具包创建 Web 应用，并显示进度对话框。\r \r ![“创建应用服务进度”对话框](./media/app-service-web-get-started-java/create-app-service-progress-bar.png)\r \r ### <a name=\"deploy-web-app-dialog-box\"></a>“部署 Web 应用”对话框\r \r 在“部署 Web 应用”对话框中，选择“部署到根目录”。 如果 *wingtiptoys.chinacloudsites.cn* 中有一个应用服务，而你不部署到根目录，则会将名为 **MyFirstJavaOnAzureWebApp** 的 Web 应用部署到 *wingtiptoys.chinacloudsites.cn/MyFirstJavaOnAzureWebApp*。\r \r ![“部署 Web 应用”对话框](./media/app-service-web-get-started-java/deploy-web-app-to-root.png)\r \r 该对话框显示 Azure、JDK 和 Web 容器选择。\r \r 选择“部署”将 Web 应用发布到 Azure。\r \r 发布完成后，在“Azure 活动日志”对话框中选择“已发布”链接。\r \r ![“Azure 活动日志”对话框](./media/app-service-web-get-started-java/aal.png)\r \r 祝贺！ 现已成功将 Web 应用部署到 Azure。 \r \r ![“你好，Azure！” 示例 Web 应用](./media/app-service-web-get-started-java/browse-web-app-1.png)\r \r ## <a name=\"update-the-web-app\"></a>更新 Web 应用\r \r 将示例 JSP 代码更改为其他消息。\r \r ```jsp\r <body>\r <h1><% out.println(\"Hello again Azure!\"); %></h1>\r </body>\r ```\r \r 保存更改。\r \r 在“项目资源管理器”中，右键单击该项目，然后选择“Azure” > “发布为 Azure Web 应用”。\r \r “部署 Web 应用”对话框随即出现并显示之前创建的应用服务。 \r \r > [!NOTE]\r > 每次发布时选择“部署到根目录”。\r >\r \r 选择 Web 应用，然后选择“部署”，此操作将发布更改。\r \r 当“发布”链接显示后，选择它以浏览到 Web 应用，并查看更改。\r \r ## <a name=\"manage-the-web-app\"></a>管理 Web 应用\r \r 转到 <a href=\"https://portal.azure.cn\" target=\"_blank\">Azure 门户</a>查看已创建的 Web 应用。\r \r 从左侧菜单中，选择“资源组”。\r \r ![在门户中导航到资源组](./media/app-service-web-get-started-java/rg.png)\r \r 选择“资源组”。 该页显示在本快速入门教程中创建的资源。\r \r ![资源组 myResourceGroup](./media/app-service-web-get-started-java/rg2.png)\r \r 选择 Web 应用（上图中的 **webapp-170602193915**）。\r \r “概述”页随即出现。 在此页中可以查看应用的运行状况。 在此处可以执行基本的管理任务，例如浏览、停止、启动、重启和删除。 页面左侧的选项卡显示可以打开的不同配置。 \r \r ![Azure 门户中的应用服务页](./media/app-service-web-get-started-java/web-app-blade.png)\r \r [!INCLUDE [clean-up-section-portal-web-app](../../includes/clean-up-section-portal-web-app.md)]\r \r ## <a name=\"next-steps\"></a>后续步骤\r \r > [!div class=\"nextstepaction\"]\r > [映射自定义域](app-service-web-tutorial-custom-domain.md)\r \r \r <!--Update_Description: update wording-->"}