{"Title":"在 Power BI 工作区集合中保存报表","Description":"了解如何在 Power BI 工作区集合中保存报表。 需要有适当的权限才能成功执行此操作。","Content":"# <a name=\"save-reports-in-power-bi-workspace-collections\"></a>在 Power BI 工作区集合中保存报表\r \r 了解如何在 Power BI 工作区集合中保存报表。 保存报表需要有适当的权限才能成功执行。\r \r > [!IMPORTANT]\r > Power BI 工作区集合已弃用，到 2018 年 6 月或合同指示时可用。 建议你规划到 Power BI Embedded 的迁移以避免应用程序中断。 有关如何将数据迁移到 Power BI Embedded 的信息，请参阅[如何将 Power BI 工作区集合内容迁移到 Power BI Embedded](https://powerbi.microsoft.com/documentation/powerbi-developer-migrate-from-powerbi-embedded/)。\r \r 在 Power BI 工作区集合中，可编辑和保存现有报表。 还可以创建一个新报表，并将它另存为新报表来创建另一个报表。\r \r 若要保存报表，首先需要为特定的报表创建具有适当范围的令牌：\r \r - 若要启用“保存”，需要 Report.ReadWrite 范围\r - 若要启用“另存为”，需要 Report.Read 和 Workspace.Report.Copy 范围\r - 若要启用“保存”和“另存为”，需要 Report.ReadWrite 和 Workspace.Report.Copy\r \r 若要在文件菜单中相应地启用“保存”/“另存为”按钮，需要在嵌入报表时，在 Embed 配置中提供适当的权限：\r \r - models.Permissions.ReadWrite\r - models.Permissions.Copy\r - models.Permissions.All\r \r > [!NOTE]\r > 访问令牌也需要适当的范围。 有关详细信息，请参阅[范围](app-token-flow.md#scopes)。\r \r ## <a name=\"embed-report-in-edit-mode\"></a>嵌入处于编辑模式的报表\r \r 假设用户要在应用中嵌入一个处于编辑模式的报表，为此，只需在 Embed 配置中传递适当的属性，并调用 powerbi.embed()。 提供权限和 viewMode 才能在编辑模式下看到“保存”和“另存为”按钮。 有关详细信息，请参阅 [Embed 配置详细信息](https://github.com/Microsoft/PowerBI-JavaScript/wiki/Embed-Configuration-Details)。\r \r 例如，在 JavaScript 中：\r \r ```\r    <div id=\"reportContainer\"></div>\r \r     // Get models. Models, it contains enums that can be used.\r     var models = window['powerbi-client'].models;\r \r     // Embed configuration used to describe the what and how to embed.\r     // This object is used when calling powerbi.embed.\r     // This also includes settings and options such as filters.\r     // You can find more information at https://github.com/Microsoft/PowerBI-JavaScript/wiki/Embed-Configuration-Details.\r     var config= {\r         type: 'report',\r         accessToken: 'eyJ0eXAiO...Qron7qYpY9MI',\r         embedUrl: 'https://embedded.powerbi.cn/appTokenReportEmbed',\r         id:  '5dac7a4a-4452-46b3-99f6-a25915e0fe55',\r         permissions: models.Permissions.All /*both save & save as buttons will be visible*/,\r         viewMode: models.ViewMode.Edit,\r         settings: {\r             filterPaneEnabled: true,\r             navContentPaneEnabled: true\r         }\r     };\r \r     // Get a reference to the embedded report HTML element\r     var reportContainer = $('#reportContainer')[0];\r \r     // Embed the report and display it within the div container.\r     var report = powerbi.embed(reportContainer, config);\r ```\r \r 现在，会在应用中嵌入一个处于编辑模式的报表。\r \r ## <a name=\"save-report\"></a>保存报表\r \r 使用适当的令牌和权限嵌入处于编辑模式的报表后，可以通过文件菜单或 JavaScript 保存该报表：\r \r ```\r  // Get a reference to the embedded report.\r     report = powerbi.get(reportContainer);\r \r  // Save report\r     report.save();\r ```\r \r ## <a name=\"save-as\"></a>另存为\r \r ```\r // Get a reference to the embedded report.\r     report = powerbi.get(reportContainer);\r     \r     var saveAsParameters = {\r         name: \"newReport\"\r     };\r \r     // SaveAs report\r     report.saveAs(saveAsParameters);\r ```\r \r > [!IMPORTANT]\r > 只有在调用“另存为”之后，才能创建新报表。 保存后，画布仍显示处于编辑模式的旧报表，而不是新报表。 嵌入已创建的新报表。 嵌入新报表需要获取新的访问令牌，因为令牌是针对每个报表创建的。\r \r 然后，需要在执行“另存为”操作后加载新报表。 加载新报表类似于嵌入任何报表。\r \r ```\r <div id=\"reportContainer\"></div>\r   \r var embedConfiguration = {\r         accessToken: 'eyJ0eXAiO...Qron7qYpY9MJ',\r         embedUrl: 'https://embedded.powerbi.cn/appTokenReportEmbed',\r         reportId: '5dac7a4a-4452-46b3-99f6-a25915e0fe54',\r     };\r     \r     // Grab the reference to the div HTML element that will host the report\r     var reportContainer = $('#reportContainer')[0];\r \r     // Embed report\r     var report = powerbi.embed(reportContainer, embedConfiguration);\r ```\r \r ## <a name=\"see-also\"></a>另请参阅\r \r [示例入门](get-started-sample.md)  \r [嵌入报表](embed-report.md)  \r [从数据集创建新报表](create-report-from-dataset.md)  \r [在 Power BI 工作区集合中进行身份验证和授权](app-token-flow.md)  \r [Power BI Desktop](https://powerbi.microsoft.com/documentation/powerbi-desktop-get-the-desktop/)  \r [JavaScript 嵌入示例](https://microsoft.github.io/PowerBI-JavaScript/demo/)  \r \r 有更多问题？ [试用 Power BI 社区](http://community.powerbi.com/)\r \r \r "}