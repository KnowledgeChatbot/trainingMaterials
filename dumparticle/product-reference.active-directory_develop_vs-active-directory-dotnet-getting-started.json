{"Title":"Visual Studio MVC 项目中的 Azure AD 入门","Description":"通过 Visual Studio 连接服务连接到或创建 Azure AD 之后，如何在 MVC 项目中开始使用 Azure Active Directory","Content":"\r # <a name=\"getting-started-with-azure-active-directory-and-visual-studio-connected-services-mvc-projects\"></a>开始使用 Azure Active Directory 和 Visual Studio 连接服务（MVC 项目）\r > [!div class=\"op_single_selector\"]\r >- [入门](./vs-active-directory-dotnet-getting-started.md)\r >- [发生了什么情况](./vs-active-directory-dotnet-what-happened.md)\r \r ## <a name=\"requiring-authentication-to-access-controllers\"></a>访问控制器需要身份验证\r 你项目中的所有控制器均带有 **Authorize** 属性。 此属性要求用户先进行身份验证，然后才能访问这些控制器。 若要允许匿名访问控制器，请从控制器删除此属性。 如果您想要更详细地设置这些权限，请将该属性应用到需要身份验证的每个方法，而不是将它应用到控制器类。\r \r ## <a name=\"adding-signin--signout-controls\"></a>添加 SignIn/SignOut 控件\r 若要将 SignIn/SignOut 控件添加到视图，可使用 **_LoginPartial.cshtml** 分部视图将该功能添加到某个视图。 下面是已添加到标准 **_Layout.cshtml** 视图的功能示例。 （注意带有 navbar-collapse 类的 div 中的最后一个元素）：\r \r <pre>\r     &lt;!DOCTYPE html&gt; \r      &lt;html&gt; \r      &lt;head&gt; \r          &lt;meta charset=\"utf-8\" /&gt; \r         &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt; \r         &lt;title&gt;@ViewBag.Title - My ASP.NET Application&lt;/title&gt; \r         @Styles.Render(\"~/Content/css\") \r         @Scripts.Render(\"~/bundles/modernizr\") \r     &lt;/head&gt; \r     &lt;body&gt; \r         &lt;div class=\"navbar navbar-inverse navbar-fixed-top\"&gt; \r             &lt;div class=\"container\"&gt; \r                 &lt;div class=\"navbar-header\"&gt; \r                     &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\"&gt; \r                         &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; \r                         &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; \r                         &lt;span class=\"icon-bar\"&gt;&lt;/span&gt; \r                     &lt;/button&gt; \r                     @Html.ActionLink(\"Application name\", \"Index\", \"Home\", new { area = \"\" }, new { @class = \"navbar-brand\" }) \r                 &lt;/div&gt; \r                 &lt;div class=\"navbar-collapse collapse\"&gt; \r                     &lt;ul class=\"nav navbar-nav\"&gt; \r                         &lt;li&gt;@Html.ActionLink(\"Home\", \"Index\", \"Home\")&lt;/li&gt; \r                         &lt;li&gt;@Html.ActionLink(\"About\", \"About\", \"Home\")&lt;/li&gt; \r                         &lt;li&gt;@Html.ActionLink(\"Contact\", \"Contact\", \"Home\")&lt;/li&gt; \r                     &lt;/ul&gt; \r                     <span style=\"background-color:yellow\">@Html.Partial(\"_LoginPartial\")</span> \r                 &lt;/div&gt; \r             &lt;/div&gt; \r         &lt;/div&gt; \r         &lt;div class=\"container body-content\"&gt; \r             @RenderBody() \r             &lt;hr /&gt; \r             &lt;footer&gt; \r                 &lt;p&gt;&amp;copy; @DateTime.Now.Year - My ASP.NET Application&lt;/p&gt; \r             &lt;/footer&gt; \r         &lt;/div&gt; \r         @Scripts.Render(\"~/bundles/jquery\") \r         @Scripts.Render(\"~/bundles/bootstrap\") \r         @RenderSection(\"scripts\", required: false) \r     &lt;/body&gt; \r     &lt;/html&gt;\r </pre>\r \r ## <a name=\"next-steps\"></a>后续步骤\r - [详细了解 Azure Active Directory](https://www.azure.cn/home/features/identity/)\r "}