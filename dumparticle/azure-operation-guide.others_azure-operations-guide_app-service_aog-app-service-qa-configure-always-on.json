{"Title":"如何配置网站 Always ON 的默认访问 URL","Description":"如何配置网站 Always ON 的默认访问 URL","Content":"# 如何配置网站 Always ON 的默认访问 URL\r \r ## 问题描述\r \r 如果网站开启了 Always ON 特性，则后台会默认访问网站的根目录来保障网站进程不被卸载，如何配置后台访问其它路径。\r \r ## 问题现象\r \r 如果我们部署了一个 API 服务，网站的根路径本身就是没有内容的，这样开启 Always ON 特性后，会看到一些和 `40x` 相关的错误日志。\r \r ## 解决方法\r \r 如果想让后台的 Always ON 功能访问其它路径，则需要配置 web.config 如下：\r \r ```XML\r <?xml version=\"1.0\" encoding=\"UTF-8\"?>\r <configuration>\r   <system.webServer>\r        <rewrite>\r             <rules>\r                 <rule name=\"For user agent AlwaysOn and Root of site\" stopProcessing=\"true\">\r                     <match url=\"^$\"/>\r                <conditions>\r                  <add input=\"{HTTP_USER_AGENT}\" pattern=\"^AlwaysOn$\" />\r                </conditions>\r                     <action type=\"Rewrite\" url=\"test/test.html\" />\r                 </rule>\r             </rules>\r         </rewrite>\r   </system.webServer>\r </configuration>\r ```\r \r 其中 test/test.html 是 wwwroot 中的相对路径：\r \r ![kudu](media/aog-app-service-qa-configure-always-on/kudu.png)"}