{"Title":"创建 Linux VM 的不同方式","Description":"介绍在 Azure 上创建 Linux 虚拟机的不同方法，并提供每种方法的工具和教程的链接。","Content":"# <a name=\"different-ways-to-create-a-linux-vm\"></a>创建 Linux VM 的不同方式\r \r 用户可以在 Azure 中灵活地使用适合自己的工具和工作流创建 Linux 虚拟机 (VM)。 本文总结了创建 Linux VM 的相关差异和示例，包括 Azure CLI 2.0。 还可以查看包括 [Azure CLI 1.0](creation-choices-nodejs.md) 在内的创建选项。\r \r [Azure CLI 2.0](https://docs.azure.cn/zh-cn/cli/install-az-cli2) 可通过 npm 包、发行版提供的程序包或 Docker 容器跨平台使用。 为环境安装最适当的内部版本，并使用 [az login](https://docs.microsoft.com/cli/azure/?view=azure-cli-latest#login) 登录到 Azure 帐户\r \r [!INCLUDE [azure-cli-2-azurechinacloud-environment-parameter](../../../includes/azure-cli-2-azurechinacloud-environment-parameter.md)]\r \r * [使用 Azure CLI 2.0 创建 Linux VM](quick-create-cli.md)\r \r   * 使用 [az group create](https://docs.azure.cn/zh-cn/cli/group?view=azure-cli-latest#create) 创建名为 *myResourceGroup* 的资源组： \r \r     ```azurecli\r     az group create --name myResourceGroup --location chinaeast\r     ```\r \r   * 使用 [az vm create](https://docs.azure.cn/zh-cn/cli/vm?view=azure-cli-latest#create) 通过最新的 *UbuntuLTS* 映像创建名为 *myVM* 的 VM，并生成 SSH 密钥（如果它们尚不存在于 *~/.ssh* 中）：\r \r     ```azurecli\r     az vm create \\\r         --resource-group myResourceGroup \\\r         --name myVM \\\r         --image UbuntuLTS \\\r         --generate-ssh-keys\r     ```\r \r * [使用 Azure 模板创建 Linux VM](create-ssh-secured-vm-from-template.md)\r \r   * 以下示例使用 [az group deployment create](https://docs.azure.cn/zh-cn/cli/group/deployment?view=azure-cli-latest#create) 基于 GitHub 上存储的一个模板创建 VM：\r \r     ```azurecli\r     az group deployment create --resource-group myResourceGroup \\ \r       --template-uri https://raw.githubusercontent.com/Azure/azure-quickstart-templates/master/101-vm-sshkey/azuredeploy.json \\\r       --parameters @myparameters.json\r     ```\r * [创建 Linux VM 并使用 cloud-init 进行自定义](tutorial-automate-vm-deployment.md)\r \r * [在多个 Linux VM 上创建负载均衡且高度可用的应用程序](tutorial-load-balancer.md)\r \r ## <a name=\"azure-portal\"></a>Azure 门户\r \r [Azure 门户](https://portal.azure.cn)允许用户快速创建 VM，因为不需在系统上安装任何内容。 使用 Azure 门户创建 VM：\r \r * [使用 Azure 门户创建 Linux VM](quick-create-portal.md) \r \r ## <a name=\"operating-system-and-image-choices\"></a>操作系统和映像选项\r 创建 VM 时，可根据要运行的操作系统选择映像。 Azure 及其合作伙伴提供了许多映像，其中一些映像包括预安装的应用程序和工具。 也可上传自己的某个映像（请参阅[以下部分](#use-your-own-image)）。\r \r ### <a name=\"azure-images\"></a>Azure 映像\r 使用 [az vm image](https://docs.azure.cn/zh-cn/cli/vm/image) 命令可按发布者、发行版本和内部版本查看可用内容。\r \r 列出可用的发布者：\r \r ```azurecli\r az vm image list-publishers --location chinaeast\r ```\r \r 列出给定发布者的可用产品（服务）：\r \r ```azurecli\r az vm image list-offers --publisher Canonical --location chinaeast\r ```\r \r 列出给定产品/服务的可用 SKU（发行版本）：\r \r ```azurecli\r az vm image list-skus --publisher Canonical --offer UbuntuServer --location chinaeast\r ```\r \r 列出给定发行版的所有可用映像：\r \r ```azurecli\r az vm image list --publisher Canonical --offer UbuntuServer --sku 16.04.0-LTS --location chinaeast\r ```\r \r 请参阅[使用 Azure CLI 导航并选择 Azure 虚拟机映像](cli-ps-findimage.md)，获取有关浏览和使用可用映像的更多示例。\r \r [az vm create](https://docs.microsoft.com/cli/azure/vm?view=azure-cli-latest#create) 命令具有一些别名，可用于快速访问较常见的分发版及其最新版本。 使用别名通常比每次创建 VM 时指定发布者、产品、SKU 和版本更加快捷：\r \r | 别名 | 发布者 | 产品 | SKU | 版本 |\r |:--- |:--- |:--- |:--- |:--- |\r | CentOS |OpenLogic |Centos |7.2 |最新 |\r | CoreOS |CoreOS |CoreOS |Stable |最新 |\r | Debian |credativ |Debian |8 |最新 |\r | openSUSE |SUSE |openSUSE |13.2 |latest |\r | SLES |SLES |SLES |12-SP1 |最新 |\r | UbuntuLTS |Canonical |UbuntuServer |14.04.4-LTS |最新 |\r \r ### <a name=\"use-your-own-image\"></a>使用你自己的映像\r 如果需要特定自定义，可以通过捕获现有的 Azure VM 使用基于该 VM 的映像。 也可以上传本地创建的映像。 有关受支持的发行版以及如何使用你自己的映像的详细信息，请参阅以下文章：\r \r * [Azure endorsed distributions（Azure 认可的分发版）](endorsed-distros.md)\r * [Information for non-endorsed distributions（有关未认可分发版的信息）](create-upload-generic.md)\r * [如何基于现有 Azure VM 创建映像](tutorial-custom-images.md)。\r \r   * 下面是用于基于现有 Azure VM 创建映像的快速入门示例命令：\r \r     ```azurecli\r     az vm deallocate --resource-group myResourceGroup --name myVM\r     az vm generalize --resource-group myResourceGroup --name myVM\r     az vm image create --resource-group myResourceGroup --source myVM --name myImage\r     ```\r \r ## <a name=\"next-steps\"></a>后续步骤\r * 通过 [CLI](quick-create-cli.md)、从[门户](quick-create-portal.md)或使用 [Azure Resource Manager 模板](../windows/cli-deploy-templates.md)创建 Linux VM。\r * 创建 Linux VM 后，[了解 Azure 磁盘和存储](tutorial-manage-disks.md)。\r * [重置密码或 SSH 密钥和管理用户](using-vmaccess-extension.md)的快速步骤。\r "}