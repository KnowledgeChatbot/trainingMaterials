{"Title":"SQL 漏洞评估","Description":"了解如何在 SQL 数据库上配置 SQL 漏洞评估。","Content":"# <a name=\"sql-vulnerability-assessment\"></a>SQL 漏洞评估\r \r SQL 漏洞评估（目前处于预览状态）是一个易于配置的工具，可以发现、跟踪和修正潜在的数据库漏洞。 使用它来主动提升数据库安全性。  \r \r ## <a name=\"vulnerability-assessment-features\"></a>漏洞评估功能  \r SQL 漏洞评估 (VA) 是一项可直观查看安全状态的服务，包括解决安全问题的可操作步骤，并可增强数据库安全性。 它可以帮助你：  \r - 满足需要数据库扫描报告的符合性要求。  \r - 满足数据隐私标准。  \r - 监视其中难以追踪变化的动态数据库环境。  \r \r VA 是 Azure SQL 数据库服务内置的扫描服务。 该服务采用标记安全漏洞的规则知识库，并突出显示与最佳做法的偏差，例如错误配置、过多权限和未受保护的敏感数据。 这些规则基于 Microsoft 的最佳做法，并专注于对数据库及其重要数据有最大风险的安全问题。 此外，这些规则也代表了各种监管机构的诸多要求，以满足其符合性标准。  \r \r 扫描结果包括解决每个问题的可操作步骤，并在适用情况下提供自定义修正脚本。 通过为权限配置、功能配置和数据库设置来设置可接受的基准，可为环境自定义评估报告。   \r \r ## <a name=\"implementing-va\"></a>实现 VA  \r 以下步骤可在 SQL 数据库上实现 VA。  \r \r ## <a name=\"1-run-a-scan\"></a>1.运行扫描  \r 通过导航到“Azure SQL 数据库”窗格中的“漏洞评估(预览)”设置即可开始使用 VA。 首先配置一个存储帐户，扫描结果将存储在其中。 有关存储帐户的详细信息，请参阅[关于 Azure 存储帐户](../storage/common/storage-create-storage-account.md)。 配置存储后，单击“扫描”，扫描数据库中的漏洞。  \r ![扫描数据库](./media/sql-vulnerability-assessment/pp_va_initialize.png)  \r   > [!NOTE]   \r   > 扫描是轻型且安全的。 这需要几秒钟时间来运行，并且是完全只读的。 该操作不会对数据库进行任何更改。  \r \r ## <a name=\"2-view-the-report\"></a>2.查看报告  \r 扫描完成后，扫描报告将自动显示在 Azure 门户中， 其中概要列出安全状态，发现的问题个数及其各自的严重性。 结果包括有关偏离最佳做法的警告，以及安全相关设置的快照，例如数据库主体和角色及其相关权限。 此外，扫描报告还提供数据库中发现的敏感数据的映射，并包含可用于保护该映射的内置建议方法。  \r ![查看报告](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  \r \r ## <a name=\"3-analyze-the-results-and-resolve-issues\"></a>3.分析结果并解决问题  \r 查看结果，并确定报告中的哪些结果是环境中真实存在的安全问题。 深入查看每个失败的结果，以了解该发现的影响，以及每个安全检查失败的原因。 使用报告提供的可操作修正信息来解决问题。  \r ![分析报告](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    \r \r ## <a name=\"4-set-your-baseline\"></a>4.设置基线  \r 在查看评估结果时，你可以将特定结果标记为环境中可接受的基线。 基线实质上是自定义结果的报告方式。 匹配基线的结果被认为是在随后的扫描中进行传递。 建立基线安全状态后，VA 只会报告与基线的偏差，这样你可以专注于处理相关问题。  \r ![设置基线](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  \r \r ## <a name=\"5-run-a-new-scan-to-see-your-customized-tracking-report\"></a>5.运行新扫描以查看自定义跟踪报告  \r 完成规则基线设置后，运行新的扫描以查看自定义报告。 VA 现在仅报告与批准的基线状态偏离的安全问题。  \r ![查看自定义报告](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  \r \r VA 现在可用于监视数据库是否始终保持高级别的安全性，并且是否满足组织策略。 如果需要符合性报告，VA 报告可有助于促进符合性流程。  \r \r ## <a name=\"next-steps\"></a>后续步骤  \r \r 请考虑配置 [SQL 数据库审核](sql-database-auditing.md)。  \r "}