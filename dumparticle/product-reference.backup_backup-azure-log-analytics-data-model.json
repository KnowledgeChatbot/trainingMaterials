{"Title":"Azure 备份的 Log Analytics 数据模型","Description":"本文介绍 Azure 备份数据的 Log Analytics 数据模型详细信息。","Content":"# <a name=\"log-analytics-data-model-for-azure-backup-data\"></a>Azure 备份数据的 Log Analytics 数据模型\r 本文介绍用于将报告数据推送到 Log Analytics 的数据模型。 使用此数据模型可以创建自定义查询和仪表板，并在 OMS 中利用这些对象。 \r \r ## <a name=\"using-azure-backup-data-model\"></a>使用 Azure 备份数据模型\r 可以使用数据模型随附的以下字段，根据要求创建视觉对象、自定义查询和仪表板。\r \r ### <a name=\"alert\"></a>警报\r 此表提供警报相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | AlertUniqueId_s |文本 |生成的警报的唯一 ID |\r | AlertType_s |文本 |生成的警报的类型，例如 Backup |\r | AlertStatus_s |文本 |警报的状态，例如 Active |\r | AlertOccurenceDateTime_s |日期/时间 |警报的创建日期和时间 |\r | AlertSeverity_s |文本 |警报的严重性，例如 Critical |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | BackupItemUniqueId_s |文本 |此警报所属备份项的唯一 ID |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |警报对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此警报所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - Alert |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | ProtectedServerUniqueId_s |文本 |此警报所属保护项的唯一 ID |\r | VaultUniqueId_s |文本 |此警报所属保护项的唯一 ID |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"backupitem\"></a>BackupItem\r 此表提供备份项相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |  \r | BackupItemUniqueId_s |文本 |备份项的唯一 ID |\r | BackupItemId_s |文本 |备份项 ID |\r | BackupItemName_s |文本 |备份项的名称 |\r | BackupItemFriendlyName_s |文本 |备份项的友好名称 |\r | BackupItemType_s |文本 |备份项的类型，例如 VM、FileFolder |\r | ProtectedServerName_s |文本 |备份项所属的受保护服务器的名称 |\r | ProtectionState_s |文本 |备份项的当前保护状态，例如 Protected、ProtectionStopped |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |备份项对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此备份项所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - BackupItem |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"backupitemassociation\"></a>BackupItemAssociation\r 此表提供有关备份项与各个实体之间的关联的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |  \r | BackupItemUniqueId_s |文本 |备份项的唯一 ID |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |备份项关联对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此备份项所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - BackupItemAssociation |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | PolicyUniqueId_g |文本 |用于标识备份项关联到的策略的唯一 ID |\r | ProtectedServerUniqueId_s |文本 |此备份项所属的受保护服务器的唯一 ID |\r | VaultUniqueId_s |文本 |此备份项所属的保管库的唯一 ID |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"job\"></a>作业\r 此表提供作业相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | BackupItemUniqueId_s |文本 |此作业所属备份项的唯一 ID |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |作业对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此作业所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - Job |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | ProtectedServerUniqueId_s |文本 |此作业所属保护项的唯一 ID |\r | VaultUniqueId_s |文本 |此作业所属保护项的唯一 ID |\r | JobOperation_s |文本 |为其运行作业的操作，例如备份、还原、配置备份 |\r | JobStatus_s |文本 |作业的状态，例如 Completed、Failed |\r | JobFailureCode_s |文本 |导致作业失败的故障代码字符串 |\r | JobStartDateTime_s |日期/时间 |开始运行作业的日期和时间 |\r | BackupStorageDestination_s |文本 |备份存储目标，例如 Cloud、Disk  |\r | JobDurationInSecs_s | Number |作业的总持续时间，以秒为单位 |\r | DataTransferredInMB_s | Number |此作业传输的数据量，以 MB 为单位|\r | JobUniqueId_g |文本 |用于标识作业的唯一 ID |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"policy\"></a>策略\r 此表提供策略相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |策略对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此策略所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - Policy |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | PolicyUniqueId_g |文本 |用于标识策略的唯一 ID |\r | PolicyName_s |文本 |已定义的策略的名称 |\r | BackupFrequency_s |文本 |运行备份的频率，例如 daily、weekly |\r | BackupTimes_s |文本 |计划备份时的日期和时间 |\r | BackupDaysOfTheWeek_s |文本 |计划备份时的日期（星期几） |\r | RetentionDuration_s |整数 |所配置备份的保留持续时间 |\r | DailyRetentionDuration_s |整数 |所配置备份的总保留时间（按天算） |\r | DailyRetentionTimes_s |文本 |配置每日保留时的日期和时间 |\r | WeeklyRetentionDuration_s |十进制数 |所配置备份的每周保留总时间（按周算） |\r | WeeklyRetentionTimes_s |文本 |配置每周保留时的日期和时间 |\r | WeeklyRetentionDaysOfTheWeek_s |文本 |选择进行每周保留的日期（星期几） |\r | MonthlyRetentionDuration_s |十进制数 |所配置备份的总保留时间（按月算） |\r | MonthlyRetentionTimes_s |文本 |配置每月保留时的日期和时间 |\r | MonthlyRetentionFormat_s |文本 |每月保留的配置类型，例如基于日期的每日、基于周次的每周 |\r | MonthlyRetentionDaysOfTheWeek_s |文本 |选择进行每月保留的日期（星期几） |\r | MonthlyRetentionWeeksOfTheMonth_s |文本 |配置每月保留时的当月周次，例如 First、Last 等 |\r | YearlyRetentionDuration_s |十进制数 |所配置备份的总保留时间（按年算） |\r | YearlyRetentionTimes_s |文本 |配置每年保留时的日期和时间 |\r | YearlyRetentionMonthsOfTheYear_s |文本 |选择进行每年保留的月份 |\r | YearlyRetentionFormat_s |文本 |每年保留的配置类型，例如基于日期的每日、基于周次的每周 |\r | YearlyRetentionDaysOfTheMonth_s |文本 |选择进行每年保留的日期 |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"policyassociation\"></a>PolicyAssociation\r 此表提供有关策略与各个实体之间的关联的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |策略对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此策略所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - PolicyAssociation |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | PolicyUniqueId_g |文本 |用于标识策略的唯一 ID |\r | VaultUniqueId_s |文本 |此策略所属的保管库的唯一 ID |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"protectedserver\"></a>ProtectedServer\r 此表提供了受保护服务器相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | ProtectedServerName_s |文本 |受保护的服务器的名称 |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |受保护服务器对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此受保护服务器所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - ProtectedServer |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | ProtectedServerUniqueId_s |文本 |受保护服务器的唯一 ID |\r | RegisteredContainerId_s |文本 |注册用于备份的容器的 ID |\r | ProtectedServerType_s |文本 |备份的受保护服务器的类型，例如 Windows |\r | ProtectedServerFriendlyName_s |文本 |受保护的服务器的友好名称 |\r | AzureBackupAgentVersion_s |文本 |代理备份版本的版本号 |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"protectedserverassociation\"></a>ProtectedServerAssociation\r 此表提供有关受保护服务器与其他实体之间的关联的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |受保护服务器关联对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此受保护服务器所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - ProtectedServerAssociation |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | ProtectedServerUniqueId_s |文本 |受保护服务器的唯一 ID |\r | VaultUniqueId_s |文本 |此受保护服务器所属的保管库的唯一 ID |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"storage\"></a>存储\r 此表提供存储相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | CloudStorageInBytes_s |十进制数 |备份所用的云备份存储量，基于最新值进行计算 |\r | ProtectedInstances_s |十进制数 |用于计算账单中前端存储量的受保护实例的数目，基于最新值进行计算 |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |存储对象的当前状态，例如 Active、Deleted |\r | BackupManagementType_s |文本 |执行备份的提供程序类型，例如此存储所属的 IaaSVM、FileFolder |\r | OperationName |文本 |此字段表示当前操作的名称 - Storage |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | ProtectedServerUniqueId_s |文本 |为其计算存储的受保护服务器的唯一 ID |\r | VaultUniqueId_s |文本 |为其计算存储的保管库的唯一 ID |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r ### <a name=\"vault\"></a>保管库\r 此表提供保管库相关字段的详细信息。\r \r | 字段 | 数据类型 | 说明 |\r | --- | --- | --- |\r | EventName_s |文本 |此字段表示此事件的名称，始终为 AzureBackupCentralReport |\r | SchemaVersion_s |文本 |此字段表示架构的当前版本，值为 **V1** |\r | State_s |文本 |保管库对象的当前状态，例如 Active、Deleted |\r | OperationName |文本 |此字段表示当前操作的名称 - Vault |\r | 类别 |文本 |此字段表示推送到 Log Analytics 的诊断数据的类别，值为 AzureBackupReport |\r | 资源 |文本 |这是正在收集其数据的资源，显示恢复服务保管库名称 |\r | VaultUniqueId_s |文本 |保管库的唯一 ID |\r | VaultName_s |文本 |保管库的名称 |\r | AzureDataCenter_s |文本 |保管库所在的数据中心 |\r | StorageReplicationType_s |文本 |保管库存储复制的类型，例如 GeoRedundant |\r | SourceSystem |文本 |当前数据的源系统 - Azure |\r | ResourceId |文本 |此字段表示正在收集其数据的资源 ID，显示恢复服务保管库资源 ID |\r | SubscriptionId |文本 |此字段表示正在收集其数据的资源（RS 保管库）的订阅 ID |\r | resourceGroup |文本 |此字段表示正在收集其数据的资源（RS 保管库）的资源组 |\r | ResourceProvider |文本 |此字段表示正在收集其数据的资源提供程序 - Microsoft.RecoveryServices |\r | ResourceType |文本 |此字段表示正在收集其数据的资源的类型 - Vaults |\r \r "}